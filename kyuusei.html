<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title data-i18n="title">ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ Â· 5XLiving</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="icon" href="data:,">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#0b0f14; --card:#11161dcc; --line:#1f2a36; --text:#e8edf3; --muted:#98a7b7;
    --brand:#d4af37; --gold:#d4af37; --gold2:#f2d27a; --accent:#58b9ff;
    --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.35);
  }
  html,body{height:100%}
  body{
    margin:0; color:var(--text);
    background: radial-gradient(1200px 600px at 70% -10%, #16202b 10%, transparent 60%) no-repeat,
                linear-gradient(180deg,#0b0f14,#0b0f14);
    font-family: Inter,system-ui,-apple-system,"Noto Sans SC","Segoe UI",Roboto,Arial,sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  body::before{
    content:""; position:fixed; inset:0; z-index:-2;
    background:url('assets/images/gate.jpg') center/cover no-repeat;
    filter:brightness(.45) saturate(.9) blur(2px)
  }
  .container{max-width:1100px;margin:0 auto;padding:24px 16px 80px}

  /* å¤´éƒ¨æ ·å¼ï¼ˆç»Ÿä¸€ç‰ˆï¼‰ */
  .site-header{
    position:sticky; top:0; z-index:10;
    background:#0b0f14cc;
    border-bottom:1px solid #0f1622;
    backdrop-filter:saturate(140%) blur(12px);
  }
  .head-inner{
    display:flex; align-items:center; justify-content:space-between;
    gap:14px; padding:14px 16px;
  }
  .brand{
    display:flex; align-items:center; gap:10px;
    text-decoration:none; color:var(--text)
  }
  .brand-badge{
    display:inline-grid; place-items:center;
    width:34px; height:34px; border-radius:8px;
    background:linear-gradient(180deg,#0e1520,#0b1018);
    border:1px solid #2a3546; box-shadow:0 4px 14px rgba(0,0,0,.35);
    font-weight:800; color:#ffe084;
  }
  .title{
    font-family:"Noto Serif SC",serif;
    font-weight:700; letter-spacing:.02em;
  }

  .lang{display:flex; align-items:center; gap:8px}
  .lang label{white-space:nowrap; color:var(--muted); margin-right:4px}
  .lang select{
    appearance:none; min-width:170px;
    border-radius:10px; border:1px solid #243244;
    background:#0e1520; color:var(--text);
    padding:10px 34px 10px 12px; font-size:.95rem;
    background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2398a7b7' stroke-width='2' fill='none'/%3E%3C/svg%3E");
    background-repeat:no-repeat; background-position:calc(100% - 12px) 50%;
  }

  .section{margin-top:18px}
  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    backdrop-filter:blur(10px);
    padding:18px;
    margin:16px 0;
  }
  .h2{
    font-size:1.2rem;margin:0 0 12px;
    font-weight:800;color:#ffe084;
    display:flex;gap:8px;align-items:center
  }
  .h2::before{
    content:"";width:4px;height:18px;
    background:var(--brand);border-radius:2px
  }

  .row{display:grid;gap:12px}
  @media(min-width:760px){
    .row.cols-3{grid-template-columns:1fr 1fr 1fr}
    .row.cols-2{grid-template-columns:1fr 1fr}
  }

  input,select,textarea{
    width:100%;box-sizing:border-box;border-radius:12px;
    border:1px solid #243244;background:#0e1520;color:var(--text);
    padding:12px 12px;font-size:15px;outline:none;
  }
  input::placeholder{color:#6f8092}
  .btn{
    display:inline-grid;place-items:center;
    padding:12px 16px;border-radius:12px;
    border:1px solid #e6c76e;
    background:linear-gradient(180deg,#fff9e6,#e6c76e);
    color:#191919;font-weight:800;cursor:pointer
  }
  .btn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(230,199,110,.5)}
  .btn[disabled]{opacity:.6;cursor:not-allowed}
  .btn.ghost{
    background:transparent;color:var(--gold2);
    border:1px solid rgba(212,175,55,.45);box-shadow:none
  }
  .btn.block{display:block;width:100%}
  .muted{color:var(--muted)}
  .badge{
    display:inline-block;padding:4px 8px;margin:2px 4px 2px 0;
    background:rgba(212,175,55,.15);
    border:1px solid rgba(212,175,55,.3);
    border-radius:6px;font-size:.85rem
  }

  /* æ·±åº¦åˆ†æå¸ƒå±€ */
  .analysis-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
    margin-top: 20px;
  }
  @media (min-width: 768px) {
    .analysis-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
  .analysis-card {
    background: linear-gradient(145deg, rgba(17,22,29,0.9), rgba(12,16,22,0.9));
    border: 1px solid var(--line);
    border-radius: var(--radius);
    padding: 20px;
    position: relative;
  }
  .analysis-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }
  .analysis-title {
    font-family: "Noto Serif SC", serif;
    font-weight: 600;
    color: var(--gold2);
    margin-bottom: 12px;
    font-size: 1.1rem;
  }
  .analysis-content {
    line-height: 1.6;
    font-size: 0.95rem;
  }

  .element-chart {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
    margin: 15px 0;
  }
  .element-item {
    text-align: center;
    padding: 10px 5px;
    border-radius: 8px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
  }
  .element-item.strong {
    background: rgba(212,175,55,0.2);
    border-color: var(--gold);
  }
  .element-name {
    font-weight: 600;
    margin-bottom: 4px;
  }
  .element-value {
    font-size: 0.9rem;
    color: var(--muted);
  }

  /* è¿åŠ¿æ—¶é—´çº¿ */
  .timeline { position: relative; padding-left: 20px; }
  .timeline::before {
    content: '';
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 2px;
    background: linear-gradient(180deg, var(--gold), transparent);
  }
  .timeline-item {
    position: relative;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  .timeline-item::before {
    content: '';
    position: absolute;
    left: -24px; top: 6px;
    width: 8px;height: 8px;border-radius: 50%;
    background: var(--gold);
  }
  .timeline-period {
    font-weight: 600;
    color: var(--gold2);
    margin-bottom: 5px;
  }

  /* ä¸“ä¸šå»ºè®® */
  .advice-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
    margin-top: 20px;
  }
  .advice-card {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 16px;
    transition: all 0.3s ease;
  }
  .advice-card:hover {
    border-color: var(--gold);
    transform: translateY(-2px);
  }
  .advice-category {
    font-weight: 600;
    color: var(--gold2);
    margin-bottom: 8px;
    font-size: 0.95rem;
  }

  .analysis-type-indicator {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(212,175,55,0.2);
    border: 1px solid var(--gold);
    border-radius: 20px;
    font-size: 0.85rem;
    color: var(--gold2);
    margin-left: 10px;
  }

  /* Butler AI + æŠ¥å‘Š sec æ ·å¼ */
  .report{margin-top:12px;display:grid;gap:10px}
  .report .sec{
    padding:12px;border:1px solid var(--line);
    background:#0e1520;border-radius:12px
  }
  .report .sec h3{
    margin:0 0 6px;color:var(--gold2);font-size:1.05rem
  }
  .report p,.report li{line-height:1.7}

  /* VIP åŒºåŸŸå¸ƒå±€ï¼ˆä¿ç•™ï¼‰ */
  .columns{display:grid;gap:12px;grid-template-columns:1fr}
  @media(min-width:900px){ .columns{grid-template-columns:1fr 1fr} }
  .list-block{
    border:1px solid #263448;
    background:#0e1520;
    border-radius:12px;padding:16px
  }
  .list-block ul{margin:.2rem 0 0;padding-left:1.1rem}
  .group-title{
    font-size:1.05rem;color:#ffe084;
    margin:6px 0 14px
  }
  .astro-auth{
    max-width:980px;margin:28px auto;
    padding:20px 18px;
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
    border:1px solid rgba(212,175,55,.22);
    border-radius:14px;
    box-shadow:0 18px 50px rgba(0,0,0,.35)
  }
  .auth-grid{display:grid;gap:18px;grid-template-columns:1.2fr .8fr}
  @media(max-width:860px){ .auth-grid{grid-template-columns:1fr} }
  .panel{
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
    border:1px solid rgba(212,175,55,.22);
    border-radius:14px;
    box-shadow:0 10px 30px rgba(0,0,0,.35)
  }
  .panel .head{
    padding:16px 18px;border-bottom:1px solid rgba(212,175,55,.22);
    color:var(--gold);font-weight:700;letter-spacing:.3px
  }
  .panel .body{padding:18px; overflow:hidden;}
  .spacer{height:12px}

  footer{
    color:#6c7b8c;font-size:.85rem;
    text-align:center;padding:30px 0
  }

  /* Butler chips / skeleton */
  .ai-content{white-space:pre-wrap;line-height:1.7}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
  .chip{
    padding:6px 10px;border-radius:999px;
    border:1px solid #2a3546;background:#0e1520;
    color:#e8edf3;cursor:pointer
  }
  .chip:hover{border-color:#f2d27a;box-shadow:0 0 0 2px rgba(242,210,122,.15) inset}
  .skeleton{display:grid;gap:8px}
  .skeleton div{
    height:12px;border-radius:6px;
    background:linear-gradient(90deg,#1a2431,#1f2b3b,#1a2431);
    animation:sh 1.2s infinite
  }
  @keyframes sh{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}

  .sr-only{
    position:absolute !important;
    width:1px;height:1px;padding:0;margin:-1px;
    overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
  }

.ss-chat-fab{
  position:fixed;right:18px;bottom:18px;z-index:50;width:56px;height:56px;border-radius:50%;
  background:linear-gradient(180deg,#fff9e6,#e6c76e);color:#191919;display:grid;place-items:center;font-weight:800;
  box-shadow:0 8px 30px rgba(0,0,0,.35);cursor:pointer;border:1px solid #e6c76e
}
.ss-chat-panel{
  position:fixed;right:18px;bottom:88px;z-index:50;width:min(460px,92vw);display:none;
  background:#0e1520;border:1px solid #243244;border-radius:14px;box-shadow:var(--shadow)
}

  .ss-chat-head{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 12px;border-bottom:1px solid #243244;
  background:#0b1018;border-radius:14px 14px 0 0;
}
.ss-chat-title{font-weight:600;color:#ffe084;font-size:.95rem}
.ss-close{
  border:none;background:transparent;color:#98a7b7;cursor:pointer;font-size:1rem;
}
.ss-chat-body{
  max-height:360px;min-height:160px;
  padding:10px 12px;overflow-y:auto;
  font-size:.9rem;line-height:1.6;
}
.ss-chat-input{
  display:flex;gap:8px;
  padding:10px;border-top:1px solid #243244;
  background:#0b1018;border-radius:0 0 14px 14px;
}
.ss-chat-input input{
  flex:1;border-radius:999px;border:1px solid #243244;
  background:#0e1520;color:var(--text);padding:8px 12px;font-size:.9rem;
}
.ss-chat-input .btn{
  padding:8px 14px;border-radius:999px;font-size:.9rem;
  white-space:nowrap;
}

.chat-bubble{
  display:inline-block;max-width:90%;
  padding:8px 10px;border-radius:10px;
  margin:4px 0;font-size:.9rem;
}
.chat-bubble.user{
  margin-left:auto;display:block;
  background:linear-gradient(180deg,#fff9e6,#e6c76e);
  color:#191919;
}
.chat-bubble.bot{
  background:#141c29;border:1px solid #243244;
}
  
  /* å°å±ä¼˜åŒ– */
  @media (max-width:520px){
    .title{font-size:1rem}
    .lang select{min-width:140px}
  }

  /* æ ¹å­—å·ä¸æ ‡é¢˜ç»Ÿä¸€ */
  html { font-size: 16px; }
  @media (min-width: 768px){ html { font-size: 17px; } }
  @media (min-width: 1200px){ html { font-size: 18px; } }
  .site-header .brand .title,
  .site-header .title{
    font-family: "Noto Serif SC","Noto Serif",serif !important;
    font-weight: 600 !important;
    letter-spacing: .02em;
    font-size: 1.1rem !important;
    line-height: 1.25;
  }
</style>
</head>
<body>
<header class="site-header">
  <div class="head-inner container">
    <a class="brand" href="https://astro.5xliving.com/" target="_self">
      <span class="brand-badge">5X</span>
      <span class="title">
        5xLiving Â· <span data-i18n="title_kyuusei_brief">ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ</span>
      </span>
    </a>

    <div class="lang">
      <label for="langSelect" class="muted" data-i18n="lang_label">è¯­è¨€</label>
      <select id="langSelect" aria-label="Language">
        <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
        <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
        <option value="en">English</option>
        <option value="ja-JP">æ—¥æœ¬èª</option>
        <option value="th-TH">à¹„à¸—à¸¢</option>
        <option value="ms">Bahasa Melayu</option>
      </select>
    </div>
  </div>
</header>

<main class="container">
  <!-- ä¸“ä¸šåˆ†æè¡¨å• -->
  <div class="card">
    <div class="h2" data-i18n="form_title">ä¹æ˜Ÿæ°”å­¦ Â· ä¸“ä¸šå‘½ç†åˆ†æ</div>
    <div class="row cols-3">
      <div>
        <label class="muted" data-i18n="birth_label">å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="birthdate">
      </div>
      <div>
        <label class="muted" data-i18n="gender_label">æ€§åˆ«</label>
        <select id="gender">
          <option value="male" data-i18n="gender_male">ç”·æ€§</option>
          <option value="female" data-i18n="gender_female">å¥³æ€§</option>
        </select>
      </div>
      <div>
        <label class="muted" data-i18n="analysis_type">åˆ†æç±»å‹</label>
        <select id="analysisType">
          <option value="comprehensive" data-i18n="analysis_type_comprehensive">ç»¼åˆå‘½ç†åˆ†æ</option>
          <option value="career" data-i18n="analysis_type_career">äº‹ä¸šè´¢è¿ä¸“é¡¹</option>
          <option value="relationship" data-i18n="analysis_type_relationship">æ„Ÿæƒ…å©šå§»ä¸“é¡¹</option>
          <option value="health" data-i18n="analysis_type_health">å¥åº·è¿åŠ¿ä¸“é¡¹</option>
        </select>
      </div>
    </div>
    <div style="margin-top:16px">
      <button id="go" class="btn block" data-i18n="btn_gen">ç”Ÿæˆä¸“ä¸šåˆ†ææŠ¥å‘Š</button>
    </div>
    <div class="muted" style="margin-top:8px;font-size:0.85rem" id="nowInfo"></div>
  </div>

  <!-- ä¸»æ˜Ÿåˆ†æ -->
  <div id="starCard" class="section card" style="display:none">
    <div class="h2">
      <span data-i18n="sec_star">æ‚¨çš„ä¹æ˜Ÿå‘½ç›˜åˆ†æ</span>
      <span class="analysis-type-indicator" id="analysisTypeIndicator"></span>
    </div>
    <div class="row cols-2">
      <div>
        <h3 style="color:var(--gold2); margin-bottom:12px;" data-i18n="sec_star_main">æœ¬å‘½ä¸»æ˜Ÿ</h3>
        <p><strong id="starName"></strong>ï¼ˆ<span id="starJP"></span>ï¼‰</p>
        <div id="starBadges" style="margin:12px 0"></div>
        <div id="starAbout" class="muted"></div>
      </div>
      <div>
        <h3 style="color:var(--gold2); margin-bottom:12px;" data-i18n="sec_star_elements">äº”è¡Œèƒ½é‡åˆ†å¸ƒ</h3>
        <div class="element-chart" id="elementChart"></div>
        <div id="elementAnalysis" class="muted" style="font-size:0.9rem; line-height:1.5"></div>
      </div>
    </div>
  </div>

  <!-- æ·±åº¦åˆ†æ -->
  <div id="analysisCard" class="section card" style="display:none">
    <div class="h2" data-i18n="sec_deep">æ·±åº¦å‘½ç†è§£è¯»</div>
    <div class="analysis-grid">
      <div class="analysis-card">
        <div class="analysis-title" data-i18n="sec_personality">æ€§æ ¼ç‰¹è´¨åˆ†æ</div>
        <div class="analysis-content" id="personalityAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" data-i18n="sec_talent">å¤©èµ‹æ½œèƒ½</div>
        <div class="analysis-content" id="talentAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" data-i18n="sec_challenge">äººç”Ÿè¯¾é¢˜</div>
        <div class="analysis-content" id="challengeAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" data-i18n="sec_development">å‘å±•å»ºè®®</div>
        <div class="analysis-content" id="developmentAdvice"></div>
      </div>
    </div>
  </div>

  <!-- ä¸“é¡¹åˆ†æ -->
  <div id="specializedCard" class="section card" style="display:none">
    <div class="h2" id="specializedTitle">ä¸“é¡¹æ·±åº¦åˆ†æ</div>
    <div class="analysis-grid">
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle1">æ ¸å¿ƒåˆ†æ</div>
        <div class="analysis-content" id="specializedContent1"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle2">å…³é”®æœºé‡</div>
        <div class="analysis-content" id="specializedContent2"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle3">é£é™©æç¤º</div>
        <div class="analysis-content" id="specializedContent3"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle4">è¡ŒåŠ¨æŒ‡å—</div>
        <div class="analysis-content" id="specializedContent4"></div>
      </div>
    </div>
  </div>

  <!-- è¿åŠ¿åˆ†æ -->
  <div id="fortuneCard" class="section card" style="display:none">
    <div class="h2" data-i18n="sec_fortune">è¿åŠ¿èµ°åŠ¿åˆ†æ</div>
    <div class="timeline" id="fortuneTimeline"></div>
  </div>

  <!-- ä¸“ä¸šå»ºè®® -->
  <div id="adviceCard" class="section card" style="display:none">
    <div class="h2" data-i18n="sec_advice">ä¸“ä¸šè°ƒæ•´å»ºè®®</div>
    <div class="advice-grid">
      <div class="advice-card">
        <div class="advice-category" data-i18n="advice_direction">æ–¹ä½è°ƒæ•´</div>
        <div id="directionAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category" data-i18n="advice_color">è‰²å½©è¿ç”¨</div>
        <div id="colorAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category" data-i18n="advice_career">èŒä¸šå‘å±•</div>
        <div id="careerAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category" data-i18n="advice_relationship">äººé™…å…³ç³»</div>
        <div id="relationshipAdvice"></div>
      </div>
    </div>
  </div>

  <!-- Butler AI è§£è¯»ï¼ˆå¹³é¢ GPT åŒºï¼‰ -->
  <div id="aiCard" class="section card" style="display:none">
    <div class="h2" data-i18n="sec_ai">å¿ƒæ€œç®¡å®¶è§£è¯»ä¸å»ºè®®</div>
    <pre id="aiText" class="ai-content"></pre>
    <div id="aiChips" class="chips"></div>
    <div id="aiReco" style="margin-top:10px"></div>
  </div>

  <!-- ä¼šå‘˜ä¸“åŒºï¼ˆåŸæ ·ä¿ç•™ï¼‰ -->
  <section class="card section">
    <h2 class="group-title" data-i18n="vip_title">ğŸŒ™ ä¼šå‘˜åŒºåŸŸ VIP Segment</h2>
    <div class="columns">
      <div class="list-block">
        <div class="group-title" data-i18n="vip_mingli">ğŸ— å‘½ç†ç©ºé—´ä¸“å±å†…å®¹</div>
        <ul>
          <li data-i18n="vip_love">å§»ç¼˜æ–¹å‘ï¼šæ‹çˆ±ç¼˜åˆ†ã€å©šå§»èµ°åŠ¿</li>
          <li data-i18n="vip_career">äº‹ä¸šæ–¹å‘ï¼šèŒåœºå‘å±•ã€åˆ›ä¸šæ½œåŠ›</li>
          <li data-i18n="vip_wealth">è´¢è¿æ–¹å‘ï¼šè´¢ä½åˆ†æã€ç†è´¢æ—¶æœº</li>
          <li data-i18n="vip_pet">å® ç‰©å‘½ç†ï¼šä¼´ä¾£åŠ¨ç‰©çš„æ€§æ ¼ä¸ç¼˜åˆ†</li>
          <li data-i18n="vip_hepan">åˆç›˜åˆ†æï¼šå©šæœŸæ‹©æ—¥ã€æ–°ç”Ÿæ‹©æ—¶</li>
          <li data-i18n="vip_name">æµ‹ååˆ†æï¼šå…¬å¸åã€å®å®åã€å‘½åæ”¹è¿</li>
          <li data-i18n="vip_fengshui">è´¢ä½åˆç›˜ï¼šä½å®¶ / åŠå…¬å®¤åŠ¨çº¿é…åˆ</li>
        </ul>
      </div>
      <div class="list-block">
        <div class="group-title" data-i18n="vip_xinlian">ğŸŒ™ å¿ƒæ€œç©ºé—´ä¸“å±å†…å®¹</div>
        <ul>
          <li data-i18n="vip_record">çµæ€§è®°å½•ï¼šç…§ç‰‡ã€æ¢¦å¢ƒã€å£°éŸ³ã€æ„¿æœ›ç¥ˆç¥·</li>
          <li data-i18n="vip_course">å‘½ç†è¯¾ç¨‹ï¼šå…«å­— / å¡”ç½— / å æ˜Ÿ / çµæ•° / äººç±»å›¾</li>
          <li data-i18n="vip_memorial">å®¶æ—çºªå¿µç³»ç»Ÿï¼šäº²äººçµæ€§çºªå¿µ & å»¶ç»­</li>
          <li data-i18n="vip_tasks">æ¯å‘¨èƒ½é‡ç»ƒä¹  / ç¥æ˜ä»ªå¼ä»»åŠ¡</li>
          <li data-i18n="vip_shop">èƒ½é‡å•†åŸä¸“å±æŠ˜æ‰£ & å¾¡å®ˆè®¢åˆ¶</li>
        </ul>
      </div>
    </div>

    <div class="group-title" style="margin-top:14px" data-i18n="login_title">ğŸ’ ç™»å…¥ VIP åŠŸèƒ½</div>

    <section class="astro-auth">
      <div class="auth-grid">
        <!-- å·¦ä¾§ï¼šè¾“å…¥ + æ³¨å†Œ/ç™»å½• -->
        <div class="panel">
          <div class="head" data-i18n="panel_login_head">è´¦æˆ·ç™»å½• / æ³¨å†Œ</div>
          <div class="body">
            <div class="row" id="authFields">
              <label for="email" class="sr-only" data-i18n="ph_email">é‚®ç®± Email</label>
              <input
                id="email"
                name="email"
                type="email"
                inputmode="email"
                autocomplete="username"
                placeholder=""
                data-i18n-ph="ph_email"
                required
              />
              <label for="password" class="sr-only" data-i18n="ph_label_password">å¯†ç  Password</label>
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="current-password"
                placeholder="å¯†ç  Passwordï¼ˆè‡³å°‘8ä½ï¼Œå«å¤§å°å†™æ•°å­—ç¬¦å·ï¼‰"
                data-i18n-ph="ph_password"
                required
              />
            </div>
            <div class="spacer"></div>
            <form id="loginForm" class="row one">
              <button class="btn block" id="loginBtn" type="submit" data-i18n="btn_login">ç™»å…¥è´¦æˆ·</button>
            </form>
            <div class="spacer"></div>
            <div class="row one">
              <button class="btn ghost block" id="resetBtn" type="button" data-i18n="btn_reset">ğŸ”‘ é‡è®¾å¯†ç </button>
            </div>
            <div class="spacer"></div>
            <form class="row one" id="registerForm">
              <button class="btn block" id="registerBtn" type="submit" data-i18n="btn_register">æ³¨å†Œè´¦æˆ·</button>
              <div class="muted" data-i18n="note_price">æ³¨å†Œè´¦å·èµ é€ä¸€æ¬¡å…è´¹ä½“éªŒ</div>
              <div class="spacer"></div>
              <div class="error-message" id="authError" style="display:none"></div>
            </form>
          </div>
        </div>

        <!-- å³ä¾§ï¼šä¼šå‘˜ä¸è¿”å› -->
        <div class="panel">
          <div class="head" data-i18n="panel_member_head">ä¼šå‘˜æœåŠ¡</div>
          <div class="body">
            <div class="row one">
              <a class="btn btn-gold block" href="https://yourshopifyshop.com/products/monthly-vip" target="_blank" rel="noopener noreferrer" data-i18n="btn_upgrade">ğŸ’ å‡çº§ä¸º VIPï¼ˆæœˆè´¹ï¼‰</a>
            </div>
            <div class="spacer"></div>
            <div class="row one">
              <a class="btn ghost block" href="https://yourshopifyshop.myshopify.com" target="_blank" rel="noopener noreferrer" data-i18n="btn_backshop">â† è¿”å›å‘½ç†å•†åŸ</a>
            </div>
            <div class="spacer"></div>
            <div class="muted" data-i18n="note_price1">$9.9 / æœˆè´¹ VIPï¼ˆå‘½ç†ç©ºé—´ + å¿ƒæ€œç©ºé—´ + çµæ€§è¯¾ç¨‹ï¼‰</div>
          </div>
        </div>
      </div>
    </section>
  </section>

  <footer>Â© 5XLiving â€¢ Astro Sanctuary</footer>
</main>

<!-- æµ®åŠ¨èŠå¤©æŒ‰é’® -->
<button class="ss-chat-fab" id="ssChatFab" type="button" aria-label="å¿ƒæ€œç®¡å®¶">
  <span data-i18n="chat_fab">é—®</span>
</button>

<!-- æµ®åŠ¨èŠå¤©é¢æ¿ -->
<div class="ss-chat-panel" id="ssChatPanel" role="dialog" aria-modal="true" aria-labelledby="ssChatTitle">
  <div class="ss-chat-head">
    <div class="ss-chat-title" id="ssChatTitle" data-i18n="chat_title">å¿ƒæ€œç®¡å®¶ Â· Chat</div>
    <button class="ss-close" id="ssChatClose" type="button">âœ•</button>
  </div>
  <div class="ss-chat-body" id="ssChatBody"></div>
  <div class="ss-chat-input">
    <input
      id="ssChatInput"
      type="text"
      data-i18n-ph="chat_placeholder"
      placeholder="è¯·é—®æ‚¨æƒ³äº†è§£ä»€ä¹ˆï¼Ÿï¼ˆå¦‚ï¼šå¦‚ä½•å¼€å§‹å…è´¹ä½“éªŒï¼‰"
    />
    <button class="btn" id="ssChatSend" type="button" data-i18n="chat_send">å‘é€</button>
  </div>
</div>  

<script>
/* ===== åŸºæœ¬é…ç½® ===== */
const API_BASE = 'https://throbbing-lab-1440.hello5xliving.workers.dev';
const LANG_KEY = "site_lang";

/* å·¥å…· */
const $  = id => document.getElementById(id);
const getLang = () => localStorage.getItem(LANG_KEY) || document.documentElement.lang || "zh-CN";
const setLang = v => { localStorage.setItem(LANG_KEY, v); document.documentElement.lang = v; };

/* ===== i18n è¯åº“ ===== */
const i18n = {
  "zh-CN": {
    title:"ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ Â· 5XLiving",
    title_kyuusei_brief:"ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ",
    lang_label:"è¯­è¨€",
    form_title:"ä¹æ˜Ÿæ°”å­¦ Â· ä¸“ä¸šå‘½ç†åˆ†æ",
    birth_label:"å‡ºç”Ÿæ—¥æœŸ",
    gender_label:"æ€§åˆ«",
    gender_male:"ç”·æ€§",
    gender_female:"å¥³æ€§",
    analysis_type:"åˆ†æç±»å‹",
    analysis_type_comprehensive:"ç»¼åˆå‘½ç†åˆ†æ",
    analysis_type_career:"äº‹ä¸šè´¢è¿ä¸“é¡¹",
    analysis_type_relationship:"æ„Ÿæƒ…å©šå§»ä¸“é¡¹",
    analysis_type_health:"å¥åº·è¿åŠ¿ä¸“é¡¹",
    btn_gen:"ç”Ÿæˆä¸“ä¸šåˆ†ææŠ¥å‘Š",
    now_info_prefix:"å½“å‰ç³»ç»Ÿæ—¶é—´ï¼š",
    sec_star:"æ‚¨çš„ä¹æ˜Ÿå‘½ç›˜åˆ†æ",
    sec_star_main:"æœ¬å‘½ä¸»æ˜Ÿ",
    sec_star_elements:"äº”è¡Œèƒ½é‡åˆ†å¸ƒ",
    sec_deep:"æ·±åº¦å‘½ç†è§£è¯»",
    sec_personality:"æ€§æ ¼ç‰¹è´¨åˆ†æ",
    sec_talent:"å¤©èµ‹æ½œèƒ½",
    sec_challenge:"äººç”Ÿè¯¾é¢˜",
    sec_development:"å‘å±•å»ºè®®",
    sec_fortune:"è¿åŠ¿èµ°åŠ¿åˆ†æ",
    sec_advice:"ä¸“ä¸šè°ƒæ•´å»ºè®®",
    advice_direction:"æ–¹ä½è°ƒæ•´",
    advice_color:"è‰²å½©è¿ç”¨",
    advice_career:"èŒä¸šå‘å±•",
    advice_relationship:"äººé™…å…³ç³»",
    sec_ai:"å¿ƒæ€œç®¡å®¶è§£è¯»ä¸å»ºè®®",

    // ä¸“é¡¹åˆ†ææ ‡é¢˜
    spec_title:"ä¸“é¡¹æ·±åº¦åˆ†æ",
    spec_core:"æ ¸å¿ƒåˆ†æ",
    spec_opportunity:"å…³é”®æœºé‡",
    spec_risk:"é£é™©æç¤º",
    spec_action:"è¡ŒåŠ¨æŒ‡å—",

    badge_elem:"äº”è¡Œ", badge_color:"è‰²", badge_kw:"å…³é”®è¯",
    about_label:"æ€§æ ¼å€¾å‘",

    please_birth:"è¯·å…ˆé€‰æ‹©å‡ºç”Ÿæ—¥æœŸ",
    bad_date:"æ—¥æœŸæ ¼å¼æœ‰è¯¯",
    generating:"æ­£åœ¨ç”Ÿæˆè§£è¯»â€¦",
    retry:"æŠ±æ­‰ï¼Œæš‚æ—¶æ— æ³•ç”Ÿæˆï¼Œè¯·ç¨åå†è¯•ã€‚",
    neterr:"ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•ã€‚",

    vip_title:"ğŸŒ™ ä¼šå‘˜åŒºåŸŸ VIP Segment",
    vip_mingli:"ğŸ— å‘½ç†ç©ºé—´ä¸“å±å†…å®¹",
    vip_xinlian:"ğŸŒ™ å¿ƒæ€œç©ºé—´ä¸“å±å†…å®¹",
    vip_love:"å§»ç¼˜æ–¹å‘ï¼šæ‹çˆ±ç¼˜åˆ†ã€å©šå§»èµ°åŠ¿",
    vip_career:"äº‹ä¸šæ–¹å‘ï¼šèŒåœºå‘å±•ã€åˆ›ä¸šæ½œåŠ›",
    vip_wealth:"è´¢è¿æ–¹å‘ï¼šè´¢ä½åˆ†æã€ç†è´¢æ—¶æœº",
    vip_pet:"å® ç‰©å‘½ç†ï¼šä¼´ä¾£åŠ¨ç‰©çš„æ€§æ ¼ä¸ç¼˜åˆ†",
    vip_hepan:"åˆç›˜åˆ†æï¼šå©šæœŸæ‹©æ—¥ã€æ–°ç”Ÿæ‹©æ—¶",
    vip_name:"æµ‹ååˆ†æï¼šå…¬å¸åã€å®å®åã€å‘½åæ”¹è¿",
    vip_fengshui:"è´¢ä½åˆç›˜ï¼šä½å®¶ / åŠå…¬å®¤åŠ¨çº¿é…åˆ",
    vip_record:"çµæ€§è®°å½•ï¼šç…§ç‰‡ã€æ¢¦å¢ƒã€å£°éŸ³ã€æ„¿æœ›ç¥ˆç¥·",
    vip_course:"å‘½ç†è¯¾ç¨‹ï¼šå…«å­— / å¡”ç½— / å æ˜Ÿ / çµæ•° / äººç±»å›¾",
    vip_memorial:"å®¶æ—çºªå¿µç³»ç»Ÿï¼šäº²äººçµæ€§çºªå¿µ & å»¶ç»­",
    vip_tasks:"æ¯å‘¨èƒ½é‡ç»ƒä¹  / ç¥æ˜ä»ªå¼ä»»åŠ¡",
    vip_shop:"èƒ½é‡å•†åŸä¸“å±æŠ˜æ‰£ & å¾¡å®ˆè®¢åˆ¶",
    login_title:"ğŸ’ ç™»å…¥ VIP åŠŸèƒ½",

    ph_email:"é‚®ç®± Email",
    ph_password:"å¯†ç  Passwordï¼ˆè‡³å°‘8ä½ï¼Œå«å¤§å°å†™æ•°å­—ç¬¦å·ï¼‰",
    ph_label_password:"å¯†ç  Password",
    panel_login_head:"è´¦æˆ·ç™»å½• / æ³¨å†Œ",
    panel_member_head:"ä¼šå‘˜æœåŠ¡",
    btn_login:"ç™»å…¥è´¦æˆ·",
    btn_reset:"ğŸ”‘ é‡è®¾å¯†ç ",
    btn_register:"æ³¨å†Œè´¦æˆ·",
    btn_upgrade:"ğŸ’ å‡çº§ä¸º VIPï¼ˆæœˆè´¹ï¼‰",
    btn_backshop:"â† è¿”å›å‘½ç†å•†åŸ",
    note_price:"æ³¨å†Œè´¦å·èµ é€ä¸€æ¬¡å…è´¹ä½“éªŒ",
    note_price1:"$9.9 / æœˆè´¹ VIPï¼ˆå‘½ç†ç©ºé—´ + å¿ƒæ€œç©ºé—´ + çµæ€§è¯¾ç¨‹ï¼‰",

    // AI èŠ¯ç‰‡
    chip_career:"äº‹ä¸š",
    chip_love:"æ„Ÿæƒ…",
    chip_money:"è´¢è¿",
    chip_list:"ä»Šæ—¥å¾…åŠ",
    chip_30d:"30å¤©å»ºè®®",

    // æµ®åŠ¨ Chat
    chat_fab:"é—®",
    chat_title:"å¿ƒæ€œç®¡å®¶ Â· Chat",
    chat_placeholder:"è¯·é—®æ‚¨æƒ³äº†è§£ä»€ä¹ˆï¼Ÿï¼ˆå¦‚ï¼šå¦‚ä½•å¼€å§‹å…è´¹ä½“éªŒï¼‰",
    chat_send:"å‘é€",
  },

  "zh-TW": {
    title:"ä¹æ˜Ÿæ°£å­¸æ·±åº¦åˆ†æ Â· 5XLiving",
    title_kyuusei_brief:"ä¹æ˜Ÿæ°£å­¸æ·±åº¦åˆ†æ",
    lang_label:"èªè¨€",
    form_title:"ä¹æ˜Ÿæ°£å­¸ Â· å°ˆæ¥­å‘½ç†åˆ†æ",
    birth_label:"å‡ºç”Ÿæ—¥æœŸ",
    gender_label:"æ€§åˆ¥",
    gender_male:"ç”·æ€§",
    gender_female:"å¥³æ€§",
    analysis_type:"åˆ†æé¡å‹",
    analysis_type_comprehensive:"ç¶œåˆå‘½ç†åˆ†æ",
    analysis_type_career:"äº‹æ¥­è²¡é‹å°ˆé …",
    analysis_type_relationship:"æ„Ÿæƒ…å©šå§»å°ˆé …",
    analysis_type_health:"å¥åº·é‹å‹¢å°ˆé …",
    btn_gen:"ç”Ÿæˆå°ˆæ¥­åˆ†æå ±å‘Š",
    now_info_prefix:"ç•¶å‰ç³»çµ±æ™‚é–“ï¼š",
    sec_star:"æ‚¨çš„ä¹æ˜Ÿå‘½ç›¤åˆ†æ",
    sec_star_main:"æœ¬å‘½ä¸»æ˜Ÿ",
    sec_star_elements:"äº”è¡Œèƒ½é‡åˆ†ä½ˆ",
    sec_deep:"æ·±åº¦å‘½ç†è§£è®€",
    sec_personality:"æ€§æ ¼ç‰¹è³ªåˆ†æ",
    sec_talent:"å¤©è³¦æ½›èƒ½",
    sec_challenge:"äººç”Ÿèª²é¡Œ",
    sec_development:"ç™¼å±•å»ºè­°",
    sec_fortune:"é‹å‹¢èµ°å‹¢åˆ†æ",
    sec_advice:"å°ˆæ¥­èª¿æ•´å»ºè­°",
    advice_direction:"æ–¹ä½èª¿æ•´",
    advice_color:"è‰²å½©é‹ç”¨",
    advice_career:"è·æ¶¯ç™¼å±•",
    advice_relationship:"äººéš›é—œä¿‚",
    sec_ai:"å¿ƒæ†ç®¡å®¶è§£è®€èˆ‡å»ºè­°",

    spec_title:"å°ˆé …æ·±åº¦åˆ†æ",
    spec_core:"æ ¸å¿ƒåˆ†æ",
    spec_opportunity:"é—œéµæ©Ÿé‡",
    spec_risk:"é¢¨éšªæç¤º",
    spec_action:"è¡Œå‹•æŒ‡å—",

    badge_elem:"äº”è¡Œ",
    badge_color:"è‰²",
    badge_kw:"é—œéµè©",
    about_label:"æ€§æ ¼å‚¾å‘",

    please_birth:"è«‹å…ˆé¸æ“‡å‡ºç”Ÿæ—¥æœŸ",
    bad_date:"æ—¥æœŸæ ¼å¼æœ‰èª¤",
    generating:"æ­£åœ¨ç”Ÿæˆè§£è®€â€¦",
    retry:"æŠ±æ­‰ï¼Œæš«æ™‚ç„¡æ³•ç”Ÿæˆï¼Œè«‹ç¨å¾Œå†è©¦ã€‚",
    neterr:"ç¶²è·¯ç•°å¸¸ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚",

    vip_title:"ğŸŒ™ æœƒå“¡å€åŸŸ VIP Segment",
    vip_mingli:"ğŸ— å‘½ç†ç©ºé–“å°ˆå±¬å…§å®¹",
    vip_xinlian:"ğŸŒ™ å¿ƒæ†ç©ºé–“å°ˆå±¬å…§å®¹",
    vip_love:"å§»ç·£æ–¹å‘ï¼šæˆ€æ„›ç·£åˆ†ã€å©šå§»èµ°å‹¢",
    vip_career:"äº‹æ¥­æ–¹å‘ï¼šè·å ´ç™¼å±•ã€å‰µæ¥­æ½›åŠ›",
    vip_wealth:"è²¡é‹æ–¹å‘ï¼šè²¡ä½åˆ†æã€ç†è²¡æ™‚æ©Ÿ",
    vip_pet:"å¯µç‰©å‘½ç†ï¼šä¼´ä¾¶å‹•ç‰©çš„æ€§æ ¼èˆ‡ç·£åˆ†",
    vip_hepan:"åˆç›¤åˆ†æï¼šå©šæœŸæ“‡æ—¥ã€æ–°ç”Ÿæ“‡æ™‚",
    vip_name:"æ¸¬ååˆ†æï¼šå…¬å¸åã€å¯¶å¯¶åã€å‘½åæ”¹é‹",
    vip_fengshui:"è²¡ä½åˆç›¤ï¼šä½å®¶ / è¾¦å…¬å®¤å‹•ç·šé…åˆ",
    vip_record:"éˆæ€§è¨˜éŒ„ï¼šç…§ç‰‡ã€å¤¢å¢ƒã€è²éŸ³ã€é¡˜æœ›ç¥ˆç¦±",
    vip_course:"å‘½ç†èª²ç¨‹ï¼šå…«å­— / å¡”ç¾… / å æ˜Ÿ / éˆæ•¸ / äººé¡åœ–",
    vip_memorial:"å®¶æ—ç´€å¿µç³»çµ±ï¼šè¦ªäººéˆæ€§ç´€å¿µèˆ‡å»¶çºŒ",
    vip_tasks:"æ¯é€±èƒ½é‡ç·´ç¿’ / ç¥æ˜å„€å¼ä»»å‹™",
    vip_shop:"èƒ½é‡å•†åŸå°ˆå±¬æŠ˜æ‰£èˆ‡å¾¡å®ˆè¨‚è£½",
    login_title:"ğŸ’ ç™»å…¥ VIP åŠŸèƒ½",

    ph_email:"ä¿¡ç®± Email",
    ph_password:"å¯†ç¢¼ Passwordï¼ˆè‡³å°‘ 8 ç¢¼ï¼Œå«å¤§å°å¯«æ•¸å­—ç¬¦è™Ÿï¼‰",
    ph_label_password:"å¯†ç¢¼ Password",
    panel_login_head:"å¸³æˆ¶ç™»å…¥ / è¨»å†Š",
    panel_member_head:"æœƒå“¡æœå‹™",
    btn_login:"ç™»å…¥å¸³æˆ¶",
    btn_reset:"ğŸ”‘ é‡è¨­å¯†ç¢¼",
    btn_register:"è¨»å†Šå¸³æˆ¶",
    btn_upgrade:"ğŸ’ å‡ç´šç‚º VIPï¼ˆæœˆè²»ï¼‰",
    btn_backshop:"â† è¿”å›å‘½ç†å•†åŸ",
    note_price:"è¨»å†Šå¸³è™Ÿè´ˆé€ä¸€æ¬¡å…è²»é«”é©—",
    note_price1:"$9.9 / æœˆè²» VIPï¼ˆå‘½ç†ç©ºé–“ + å¿ƒæ†ç©ºé–“ + éˆæ€§èª²ç¨‹ï¼‰",

    chip_career:"äº‹æ¥­",
    chip_love:"æ„Ÿæƒ…",
    chip_money:"è²¡é‹",
    chip_list:"ä»Šæ—¥å¾…è¾¦",
    chip_30d:"30 å¤©å»ºè­°",

    chat_fab:"å•",
    chat_title:"å¿ƒæ†ç®¡å®¶ Â· Chat",
    chat_placeholder:"è«‹å•æ‚¨æƒ³äº†è§£ä»€éº¼ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå¦‚ä½•é–‹å§‹å…è²»é«”é©—ï¼‰",
    chat_send:"é€å‡º",
  },

  "en": {
    title:"Kyuusei Deep Analysis Â· 5XLiving",
    title_kyuusei_brief:"Kyuusei Deep Analysis",
    lang_label:"Language",
    form_title:"Kyuusei Â· Professional Destiny Analysis",
    birth_label:"Birth date",
    gender_label:"Gender",
    gender_male:"Male",
    gender_female:"Female",
    analysis_type:"Analysis type",
    analysis_type_comprehensive:"Comprehensive destiny analysis",
    analysis_type_career:"Career & wealth focus",
    analysis_type_relationship:"Love & marriage focus",
    analysis_type_health:"Health focus",
    btn_gen:"Generate professional analysis report",
    now_info_prefix:"Current system time: ",
    sec_star:"Your Kyuusei chart analysis",
    sec_star_main:"Main star",
    sec_star_elements:"Five Elements distribution",
    sec_deep:"In-depth destiny reading",
    sec_personality:"Personality traits",
    sec_talent:"Talents & potentials",
    sec_challenge:"Life lessons",
    sec_development:"Development advice",
    sec_fortune:"Fortune trend analysis",
    sec_advice:"Professional adjustment advice",
    advice_direction:"Direction adjustment",
    advice_color:"Colour usage",
    advice_career:"Career development",
    advice_relationship:"Relationships",
    sec_ai:"Xinlian Butler Â· Insights & Advice",

    spec_title:"Focused deep analysis",
    spec_core:"Core insight",
    spec_opportunity:"Key opportunities",
    spec_risk:"Risk alerts",
    spec_action:"Action guide",

    badge_elem:"Element",
    badge_color:"Colour",
    badge_kw:"Keywords",
    about_label:"Personality tendency",

    please_birth:"Please select your birth date first",
    bad_date:"Invalid date format",
    generating:"Generating your readingâ€¦",
    retry:"Sorry, unable to generate for now. Please try again later.",
    neterr:"Network error. Please try again later.",

    vip_title:"ğŸŒ™ VIP Area Â· VIP Segment",
    vip_mingli:"ğŸ— Destiny Space Â· Members-only content",
    vip_xinlian:"ğŸŒ™ Xinlian Space Â· Members-only content",
    vip_love:"Love: relationship destiny and marriage trends",
    vip_career:"Career: workplace development and entrepreneurship potential",
    vip_wealth:"Wealth: wealth position analysis and timing for finance",
    vip_pet:"Pet destiny: character and bond with companion animals",
    vip_hepan:"Synastry: wedding date selection & newborn timing",
    vip_name:"Name analysis: company names, baby names, and name-based adjustment",
    vip_fengshui:"Wealth + Feng Shui: home / office layout alignment",
    vip_record:"Spiritual records: photos, dreams, voice notes, prayers & wishes",
    vip_course:"Courses: Bazi / Tarot / Astrology / Numerology / Human Design",
    vip_memorial:"Family memorial system: spiritual remembrance & continuation",
    vip_tasks:"Weekly energy practices / deity ritual tasks",
    vip_shop:"Energy shop member discounts & custom amulets",
    login_title:"ğŸ’ Log in to VIP features",

    ph_email:"Email",
    ph_password:"Password (at least 8 characters, including upper/lowercase letters, numbers & symbols)",
    ph_label_password:"Password",
    panel_login_head:"Account login / registration",
    panel_member_head:"Membership services",
    btn_login:"Log in",
    btn_reset:"ğŸ”‘ Reset password",
    btn_register:"Register account",
    btn_upgrade:"ğŸ’ Upgrade to VIP (monthly)",
    btn_backshop:"â† Back to metaphysics shop",
    note_price:"Register an account to receive one free trial",
    note_price1:"$9.9 / month VIP (Destiny Space + Xinlian Space + Spiritual Courses)",

    chip_career:"Career",
    chip_love:"Love",
    chip_money:"Wealth",
    chip_list:"Todayâ€™s to-do list",
    chip_30d:"30-day advice",

    chat_fab:"Ask",
    chat_title:"Xinlian Butler Â· Chat",
    chat_placeholder:"What would you like to know? (e.g. how to start the free trial)",
    chat_send:"Send",
  },

  "ja-JP": {
    title:"ä¹æ˜Ÿæ°—å­¦ãƒ»ãƒ‡ã‚£ãƒ¼ãƒ—åˆ†æ Â· 5XLiving",
    title_kyuusei_brief:"ä¹æ˜Ÿæ°—å­¦ãƒ‡ã‚£ãƒ¼ãƒ—åˆ†æ",
    lang_label:"è¨€èª",
    form_title:"ä¹æ˜Ÿæ°—å­¦ãƒ»ãƒ—ãƒ­é‘‘å®š",
    birth_label:"ç”Ÿå¹´æœˆæ—¥",
    gender_label:"æ€§åˆ¥",
    gender_male:"ç”·æ€§",
    gender_female:"å¥³æ€§",
    analysis_type:"åˆ†æã‚¿ã‚¤ãƒ—",
    analysis_type_comprehensive:"ç·åˆé‘‘å®š",
    analysis_type_career:"ä»•äº‹ãƒ»é‡‘é‹ãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
    analysis_type_relationship:"æ‹æ„›ãƒ»çµå©šãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
    analysis_type_health:"å¥åº·é‹ãƒ•ã‚©ãƒ¼ã‚«ã‚¹",
    btn_gen:"ãƒ—ãƒ­é‘‘å®šãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ",
    now_info_prefix:"ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ æ™‚åˆ»ï¼š",
    sec_star:"ã‚ãªãŸã®ä¹æ˜Ÿç›¤ã®åˆ†æ",
    sec_star_main:"æœ¬å‘½æ˜Ÿ",
    sec_star_elements:"äº”è¡Œã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒãƒ©ãƒ³ã‚¹",
    sec_deep:"è©³ç´°ãªé‹å‹¢ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°",
    sec_personality:"æ€§æ ¼å‚¾å‘ã®åˆ†æ",
    sec_talent:"æ‰èƒ½ãƒ»ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«",
    sec_challenge:"äººç”Ÿã®ãƒ†ãƒ¼ãƒ",
    sec_development:"æˆé•·ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹",
    sec_fortune:"é‹å‹¢ã®æµã‚Œ",
    sec_advice:"ãƒ—ãƒ­ã®èª¿æ•´ã‚¢ãƒ‰ãƒã‚¤ã‚¹",
    advice_direction:"æ–¹ä½ã®èª¿æ•´",
    advice_color:"ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼æ´»ç”¨",
    advice_career:"ã‚­ãƒ£ãƒªã‚¢ã®ç™ºå±•",
    advice_relationship:"äººé–“é–¢ä¿‚ãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—",
    sec_ai:"å¿ƒæ†ãƒãƒˆãƒ©ãƒ¼ã‹ã‚‰ã®è§£èª­ã¨ææ¡ˆ",

    spec_title:"ãƒ•ã‚©ãƒ¼ã‚«ã‚¹åˆ†æ",
    spec_core:"ã‚³ã‚¢åˆ†æ",
    spec_opportunity:"ãƒãƒ£ãƒ³ã‚¹",
    spec_risk:"ãƒªã‚¹ã‚¯æ³¨æ„",
    spec_action:"è¡Œå‹•ã‚¬ã‚¤ãƒ‰",

    badge_elem:"äº”è¡Œ",
    badge_color:"ã‚«ãƒ©ãƒ¼",
    badge_kw:"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰",
    about_label:"æ€§æ ¼å‚¾å‘",

    please_birth:"ã¾ãšç”Ÿå¹´æœˆæ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚",
    bad_date:"æ—¥ä»˜ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚",
    generating:"ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™â€¦",
    retry:"ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",
    neterr:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",

    vip_title:"ğŸŒ™ ä¼šå“¡ã‚¨ãƒªã‚¢ãƒ»VIP ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ",
    vip_mingli:"ğŸ— å‘½ç†ã‚¹ãƒšãƒ¼ã‚¹ãƒ»ä¼šå“¡é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„",
    vip_xinlian:"ğŸŒ™ å¿ƒæ†ã‚¹ãƒšãƒ¼ã‚¹ãƒ»ä¼šå“¡é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„",
    vip_love:"æ‹æ„›ãƒ»ç¸çµã³ï¼šæ‹æ„›é‹ã¨çµå©šã®æµã‚Œ",
    vip_career:"ä»•äº‹ï¼šã‚­ãƒ£ãƒªã‚¢æˆé•·ãƒ»èµ·æ¥­ã®å¯èƒ½æ€§",
    vip_wealth:"é‡‘é‹ï¼šè²¡ã®ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ†æã¨è³‡ç”£é‹ç”¨ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°",
    vip_pet:"ãƒšãƒƒãƒˆå‘½ç†ï¼šãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚¢ãƒ‹ãƒãƒ«ã®æ€§æ ¼ã¨ã”ç¸",
    vip_hepan:"ç›¸æ€§é‘‘å®šï¼šå…¥ç±æ—¥ï¼æŒ™å¼æ—¥ãƒ»å‡ºç”£ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®é¸å®š",
    vip_name:"å‘½åé‘‘å®šï¼šä¼šç¤¾åãƒ»èµ¤ã¡ã‚ƒã‚“ã®åå‰ãƒ»æ”¹åã«ã‚ˆã‚‹é–‹é‹",
    vip_fengshui:"è²¡ä½Ã—é¢¨æ°´ï¼šè‡ªå®…ï¼ã‚ªãƒ•ã‚£ã‚¹å‹•ç·šã¨ã®çµ„ã¿åˆã‚ã›",
    vip_record:"ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«è¨˜éŒ²ï¼šå†™çœŸãƒ»å¤¢ãƒ»éŸ³å£°ãƒ»ç¥ˆã‚Šã¨é¡˜ã„äº‹",
    vip_course:"è¬›åº§ï¼šå››æŸ±æ¨å‘½ï¼ˆå…«å­—ï¼‰ï¼ã‚¿ãƒ­ãƒƒãƒˆï¼å æ˜Ÿè¡“ï¼æ•°ç§˜ï¼ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³",
    vip_memorial:"å®¶æ—ãƒ¡ãƒ¢ãƒªã‚¢ãƒ«ï¼šã”å…ˆç¥–ãƒ»æ•…äººã®ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«è¨˜å¿µã‚¹ãƒšãƒ¼ã‚¹",
    vip_tasks:"æ¯é€±ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ¯ãƒ¼ã‚¯ï¼ç¥æ§˜ã¸ã®ãƒªãƒãƒ¥ã‚¢ãƒ«",
    vip_shop:"ã‚¨ãƒŠã‚¸ãƒ¼ã‚·ãƒ§ãƒƒãƒ—ä¼šå“¡å‰²å¼•ï¼†ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ¡ã‚¤ãƒ‰å¾¡å®ˆã‚Š",
    login_title:"ğŸ’ VIP æ©Ÿèƒ½ã«ãƒ­ã‚°ã‚¤ãƒ³",

    ph_email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
    ph_password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆ8æ–‡å­—ä»¥ä¸Šãƒ»å¤§å°è‹±å­—ï¼‹æ•°å­—ï¼‹è¨˜å·ï¼‰",
    ph_label_password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    panel_login_head:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ãƒ­ã‚°ã‚¤ãƒ³ï¼æ–°è¦ç™»éŒ²",
    panel_member_head:"ä¼šå“¡ã‚µãƒ¼ãƒ“ã‚¹",
    btn_login:"ãƒ­ã‚°ã‚¤ãƒ³",
    btn_reset:"ğŸ”‘ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆ",
    btn_register:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ–°è¦ç™»éŒ²",
    btn_upgrade:"ğŸ’ VIPï¼ˆæœˆé¡ï¼‰ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
    btn_backshop:"â† å‘½ç†ã‚·ãƒ§ãƒƒãƒ—ã«æˆ»ã‚‹",
    note_price:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã§ 1 å›ç„¡æ–™ä½“é¨“ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ",
    note_price1:"$9.9 / æœˆé¡ VIPï¼ˆå‘½ç†ã‚¹ãƒšãƒ¼ã‚¹ï¼‹å¿ƒæ†ã‚¹ãƒšãƒ¼ã‚¹ï¼‹ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«è¬›åº§ï¼‰",

    chip_career:"ä»•äº‹",
    chip_love:"æ‹æ„›",
    chip_money:"é‡‘é‹",
    chip_list:"ä»Šæ—¥ã® ToDo",
    chip_30d:"30 æ—¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹",

    chat_fab:"å•",
    chat_title:"å¿ƒæ†ãƒãƒˆãƒ©ãƒ¼ Â· Chat",
    chat_placeholder:"çŸ¥ã‚ŠãŸã„ã“ã¨ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼šç„¡æ–™ä½“é¨“ã®å§‹ã‚æ–¹ï¼‰",
    chat_send:"é€ä¿¡",
  },

  "th-TH": {
    title:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸´à¸§à¹€à¸‹à¸¢à¹Œà¹€à¸à¹‰à¸²à¸”à¸²à¸§à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸ Â· 5XLiving",
    title_kyuusei_brief:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸´à¸§à¹€à¸‹à¸¢à¹Œà¹€à¸à¹‰à¸²à¸”à¸²à¸§à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸",
    lang_label:"à¸ à¸²à¸©à¸²",
    form_title:"à¸„à¸´à¸§à¹€à¸‹à¸¢à¹Œà¹€à¸à¹‰à¸²à¸”à¸²à¸§ Â· à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸”à¸§à¸‡à¹à¸šà¸šà¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸",
    birth_label:"à¸§à¸±à¸™à¹€à¸”à¸·à¸­à¸™à¸›à¸µà¹€à¸à¸´à¸”",
    gender_label:"à¹€à¸à¸¨",
    gender_male:"à¸Šà¸²à¸¢",
    gender_female:"à¸«à¸à¸´à¸‡",
    analysis_type:"à¸›à¸£à¸°à¹€à¸ à¸—à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ",
    analysis_type_comprehensive:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸”à¸§à¸‡à¸ à¸²à¸à¸£à¸§à¸¡",
    analysis_type_career:"à¹€à¸™à¹‰à¸™à¸à¸²à¸£à¸‡à¸²à¸™à¹à¸¥à¸°à¸à¸²à¸£à¹€à¸‡à¸´à¸™",
    analysis_type_relationship:"à¹€à¸™à¹‰à¸™à¸„à¸§à¸²à¸¡à¸£à¸±à¸à¹à¸¥à¸°à¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸‡à¸²à¸™",
    analysis_type_health:"à¹€à¸™à¹‰à¸™à¸ªà¸¸à¸‚à¸ à¸²à¸",
    btn_gen:"à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸²à¸¢à¸‡à¸²à¸™à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸”à¸§à¸‡",
    now_info_prefix:"à¹€à¸§à¸¥à¸²à¸£à¸°à¸šà¸šà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™: ",
    sec_star:"à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸œà¸±à¸‡à¸„à¸´à¸§à¹€à¸‹à¸¢à¹Œà¹€à¸à¹‰à¸²à¸”à¸²à¸§à¸‚à¸­à¸‡à¸„à¸¸à¸“",
    sec_star_main:"à¸”à¸²à¸§à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§",
    sec_star_elements:"à¸ªà¸¡à¸”à¸¸à¸¥à¸˜à¸²à¸•à¸¸à¸—à¸±à¹‰à¸‡à¸«à¹‰à¸²",
    sec_deep:"à¸„à¸³à¸—à¸³à¸™à¸²à¸¢à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸",
    sec_personality:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸šà¸¸à¸„à¸¥à¸´à¸à¸ à¸²à¸",
    sec_talent:"à¸à¸£à¸ªà¸§à¸£à¸£à¸„à¹Œà¹à¸¥à¸°à¸¨à¸±à¸à¸¢à¸ à¸²à¸",
    sec_challenge:"à¸šà¸—à¹€à¸£à¸µà¸¢à¸™à¹ƒà¸™à¸Šà¸µà¸§à¸´à¸•",
    sec_development:"à¸„à¸³à¹à¸™à¸°à¸™à¸³à¹ƒà¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²",
    sec_fortune:"à¹à¸™à¸§à¹‚à¸™à¹‰à¸¡à¸”à¸§à¸‡à¸Šà¸°à¸•à¸²",
    sec_advice:"à¸„à¸³à¹à¸™à¸°à¸™à¸³à¹€à¸Šà¸´à¸‡à¸§à¸´à¸Šà¸²à¸Šà¸µà¸à¹ƒà¸™à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸ªà¸¡à¸”à¸¸à¸¥",
    advice_direction:"à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸—à¸´à¸¨à¸—à¸²à¸‡",
    advice_color:"à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ªà¸µà¹€à¸ªà¸£à¸´à¸¡à¸”à¸§à¸‡",
    advice_career:"à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸ªà¸²à¸¢à¸­à¸²à¸Šà¸µà¸",
    advice_relationship:"à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¹à¸¥à¸°à¸œà¸¹à¹‰à¸„à¸™à¸£à¸­à¸šà¸•à¸±à¸§",
    sec_ai:"à¸„à¸³à¹à¸›à¸¥à¹à¸¥à¸°à¸„à¸³à¹à¸™à¸°à¸™à¸³à¸ˆà¸²à¸à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢ Xinlian",

    spec_title:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸à¹à¸šà¸šà¹‚à¸Ÿà¸à¸±à¸ª",
    spec_core:"à¹à¸à¸™à¸«à¸¥à¸±à¸",
    spec_opportunity:"à¹‚à¸­à¸à¸²à¸ªà¸ªà¸³à¸„à¸±à¸",
    spec_risk:"à¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡",
    spec_action:"à¹à¸™à¸§à¸—à¸²à¸‡à¸›à¸à¸´à¸šà¸±à¸•à¸´",

    badge_elem:"à¸˜à¸²à¸•à¸¸à¸—à¸±à¹‰à¸‡à¸«à¹‰à¸²",
    badge_color:"à¸ªà¸µ",
    badge_kw:"à¸„à¸³à¸ªà¸³à¸„à¸±à¸",
    about_label:"à¹à¸™à¸§à¹‚à¸™à¹‰à¸¡à¸šà¸¸à¸„à¸¥à¸´à¸à¸ à¸²à¸",

    please_birth:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸§à¸±à¸™à¹€à¸”à¸·à¸­à¸™à¸›à¸µà¹€à¸à¸´à¸”à¸à¹ˆà¸­à¸™",
    bad_date:"à¸£à¸¹à¸›à¹à¸šà¸šà¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡",
    generating:"à¸à¸³à¸¥à¸±à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸—à¸³à¸™à¸²à¸¢â€¦",
    retry:"à¸‚à¸­à¸­à¸ à¸±à¸¢ à¸‚à¸“à¸°à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¥à¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡",
    neterr:"à¹€à¸„à¸£à¸·à¸­à¸‚à¹ˆà¸²à¸¢à¸‚à¸±à¸”à¸‚à¹‰à¸­à¸‡ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡à¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡",

    vip_title:"ğŸŒ™ à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸ªà¸¡à¸²à¸Šà¸´à¸ VIP",
    vip_mingli:"ğŸ— à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸”à¸§à¸‡à¸Šà¸°à¸•à¸² Â· à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸",
    vip_xinlian:"ğŸŒ™ à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ Xinlian Â· à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸",
    vip_love:"à¸”à¹‰à¸²à¸™à¸„à¸§à¸²à¸¡à¸£à¸±à¸: à¸”à¸§à¸‡à¸„à¸§à¸²à¸¡à¸£à¸±à¸à¹à¸¥à¸°à¹à¸™à¸§à¹‚à¸™à¹‰à¸¡à¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸‡à¸²à¸™",
    vip_career:"à¸”à¹‰à¸²à¸™à¸à¸²à¸£à¸‡à¸²à¸™: à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¹ƒà¸™à¸‡à¸²à¸™à¹à¸¥à¸°à¸¨à¸±à¸à¸¢à¸ à¸²à¸à¸à¸²à¸£à¸—à¸³à¸˜à¸¸à¸£à¸à¸´à¸ˆ",
    vip_wealth:"à¸”à¹‰à¸²à¸™à¸à¸²à¸£à¹€à¸‡à¸´à¸™: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸—à¸£à¸±à¸à¸¢à¹Œà¹à¸¥à¸°à¸ˆà¸±à¸‡à¸«à¸§à¸°à¸à¸²à¸£à¸¥à¸‡à¸—à¸¸à¸™",
    vip_pet:"à¸”à¸§à¸‡à¸ªà¸±à¸•à¸§à¹Œà¹€à¸¥à¸µà¹‰à¸¢à¸‡: à¸šà¸¸à¸„à¸¥à¸´à¸à¹à¸¥à¸°à¸ªà¸²à¸¢à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¸à¸±à¸šà¸ªà¸±à¸•à¸§à¹Œà¸„à¸¹à¹ˆà¹ƒà¸ˆ",
    vip_hepan:"à¸”à¸§à¸‡à¸„à¸¹à¹ˆà¹à¸¥à¸°à¸§à¸±à¸™à¸¡à¸‡à¸„à¸¥: à¹€à¸¥à¸·à¸­à¸à¸§à¸±à¸™à¹à¸•à¹ˆà¸‡à¸‡à¸²à¸™ / à¸§à¸±à¸™à¸„à¸¥à¸­à¸”",
    vip_name:"à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸Šà¸·à¹ˆà¸­: à¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸©à¸±à¸— à¸Šà¸·à¹ˆà¸­à¹€à¸”à¹‡à¸ à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸ªà¸£à¸´à¸¡à¸”à¸§à¸‡",
    vip_fengshui:"à¸®à¸§à¸‡à¸ˆà¸¸à¹‰à¸¢à¸—à¸£à¸±à¸à¸¢à¹Œ: à¸à¸²à¸£à¸ˆà¸±à¸”à¸§à¸²à¸‡à¸šà¹‰à¸²à¸™ / à¸ªà¸³à¸™à¸±à¸à¸‡à¸²à¸™à¹ƒà¸«à¹‰à¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡à¸à¸±à¸šà¸”à¸§à¸‡",
    vip_record:"à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸Šà¸´à¸‡à¸ˆà¸´à¸•à¸§à¸´à¸à¸à¸²à¸“: à¸£à¸¹à¸›à¸ à¸²à¸ à¸„à¸§à¸²à¸¡à¸à¸±à¸™ à¹€à¸ªà¸µà¸¢à¸‡ à¸ à¸²à¸§à¸™à¸²à¹à¸¥à¸°à¸„à¸³à¸­à¸˜à¸´à¸©à¸à¸²à¸™",
    vip_course:"à¸„à¸­à¸£à¹Œà¸ªà¹€à¸£à¸µà¸¢à¸™: à¹‚à¸›à¹Šà¸¢à¸«à¸¢à¸µà¹ˆà¸ªà¸µà¹ˆà¹€à¸–à¸µà¸¢à¸§ (å…«å­—) / à¸—à¸²à¹‚à¸£à¸•à¹Œ / à¹‚à¸«à¸£à¸²à¸¨à¸²à¸ªà¸•à¸£à¹Œ / à¹€à¸¥à¸‚à¸¨à¸²à¸ªà¸•à¸£à¹Œ / Human Design",
    vip_memorial:"à¸£à¸°à¸šà¸šà¸£à¸³à¸¥à¸¶à¸à¸–à¸¶à¸‡à¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§: à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸£à¸³à¸¥à¸¶à¸à¸—à¸²à¸‡à¸ˆà¸´à¸•à¸§à¸´à¸à¸à¸²à¸“à¹ƒà¸«à¹‰à¸„à¸™à¸—à¸µà¹ˆà¸£à¸±à¸",
    vip_tasks:"à¹à¸šà¸šà¸à¸¶à¸à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸›à¸£à¸°à¸ˆà¸³à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ / à¸ à¸²à¸£à¸à¸´à¸ˆà¸”à¹‰à¸²à¸™à¸à¸´à¸˜à¸µà¸à¸£à¸£à¸¡",
    vip_shop:"à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸à¹à¸¥à¸°à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸£à¸²à¸‡à¸ªà¸±à¹ˆà¸‡à¸—à¸³à¸à¸´à¹€à¸¨à¸©",
    login_title:"ğŸ’ à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¹€à¸à¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ VIP",

    ph_email:"à¸­à¸µà¹€à¸¡à¸¥",
    ph_password:"à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™ (à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 8 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£ à¸¡à¸µà¸•à¸±à¸§à¸à¸´à¸¡à¸à¹Œà¹ƒà¸«à¸à¹ˆ à¹€à¸¥à¹‡à¸ à¸•à¸±à¸§à¹€à¸¥à¸‚ à¹à¸¥à¸°à¸ªà¸±à¸à¸¥à¸±à¸à¸©à¸“à¹Œ)",
    ph_label_password:"à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™",
    panel_login_head:"à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š / à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸",
    panel_member_head:"à¸šà¸£à¸´à¸à¸²à¸£à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸",
    btn_login:"à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š",
    btn_reset:"ğŸ”‘ à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™",
    btn_register:"à¸ªà¸¡à¸±à¸„à¸£à¸šà¸±à¸à¸Šà¸µà¹ƒà¸«à¸¡à¹ˆ",
    btn_upgrade:"ğŸ’ à¸­à¸±à¸›à¹€à¸à¸£à¸”à¹€à¸›à¹‡à¸™ VIP (à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™)",
    btn_backshop:"â† à¸à¸¥à¸±à¸šà¹„à¸›à¸¢à¸±à¸‡à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹‚à¸«à¸£à¸²à¸¨à¸²à¸ªà¸•à¸£à¹Œ",
    note_price:"à¸ªà¸¡à¸±à¸„à¸£à¸šà¸±à¸à¸Šà¸µà¸§à¸±à¸™à¸™à¸µà¹‰ à¸£à¸±à¸šà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸Ÿà¸£à¸µ 1 à¸„à¸£à¸±à¹‰à¸‡",
    note_price1:"$9.9 / à¹€à¸”à¸·à¸­à¸™ VIP (à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸”à¸§à¸‡à¸Šà¸°à¸•à¸² + à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ Xinlian + à¸„à¸­à¸£à¹Œà¸ªà¸ˆà¸´à¸•à¸§à¸´à¸à¸à¸²à¸“)",

    chip_career:"à¸à¸²à¸£à¸‡à¸²à¸™",
    chip_love:"à¸„à¸§à¸²à¸¡à¸£à¸±à¸",
    chip_money:"à¸à¸²à¸£à¹€à¸‡à¸´à¸™",
    chip_list:"à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³à¸§à¸±à¸™à¸™à¸µà¹‰",
    chip_30d:"à¸„à¸³à¹à¸™à¸°à¸™à¸³ 30 à¸§à¸±à¸™",

    chat_fab:"à¸–à¸²à¸¡",
    chat_title:"à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢ Xinlian Â· à¹à¸Šà¸—",
    chat_placeholder:"à¸„à¸¸à¸“à¸­à¸¢à¸²à¸à¸£à¸¹à¹‰à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸°à¹„à¸£? (à¹€à¸Šà¹ˆà¸™ à¸§à¸´à¸˜à¸µà¹€à¸£à¸´à¹ˆà¸¡à¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸Ÿà¸£à¸µ)",
    chat_send:"à¸ªà¹ˆà¸‡",
  },

  "ms": {
    title:"Analisis Mendalam Kyuusei Sembilan Bintang Â· 5XLiving",
    title_kyuusei_brief:"Analisis Mendalam Kyuusei",
    lang_label:"Bahasa",
    form_title:"Kyuusei Sembilan Bintang Â· Analisis Takdir Profesional",
    birth_label:"Tarikh lahir",
    gender_label:"Jantina",
    gender_male:"Lelaki",
    gender_female:"Perempuan",
    analysis_type:"Jenis analisis",
    analysis_type_comprehensive:"Analisis takdir menyeluruh",
    analysis_type_career:"Fokus kerjaya & kekayaan",
    analysis_type_relationship:"Fokus cinta & perkahwinan",
    analysis_type_health:"Fokus kesihatan",
    btn_gen:"Jana laporan analisis profesional",
    now_info_prefix:"Masa sistem semasa: ",
    sec_star:"Analisis carta Kyuusei anda",
    sec_star_main:"Bintang utama",
    sec_star_elements:"Taburan Lima Unsur",
    sec_deep:"Pembacaan takdir yang mendalam",
    sec_personality:"Analisis ciri peribadi",
    sec_talent:"Bakat & potensi",
    sec_challenge:"Pelajaran hidup",
    sec_development:"Nasihat pembangunan",
    sec_fortune:"Analisis aliran tuah",
    sec_advice:"Cadangan pelarasan profesional",
    advice_direction:"Pelarasan arah",
    advice_color:"Penggunaan warna",
    advice_career:"Perkembangan kerjaya",
    advice_relationship:"Hubungan & interaksi",
    sec_ai:"Butler Xinlian Â· Tafsiran & Nasihat",

    spec_title:"Analisis fokus mendalam",
    spec_core:"Analisis teras",
    spec_opportunity:"Peluang utama",
    spec_risk:"Peringatan risiko",
    spec_action:"Panduan tindakan",

    badge_elem:"Lima Unsur",
    badge_color:"Warna",
    badge_kw:"Kata kunci",
    about_label:"Kecenderungan personaliti",

    please_birth:"Sila pilih tarikh lahir terlebih dahulu",
    bad_date:"Format tarikh tidak sah",
    generating:"Sedang menjana tafsiranâ€¦",
    retry:"Maaf, tidak dapat menjana buat masa ini. Sila cuba lagi kemudian.",
    neterr:"Ralat rangkaian. Sila cuba lagi kemudian.",

    vip_title:"ğŸŒ™ Zon Ahli VIP",
    vip_mingli:"ğŸ— Ruang Takdir Â· Kandungan khas ahli",
    vip_xinlian:"ğŸŒ™ Ruang Xinlian Â· Kandungan khas ahli",
    vip_love:"Arah jodoh: nasib percintaan dan trend perkahwinan",
    vip_career:"Arah kerjaya: perkembangan di tempat kerja & potensi keusahawanan",
    vip_wealth:"Arah kekayaan: analisis sudut rezeki & masa pelaburan",
    vip_pet:"Takdir haiwan peliharaan: personaliti & jalinan dengan haiwan teman",
    vip_hepan:"Analisis padanan: pemilihan tarikh kahwin / tarikh kelahiran bayi",
    vip_name:"Analisis nama: nama syarikat, nama bayi & penukaran nama untuk menaikkan tuah",
    vip_fengshui:"Sudut rezeki + feng shui: susun atur rumah / pejabat selaras dengan takdir",
    vip_record:"Rekod spiritual: gambar, mimpi, rakaman suara, doa & hajat",
    vip_course:"Kursus: Bazi / Tarot / Astrologi / Human Design",
    vip_memorial:"Sistem peringatan keluarga: ruang kenangan rohani untuk orang tersayang",
    vip_tasks:"Latihan tenaga mingguan / tugasan ritual",
    vip_shop:"Diskaun khas ahli & jimat perlindungan tempahan khas",
    login_title:"ğŸ’ Log masuk untuk fungsi VIP",

    ph_email:"Emel",
    ph_password:"Kata laluan (sekurang-kurangnya 8 aksara, termasuk huruf besar, huruf kecil, nombor & simbol)",
    ph_label_password:"Kata laluan",
    panel_login_head:"Log masuk / Daftar akaun",
    panel_member_head:"Perkhidmatan ahli",
    btn_login:"Log masuk",
    btn_reset:"ğŸ”‘ Tetapkan semula kata laluan",
    btn_register:"Daftar akaun",
    btn_upgrade:"ğŸ’ Naik taraf ke VIP (bulanan)",
    btn_backshop:"â† Kembali ke kedai metafizik",
    note_price:"Daftar akaun untuk menerima satu sesi percubaan percuma",
    note_price1:"$9.9 / bulan VIP (Ruang Takdir + Ruang Xinlian + Kursus kerohanian)",

    chip_career:"Kerjaya",
    chip_love:"Cinta",
    chip_money:"Kekayaan",
    chip_list:"Senarai tugas hari ini",
    chip_30d:"Nasihat 30 hari",

    chat_fab:"Tanya",
    chat_title:"Butler Xinlian Â· Chat",
    chat_placeholder:"Apa yang ingin anda ketahui? (contoh: cara mulakan percubaan percuma)",
    chat_send:"Hantar",
  }
};

/* ç®€å•ç¿»è¯‘å‡½æ•° */
function t(key){
  const L = i18n[getLang()] || i18n["zh-CN"];
  return L[key] || (i18n["zh-CN"][key] || key);
}

/* åº”ç”¨åˆ° DOM */
function applyI18n(){
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
  document.querySelectorAll("[data-i18n-ph]").forEach(el=>{
    const key = el.getAttribute("data-i18n-ph");
    el.setAttribute("placeholder", t(key));
  });
  const titleEl = document.querySelector("title[data-i18n]");
  if (titleEl) titleEl.textContent = t(titleEl.getAttribute("data-i18n"));
}

/* ===== æµ®åŠ¨ Chat é€»è¾‘ ===== */
async function askAI(prompt, extraCtx){
  const lang = getLang();
  const payload = {
    lang,
    source: 'kyuusei-deep',
    messages: [
      {
        role: "system",
        content: "You are Xinlian Butler, a gentle metaphysics & life advisor for 5XLiving, combining Nine Star Ki, Bazi style language and practical, grounded advice."
      },
      {
        role: "user",
        content: (extraCtx || "") + "\n\n" + prompt
      }
    ]
  };
  const res = await fetch(API_BASE + "/api/chat", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify(payload)
  });
  if (!res.ok) throw new Error("bad status " + res.status);
  const data = await res.json();
  return data.reply || data.text || (data.choices && data.choices[0]?.message?.content) || "";
}

(function(){
  const fab   = $('ssChatFab');
  const panel = $('ssChatPanel');
  const body  = $('ssChatBody');
  const input = $('ssChatInput');
  const send  = $('ssChatSend');
  const closeBtn = $('ssChatClose');

  if (!fab || !panel || !body || !input || !send || !closeBtn) return;

  function appendBubble(text, role){
    const div = document.createElement('div');
    div.className = 'chat-bubble ' + (role === 'user' ? 'user' : 'bot');
    div.textContent = text;
    body.appendChild(div);
    body.scrollTop = body.scrollHeight;
  }

  function togglePanel(show){
    if (typeof show === 'boolean') {
      panel.style.display = show ? 'block' : 'none';
    } else {
      panel.style.display = (panel.style.display === 'block' ? 'none' : 'block');
    }
  }

  fab.addEventListener('click', () => togglePanel());
  closeBtn.addEventListener('click', () => togglePanel(false));

  async function doSend(){
    const text = input.value.trim();
    if (!text) return;

    appendBubble(text, 'user');
    input.value = '';
    send.disabled = true;

    const waitText = t('generating') || 'æ­£åœ¨ç”Ÿæˆè§£è¯»â€¦';
    appendBubble(waitText, 'bot');

    try{
      const reply = await askAI(text);
      body.removeChild(body.lastChild);
      appendBubble(reply || (t('retry') || 'æš‚æ—¶æ— æ³•å›å¤ï¼Œè¯·ç¨åå†è¯•ã€‚'), 'bot');
    }catch(e){
      console.warn('[chat] error:', e);
      body.removeChild(body.lastChild);
      appendBubble(t('neterr') || 'ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•ã€‚', 'bot');
    }finally{
      send.disabled = false;
    }
  }

  send.addEventListener('click', doSend);
  input.addEventListener('keydown', e=>{
    if (e.key === 'Enter' && !e.shiftKey){
      e.preventDefault();
      doSend();
    }
  });
})();  

/* ===== Butler AI: èŠ¯ç‰‡æ¸²æŸ“ ===== */
function renderChips() {
  let box = $('aiChips');
  if (!box) return;
  box.innerHTML = '';

  const chips = [
    { key: 'chip_career', fallback: 'äº‹ä¸š', intent:'career' },
    { key: 'chip_love',   fallback: 'æ„Ÿæƒ…', intent:'love' },
    { key: 'chip_money',  fallback: 'è´¢è¿', intent:'wealth' },
    { key: 'chip_list',   fallback: 'ä»Šæ—¥å¾…åŠ', intent:'todo' },
    { key: 'chip_30d',    fallback: '30å¤©å»ºè®®', intent:'30d' },
  ];

  chips.forEach((c) => {
    const label = t(c.key) || c.fallback;
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'chip';
    btn.textContent = label;
    btn.setAttribute('data-i18n', c.key);

    btn.addEventListener('click', async () => {
      const aiBox = $('aiText');
      if (aiBox) {
        aiBox.textContent = t('generating') || 'æ­£åœ¨ç”Ÿæˆè§£è¯»â€¦';
      }
      try{
        if (!window._lastKyuuseiCtx) {
          if (aiBox) aiBox.textContent = t('please_birth') || 'è¯·å…ˆé€‰æ‹©å‡ºç”Ÿæ—¥æœŸå¹¶ç”Ÿæˆå‘½ç›˜ã€‚';
          return;
        }
        const ctx = window._lastKyuuseiCtx;
        const basePrompt = `
ä¹æ˜Ÿæ°”å­¦ä¸»æ˜Ÿï¼š${ctx.starName} (${ctx.starJP})
äº”è¡Œä¸»å…ƒç´ ï¼š${ctx.mainElement}
å½“å‰åˆ†æç±»å‹ï¼š${ctx.analysisTypeLabel}
å‡ºç”Ÿæ—¥æœŸï¼š${ctx.birthStr}
`;
        const intentTextMap = {
          career: "è¯·æ ¹æ®ä»¥ä¸Šä¹æ˜Ÿä¿¡æ¯ï¼Œé‡ç‚¹ä»äº‹ä¸šä¸è´¢è¿è§’åº¦ç»™å‡ºå®ç”¨å»ºè®®ã€‚",
          love: "è¯·æ ¹æ®ä»¥ä¸Šä¹æ˜Ÿä¿¡æ¯ï¼Œé‡ç‚¹ä»æ„Ÿæƒ…ä¸äº²å¯†å…³ç³»è§’åº¦ç»™å‡ºå®ç”¨å»ºè®®ã€‚",
          wealth: "è¯·æ ¹æ®ä»¥ä¸Šä¹æ˜Ÿä¿¡æ¯ï¼Œä»è´¢å¯Œå¸ƒå±€ä¸èµ„é‡‘æµåŠ¨è§’åº¦ç»™å‡ºå»ºè®®ã€‚",
          todo: "è¯·æ ¹æ®ä»¥ä¸Šä¹æ˜Ÿä¿¡æ¯ï¼Œå¸®æˆ‘å†™å‡ºä»Šå¤©å¯ä»¥æ‰§è¡Œçš„ 3â€“5 æ¡å°ä»»åŠ¡ï¼Œå¸®åŠ©æˆ‘è°ƒé¡ºè¿åŠ¿ã€‚",
          "30d": "è¯·æ ¹æ®ä»¥ä¸Šä¹æ˜Ÿä¿¡æ¯ï¼Œå†™å‡ºæœªæ¥ 30 å¤©çš„é‡ç‚¹æé†’ä¸è¡ŒåŠ¨æ–¹å‘ã€‚"
        };
        const reply = await askAI(intentTextMap[c.intent] || '', basePrompt);
        if (aiBox) aiBox.textContent = reply || (t('retry') || 'æš‚æ—¶æ— æ³•ç”Ÿæˆï¼Œè¯·ç¨åå†è¯•ã€‚');
      }catch(e){
        console.warn('[chips ai] error', e);
        if ($('aiText')) $('aiText').textContent = t('neterr') || 'ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•ã€‚';
      }
    });

    box.appendChild(btn);
  });
}

/* ===== ä¹æ˜Ÿç®—æ³• ===== */
function reduce1(n){
  let s=Math.abs(n).toString().split('').reduce((a,b)=>a+Number(b),0);
  while(s>9) s=s.toString().split('').reduce((a,b)=>a+Number(b),0);
  return s;
}
function isBeforeSetsubun(d){
  const m=d.getMonth(),day=d.getDate();
  return (m===0)||(m===1&&day<=3);
}
function calcHonmei(dateStr){
  const d=new Date(dateStr);
  if(isNaN(d))return null;
  const root=reduce1(d.getFullYear());
  let num=(isBeforeSetsubun(d)?12:11)-root;
  while(num<=0)num+=9;
  return num;
}

/* ===== ä¹æ˜ŸåŸºç¡€ç”»åƒ ===== */
const STARS = {
  1:{zh:'ä¸€ç™½æ°´æ˜Ÿ',jp:'Ippaku Suisei',elem:'æ°´',color:'ç™½',key:['æµåŠ¨','ç›´è§‰','æ²Ÿé€š'],about:'æ•æ„Ÿç»†è…»ã€å…±æƒ…åŠ›å¼ºï¼Œè¡ŒåŠ¨çµæ´»ï¼Œæ“…é•¿ä¿¡æ¯ä¸å…³ç³»åè°ƒã€‚'},
  2:{zh:'äºŒé»‘åœŸæ˜Ÿ',jp:'Jikoku Dosei',elem:'åœŸ',color:'é»‘',key:['æ»‹å…»','æ‰¿è½½','è€æ€§'],about:'åŠ¡å®ç¨³å¥ã€é‡è§†ç§©åºä¸ç…§æ–™ï¼Œæ“…é•¿æŒç»­è€•è€˜ä¸è½åœ°ã€‚'},
  3:{zh:'ä¸‰ç¢§æœ¨æ˜Ÿ',jp:'Sanpeki Mokusei',elem:'æœ¨',color:'ç¢§',key:['ç”Ÿå‘','è¡¨è¾¾','çªç ´'],about:'å¥½å¥‡è¡¨è¾¾æ¬²å¼ºï¼Œå–œæ¬¢åˆ›æ„ä¸å¼€ç–†æ‹“åœŸã€‚'},
  4:{zh:'å››ç»¿æœ¨æ˜Ÿ',jp:'Shiroku Mokusei',elem:'æœ¨',color:'ç»¿',key:['åè°ƒ','äº¤æµ','æ—…è¡Œ'],about:'æ¸©å’ŒåŒ…å®¹ï¼Œæ“…é•¿æ²Ÿé€šåè°ƒä¸çŸ¥è¯†æ•´åˆã€‚'},
  5:{zh:'äº”é»„åœŸæ˜Ÿ',jp:'Gogou Dosei',elem:'åœŸ',color:'é»„',key:['ä¸­å®«','æƒè¡¡','é‡å¯'],about:'å±…ä¸­å®šç›˜ã€æŠ—å‹å¼ºï¼Œæ“…é•¿ç­–ç•¥ä¸å±æœºç®¡ç†ã€‚'},
  6:{zh:'å…­ç™½é‡‘æ˜Ÿ',jp:'Roppaku Kinsei',elem:'é‡‘',color:'ç™½',key:['ç§©åº','è´£ä»»','é¢†å¯¼'],about:'è‡ªå¾‹æœæ–­ï¼Œé‡è§†è§„åˆ™ä¸è¿œæ™¯è§„åˆ’ã€‚'},
  7:{zh:'ä¸ƒèµ¤é‡‘æ˜Ÿ',jp:'Shichiseki Kinsei',elem:'é‡‘',color:'èµ¤',key:['ç¤¾äº¤','å“å‘³','äº«å—'],about:'äººç¼˜å¥½ã€å®¡ç¾åœ¨çº¿ï¼Œé€‚åˆå“ç‰Œä¸ç¤¾äº¤åœºåŸŸã€‚'},
  8:{zh:'å…«ç™½åœŸæ˜Ÿ',jp:'Happaku Dosei',elem:'åœŸ',color:'ç™½',key:['ç§¯ç´¯','è½¬æŠ˜','å®šå±±'],about:'ç¨³ä¸­æ±‚å˜ã€åšç§¯è–„å‘ï¼Œå…³é”®æ—¶åˆ»èƒ½ç¿»ç›˜ã€‚'},
  9:{zh:'ä¹ç´«ç«æ˜Ÿ',jp:'KyÅ«shi Kasei',elem:'ç«',color:'ç´«',key:['å…‰å½©','çµæ„Ÿ','ä¼ æ’­'],about:'çƒ­æƒ…å¤–æ”¾ã€çµæ„Ÿå¤šï¼Œé€‚åˆç™»å°è¡¨è¾¾ä¸IPæ‰“é€ ã€‚'}
};

/* ===== ä¹æ˜Ÿæ·±åº¦æ•°æ®ï¼ˆç®€ç‰ˆï¼š1â€“9ï¼Œä¸­è‹±ï¼‰ ===== */
const STARS_DEEP = {
  1: {
    element: 'æ°´',
    color: 'ç™½ / è“ / é»‘',
    elements: { æ°´: 4, æœ¨: 2, é‡‘: 2, ç«: 1, åœŸ: 1 },
    directions: { favorable: ['ä¸œå—','å—'], avoid: ['è¥¿å—','ä¸œåŒ—'] },
    text: {
      'zh-CN': {
        personality: 'æ•æ„Ÿç»†è…»ï¼Œç›´è§‰åŠ›å¼ºï¼Œå–„äºæ²Ÿé€šåè°ƒï¼Œå…·æœ‰æµåŠ¨æ€§å’Œé€‚åº”æ€§ã€‚',
        talents: ['æ²Ÿé€šåè°ƒ','ç›´è§‰åˆ¤æ–­','ä¿¡æ¯å¤„ç†','äººé™…å…³ç³»'],
        challenges: ['æƒ…ç»ªæ³¢åŠ¨','ç¼ºä¹å®šåŠ›','å®¹æ˜“å—ç¯å¢ƒå½±å“'],
        career: 'ä¼ åª’ã€æ•™è‚²ã€å’¨è¯¢ã€è´¸æ˜“ã€å¤–äº¤ç­‰ä¸ä¿¡æ¯æµé€šç›¸å…³é¢†åŸŸã€‚',
        career_analysis: {
          strengths: ['æ²Ÿé€šåè°ƒèƒ½åŠ›çªå‡º','ä¿¡æ¯å¤„ç†å¿«é€Ÿ','é€‚åº”æ€§å¼º'],
          opportunities: ['æ–°åª’ä½“è¡Œä¸š','æ•™è‚²åŸ¹è®­','å›½é™…è´¸æ˜“ç›¸å…³åˆä½œ'],
          risks: ['ç«äº‰æ¿€çƒˆ','éœ€è¦æŒç»­å­¦ä¹ ','è¡Œä¸šå˜åŒ–å¿«'],
          actions: ['æ˜ç¡®ä¸€ä¸ªé•¿æœŸæ·±è€•æ–¹å‘','å»ºç«‹ç¨³å®šäººè„‰ç½‘ç»œ','å®šæœŸæ›´æ–°ä¸“ä¸šçŸ¥è¯†']
        },
        relationship_analysis: {
          strengths: ['å–„è§£äººæ„','æ²Ÿé€šèƒ½åŠ›å¼º','æƒ…æ„Ÿç»†è…»'],
          opportunities: ['æ‹“å±•ç¤¾äº¤åœˆ','å‘å±•æ·±åº¦æƒ…æ„Ÿè¿æ¥','å¡‘é€ æ¸©æš–å®¶åº­æ°›å›´'],
          risks: ['æƒ…ç»ªæ•æ„Ÿ','å®¹æ˜“å—ä¼¤','å¯¹å®‰å…¨æ„Ÿè¦æ±‚é«˜'],
          actions: ['å­¦ä¼šè¡¨è¾¾çœŸå®éœ€æ±‚','å»ºç«‹å¥åº·è¾¹ç•Œ','æ‰¾åˆ°æƒ…ç»ªå®£æ³„å‡ºå£']
        },
        health_analysis: {
          strengths: ['æ¢å¤åŠ›å¼º','é€‚åº”èƒ½åŠ›å¥½','å¯¹ç¯å¢ƒå˜åŒ–æ„ŸçŸ¥æ•é”'],
          opportunities: ['æ°´ä¸Šè¿åŠ¨','å†¥æƒ³ä¸å‘¼å¸ç»ƒä¹ ','æ¸©å’Œä¼¸å±•ä¸ç‘œä¼½'],
          risks: ['è‚¾è„ä¸æ³Œå°¿ç³»ç»Ÿå‹åŠ›','æƒ…ç»ªå‹åŠ›ç´¯ç§¯','å…ç–«åŠ›æ³¢åŠ¨'],
          actions: ['ä¿æŒä½œæ¯è§„å¾‹','æ³¨æ„ä¿æš–ä¸é¥®æ°´','ç”¨å†™ä½œæˆ–è¿åŠ¨é‡Šæ”¾æƒ…ç»ª']
        }
      },
      'en': {
        personality: 'Sensitive and intuitive, you communicate smoothly and adapt quickly to changing environments.',
        talents: ['Communication & coordination','Intuitive judgement','Information processing','Relationship skills'],
        challenges: ['Emotional ups and downs','Hard to stay centred at times','Easily influenced by surroundings'],
        career: 'Media, education, consulting, trade and diplomacy.',
        career_analysis: {
          strengths: ['Strong communication skills','Fast at handling information','Highly adaptable'],
          opportunities: ['New media & online content','Education & training','International trade / cross-border work'],
          risks: ['High competition','Need continuous learning','Rapid industry changes'],
          actions: ['Choose one niche to deepen','Build a reliable network','Schedule regular study blocks']
        },
        relationship_analysis: {
          strengths: ['Empathetic and caring','Good listener and communicator','Emotionally delicate'],
          opportunities: ['Broaden your social circle','Create deeper bonds','Build a warm, supportive home'],
          risks: ['Sensitive to rejection','Easily hurt by careless words','Strong need for emotional safety'],
          actions: ['Express needs clearly','Set healthy boundaries','Use journaling or movement to release emotions']
        },
        health_analysis: {
          strengths: ['Strong recovery ability','Good adaptability','High body awareness'],
          opportunities: ['Water-based exercise','Meditation & breathwork','Gentle stretching / yoga'],
          risks: ['Kidney / urinary load','Stress stored in the body','Immune fluctuations'],
          actions: ['Keep a stable sleep rhythm','Stay warm & hydrated','Release emotions via writing or exercise']
        }
      }
    }
  },
  2: {
    element: 'åœŸ',
    color: 'é»„ / æ£•',
    elements: { åœŸ: 4, é‡‘: 2, ç«: 2, æ°´: 1, æœ¨: 1 },
    directions: { favorable: ['è¥¿å—','ä¸œåŒ—'], avoid: ['ä¸œ','ä¸œå—'] },
    text: {
      'zh-CN': {
        personality: 'åŠ¡å®ç¨³é‡ã€è´£ä»»å¿ƒå¼ºï¼Œæ³¨é‡å®é™…ä¸é•¿æœŸç´¯ç§¯ï¼Œå…·æœ‰æ‰¿è½½åŠ›å’Œè€å¿ƒã€‚',
        talents: ['ç»è¥ç®¡ç†','èµ„æºæ•´åˆ','æŒç»­è€•è€˜','è½åœ°æ‰§è¡Œ'],
        challenges: ['ç•¥æ˜¾ä¿å®ˆ','å¯¹å˜åŒ–æ•æ„Ÿ','å®¹æ˜“ç„¦è™‘æ‹…å¿ƒ'],
        career: 'æˆ¿åœ°äº§ã€å†œä¸šã€é‡‘èã€ç®¡ç†ã€æ•™è‚²ç­‰åé•¿æœŸç»è¥é¢†åŸŸã€‚',
        career_analysis: {
          strengths: ['ç®¡ç†ä¸ç»Ÿç­¹èƒ½åŠ›å¼º','æ‰§è¡ŒåŠ›ç¨³å®š','æŠ—å‹èƒ½åŠ›ä½³'],
          opportunities: ['ä¼ ç»Ÿè¡Œä¸šä¸å®ä¸š','ä¸­é«˜å±‚ç®¡ç†å²—ä½','ç¨³å¥å‹æŠ•èµ„ä¸èµ„äº§é…ç½®'],
          risks: ['åˆ›æ–°æ„è¯†ä¸è¶³','å¯¹å˜åŒ–æŠ—æ‹’','å®¹æ˜“é”™è¿‡æ–°èµ›é“'],
          actions: ['æ¯å¹´é€‰æ‹©ä¸€é¡¹æ–°æŠ€èƒ½ç²¾è¿›','å¤šä¸ä¸åŒèƒŒæ™¯çš„äººäº¤æµ','åœ¨ç¨³å®šä¸­å…è®¸è‡ªå·±åšå°å¹…å°è¯•']
        },
        relationship_analysis: {
          strengths: ['é‡è§†å®¶åº­','å¯é æœ‰æ‹…å½“','æ„¿æ„ä»˜å‡ºæ—¶é—´ä¸ç²¾åŠ›'],
          opportunities: ['é€‚åˆå»ºç«‹é•¿æœŸç¨³å®šå…³ç³»','æœ‰æœºä¼šæˆä¸ºå®¶åº­æ”¯æŸ±','ç»™ä¼´ä¾£å®‰å…¨æ„Ÿ'],
          risks: ['è¡¨è¾¾ä¸å¤Ÿæµªæ¼«','å®¹æ˜“ç”¨â€œä»˜å‡ºå¤šå°‘â€è¡¡é‡æ„Ÿæƒ…','ä¸å–„äºç¤ºå¼±æ±‚åŠ©'],
          actions: ['ä¸»åŠ¨è¡¨è¾¾æ„Ÿè°¢ä¸çˆ±æ„','å­¦ä¼šé€‚åº¦æ±‚åŠ©','ä¸ä¼´ä¾£å…±æ‹Ÿé•¿æœŸç”Ÿæ´»è§„åˆ’']
        },
        health_analysis: {
          strengths: ['ä½“è´¨ç¨³å®š','è€åŠ›å¼º','æ¢å¤è™½æ…¢ä½†æ‰å®'],
          opportunities: ['é€‚åˆåŠ›é‡è®­ç»ƒä¸æ­¥è¡Œ','é‡è§†é¥®é£Ÿä½œæ¯å³å¯é•¿æœŸå—ç›Š','é€‚åˆå…»ç”Ÿæ…¢è°ƒèŠ‚'],
          risks: ['æ¶ˆåŒ–ç³»ç»Ÿè´Ÿæ‹…','å‹åŠ›å †ç§¯æˆæ…¢æ€§é—®é¢˜','ä½“é‡ä¸ä»£è°¢æ˜“å¤±è¡¡'],
          actions: ['è§„å¾‹é¥®é£Ÿå°‘ç†¬å¤œ','å®šæœŸä¸ºè‡ªå·±æ”¾å‡æ”¾ç©º','é€šè¿‡è¿åŠ¨å’Œå¤§è‡ªç„¶æ’è§£å‹åŠ›']
        }
      },
      'en': {
        personality: 'Practical, steady and highly responsible, with strong endurance for long-term projects.',
        talents: ['Management & organisation','Resource integration','Long-term effort','Solid execution'],
        challenges: ['Can be conservative','Slow to change direction','Prone to worry'],
        career: 'Real estate, agriculture, finance, management, education and other long-term fields.',
        career_analysis: {
          strengths: ['Strong management ability','Reliable execution','High stress tolerance'],
          opportunities: ['Traditional industries / real economy','Mid-to-senior management roles','Stable, long-term investments'],
          risks: ['Lack of innovation','Resistance to change','May miss new opportunities'],
          actions: ['Learn one new skill every year','Connect with people from different industries','Allow small experiments within a stable base']
        },
        relationship_analysis: {
          strengths: ['Family-oriented','Reliable and committed','Willing to work hard for loved ones'],
          opportunities: ['Suited for long-term partnerships','Likely to become a family pillar','Provides strong sense of security'],
          risks: ['Not naturally romantic','Tends to measure love by effort','Hesitant to show vulnerability'],
          actions: ['Express gratitude & affection more often','Practice asking for support','Co-create long-term plans with your partner']
        },
        health_analysis: {
          strengths: ['Stable constitution','Good endurance','Solid, grounded energy'],
          opportunities: ['Strength training & walking','Balanced diet and routine bring big gains','Suited to slow, steady wellness practices'],
          risks: ['Digestive issues','Chronic stress build-up','Weight / metabolism imbalance'],
          actions: ['Keep meals regular','Protect rest days','Use nature & exercise to discharge stress']
        }
      }
    }
  },
  3: {
    element: 'æœ¨',
    color: 'ç»¿ / é’',
    elements: { æœ¨: 4, æ°´: 2, ç«: 2, åœŸ: 1, é‡‘: 1 },
    directions: { favorable: ['ä¸œ','ä¸œå—'], avoid: ['è¥¿','è¥¿åŒ—'] },
    text: {
      'zh-CN': {
        personality: 'ç§¯æè¿›å–ï¼Œè¡¨è¾¾åŠ›å¼ºï¼Œå¯Œæœ‰åˆ›æ„ï¼Œå…·æœ‰å¼ºçƒˆçš„å¼€æ‹“ç²¾ç¥ã€‚',
        talents: ['åˆ›æ–°æ€ç»´','å¼€æ‹“è¿›å–','è¡¨è¾¾æ²Ÿé€š','å¿«é€Ÿå­¦ä¹ '],
        challenges: ['å†²åŠ¨æ€¥èº','ç¼ºä¹è€å¿ƒ','å®¹æ˜“ä¸äººèµ·å†²çª'],
        career: 'åˆ›æ„äº§ä¸šã€é”€å”®ã€æ•™è‚²ã€åª’ä½“ã€è‡ªä¸»åˆ›ä¸šç­‰éœ€è¦å†²åŠ²ä¸è¡¨è¾¾çš„é¢†åŸŸã€‚',
        career_analysis: {
          strengths: ['åˆ›æ–°èƒ½åŠ›å¼º','æ„ŸæŸ“åŠ›å¼º','å­¦ä¹ é€Ÿåº¦å¿«'],
          opportunities: ['å†…å®¹åˆ›ä½œä¸å“ç‰Œè¥é”€','ä¸ªäººIPä¸è‡ªåª’ä½“','æ•™è‚²ä¸åŸ¹è®­'],
          risks: ['ä¸‰åˆ†é’Ÿçƒ­åº¦','èŠ‚å¥è¿‡å¿«å¯¼è‡´æ¶ˆè€—','èµ„æºä¸äººè„‰ç®¡ç†ä¸è¶³'],
          actions: ['ä¸ºè‡ªå·±è®¾å®šé˜¶æ®µæ€§ç›®æ ‡ä¸æˆªæ­¢æ—¥æœŸ','æ‰¾ä¼™ä¼´äº’ç›¸ç›‘ç£','å®šæœŸå¤ç›˜ä¸æ”¶æŸé¡¹ç›®']
        },
        relationship_analysis: {
          strengths: ['çƒ­æƒ…ä¸»åŠ¨','æ“…é•¿è¡¨è¾¾æ„Ÿå—','æœ‰ä¸ªäººé­…åŠ›'],
          opportunities: ['å®¹æ˜“å¸å¼•ä»–äººå…³æ³¨','é€‚åˆåœ¨äº’åŠ¨ä¸­å»ºç«‹æ„Ÿæƒ…','ç¤¾äº¤åœˆæ´»è·ƒ'],
          risks: ['æƒ…ç»ªåŒ–æ—¶å®¹æ˜“å£ä¸æ‹©è¨€','éš¾ä»¥é•¿æœŸç»´æŒç¨³å®šèŠ‚å¥','å®¹æ˜“å¿½ç•¥å¯¹æ–¹çš„èŠ‚å¥ä¸æ„Ÿå—'],
          actions: ['ç»ƒä¹ åœ¨æ¿€åŠ¨å‰åœé¡¿ä¸‰ç§’','åˆ»æ„å®‰æ’å®‰é™é™ªä¼´çš„æ—¶åˆ»','å¤šä¸€ç‚¹å€¾å¬ï¼Œå°‘ä¸€ç‚¹è¾©è§£']
        },
        health_analysis: {
          strengths: ['æ´»åŠ›å……æ²›','æ¢å¤åŠ›ä½³','é€‚åˆåŠ¨æ€è¿åŠ¨'],
          opportunities: ['è·‘æ­¥ã€æœ‰æ°§ã€çƒç±»è¿åŠ¨','ç”¨è¿åŠ¨ä»£æ›¿å‘ç«','æˆ·å¤–é˜³å…‰æœ‰åˆ©äºè°ƒèŠ‚æƒ…ç»ª'],
          risks: ['è‚èƒ†ç³»ç»Ÿå‹åŠ›','æƒ…ç»ªéƒç»“é€ æˆè‚Œè‚‰ç´§ç»·','ç†¬å¤œä¸é¥®é£Ÿä¸è§„å¾‹'],
          actions: ['å‡å°‘ç†¬å¤œä¸é…’ç²¾','ç”¨æ‹‰ä¼¸å’Œè¿åŠ¨æ’è§£æƒ…ç»ª','ä¿æŒç›¸å¯¹ç¨³å®šçš„ä½œæ¯èŠ‚å¥']
        }
      },
      'en': {
        personality: 'Active, expressive and creative, with strong pioneering energy and desire to move forward.',
        talents: ['Creative thinking','Taking initiative','Expressive communication','Fast learning'],
        challenges: ['Impulsive and impatient','May start many things but not finish','Prone to conflict when emotional'],
        career: 'Creative industries, sales, education, media, entrepreneurship.',
        career_analysis: {
          strengths: ['High creativity','Charisma and expressive power','Learns quickly'],
          opportunities: ['Content creation & branding','Personal brand or business','Teaching & training'],
          risks: ['â€œThree-minute passionâ€','Burnout from going too fast','Weak organisation & resource management'],
          actions: ['Break big goals into small milestones','Find an accountability partner','Schedule weekly review / tidy-up time']
        },
        relationship_analysis: {
          strengths: ['Passionate & proactive','Able to express feelings openly','Fun and lively presence'],
          opportunities: ['Easily meets new people','Builds chemistry through interaction','Active social life'],
          risks: ['Sharp words when angry','Hard to keep a stable rhythm','May overlook partnerâ€™s pace & needs'],
          actions: ['Pause a few seconds before reacting','Create quiet, slow moments with loved ones','Practice listening slightly more than speaking']
        },
        health_analysis: {
          strengths: ['High energy','Strong recovery','Suited to dynamic exercise'],
          opportunities: ['Running, cardio, ball games','Use movement instead of anger','Sunlight & outdoor time stabilise mood'],
          risks: ['Liver & gallbladder stress','Muscle tension from repressed anger','Late nights & irregular meals'],
          actions: ['Limit alcohol & late nights','Use stretching & sports to discharge stress','Keep a reasonably consistent daily rhythm']
        }
      }
    }
  },
  4: {
    element: 'æœ¨',
    color: 'ç»¿',
    elements: { æœ¨: 3, æ°´: 2, åœŸ: 2, ç«: 1, é‡‘: 1 },
    directions: { favorable: ['ä¸œå—','ä¸œ'], avoid: ['è¥¿åŒ—'] },
    text: {
      'zh-CN': {
        personality: 'æ¸©å’ŒåŒ…å®¹ã€å–„äºå€¾å¬ï¼Œé€‚åˆåœ¨æµåŠ¨çš„äººé™…ç½‘ç»œä¸­å»ºç«‹é•¿æœŸä¿¡ä»»ã€‚',
        talents: ['æ²Ÿé€šåè°ƒ','å­¦ä¹ æ•´åˆ','æ—…è¡Œäº¤æµ'],
        challenges: ['ä¼˜æŸ”å¯¡æ–­','å®¹æ˜“å—ç¯å¢ƒå½±å“','å¯¹è¯„ä»·æ•æ„Ÿ'],
        career: 'æ•™è‚²åŸ¹è®­ã€é¡¾é—®ã€ç¿»è¯‘ã€æ—…æ¸¸ã€åä½œå‹å·¥ä½œã€‚',
        career_analysis: {
          strengths: ['å–„äºå»ºç«‹å…³ç³»','å­¦ä¹ èƒ½åŠ›å¥½','é€‚åˆè·¨é¢†åŸŸæ•´åˆ'],
          opportunities: ['çŸ¥è¯†è¾“å‡ºä¸æ•™å­¦','è·¨å›½ / è·¨æ–‡åŒ–åˆä½œ','é¡¾é—®ä¸ä¸­ä»‹è§’è‰²'],
          risks: ['å†³ç­–æ‹–å»¶','ç›®æ ‡ä¸å¤Ÿèšç„¦','ç¼ºä¹å¼ºåŠ¿è¡¨è¾¾'],
          actions: ['ä¸ºè‡ªå·±è®¾å®šæ¸…æ™°ä¼˜å…ˆçº§','åœ¨æ“…é•¿é¢†åŸŸå»ºç«‹ä¸“ä¸šå®šä½','ç»ƒä¹ æå‡ºæ˜ç¡®ç»“è®º']
        },
        relationship_analysis: {
          strengths: ['ä½“è´´æ¸©æŸ”','æ„¿æ„å€¾å¬','ç›¸å¤„èˆ’é€‚'],
          opportunities: ['é€‚åˆæ…¢çƒ­å‹å…³ç³»','å®¹æ˜“æˆä¸ºæœ‹å‹ä¸æ‹äººé—´çš„æ¡¥æ¢','å–„äºå¤„ç†å®¶æ—å…³ç³»'],
          risks: ['å®¹æ˜“ä¸ºä»–äººç‰ºç‰²è‡ªå·±','ä¸å–„æ‹’ç»','ä¸æ»¡ç§¯å‹'],
          actions: ['ç»ƒä¹ è¯´â€œä¸â€å¹¶ä¿æŒç¬‘å®¹','æ¸…æ¥šç•Œå®šè‡ªå·±èƒ½ç»™ä¸ä¸èƒ½ç»™çš„èŒƒå›´','æŠŠçœŸå®æ„Ÿå—å†™ä¸‹æ¥å†æ²Ÿé€š']
        },
        health_analysis: {
          strengths: ['æ¢å¤åŠ›å°šå¯','å¯¹ç¯å¢ƒæ•æ„Ÿ','é€‚åˆæ¸©å’Œè¿åŠ¨'],
          opportunities: ['ç‘œä¼½ã€æ™®æ‹‰æã€æ•£æ­¥','äº²è¿‘å¤§è‡ªç„¶','è§„å¾‹ä½œæ¯'],
          risks: ['è‚æ°”éƒç»“','è‚©é¢ˆä¸è…°éƒ¨é…¸ç—›','å‹åŠ›å‹å¤±çœ '],
          actions: ['å®šæœŸä¼¸å±•ä¸æ”¾æ¾ç»ƒä¹ ','å‡å°‘é•¿æ—¶é—´ä¹…å','ç”¨å†™ä½œæˆ–åˆ›ä½œæŠ’å‹']
        }
      },
      'en': {
        personality: 'Gentle, cooperative and flexible, with talent for connecting people and ideas over time.',
        talents: ['Communication & coordination','Learning & synthesis','Bridge-building between groups'],
        challenges: ['Indecisiveness','Easily influenced by others','Sensitive to criticism'],
        career: 'Education, consulting, translation, tourism, team-based roles.',
        career_analysis: {
          strengths: ['Good relationship-builder','Strong learner','Able to connect different fields'],
          opportunities: ['Teaching / mentoring','Cross-border or cross-cultural work','Advisor / mediator roles'],
          risks: ['Slow decision-making','Lack of focus','Not assertive enough'],
          actions: ['Define clear priorities','Build authority in one niche','Practice giving clear conclusions']
        },
        relationship_analysis: {
          strengths: ['Caring and gentle','Good listener','Comfortable to be around'],
          opportunities: ['Suited to slow-burn relationships','Good at harmonising family / friends','Easily gains trust'],
          risks: ['Self-sacrifice','Hard to say no','Hidden resentment'],
          actions: ['Practice saying â€œnoâ€ kindly','Clarify what you truly can / cannot give','Write feelings before speaking']
        },
        health_analysis: {
          strengths: ['Decent recovery','Sensitive to environment','Suited to gentle exercise'],
          opportunities: ['Yoga, pilates, walking','Nature time','Regular sleep routine'],
          risks: ['Liver-Qi stagnation','Neck / waist tension','Stress-related insomnia'],
          actions: ['Stretch regularly','Avoid long sedentary periods','Use creative outlets to release stress']
        }
      }
    }
  },
  5: {
    element: 'åœŸ',
    color: 'é»„',
    elements: { åœŸ: 4, ç«: 2, é‡‘: 1, æœ¨: 1, æ°´: 1 },
    directions: { favorable: ['ä¸­å®«','æ ¹æ®æµå¹´è€Œå®š'], avoid: ['è¿‡åº¦å±…ä¸­ä¸åŠ¨'] },
    text: {
      'zh-CN': {
        personality: 'å±…ä¸­å®šç›˜ã€æ°”åœºå¼ºï¼Œå®¹æ˜“æˆä¸ºå›¢é˜Ÿæˆ–å®¶åº­çš„è½´å¿ƒäººç‰©ã€‚',
        talents: ['ç»Ÿç­¹å…¨å±€','å±æœºç®¡ç†','èµ„æºè°ƒåº¦'],
        challenges: ['å‹åŠ›é›†ä¸­','æ˜“è‡ªè´£','æç«¯æ—¶ä¼šâ€œå…¨ç›˜æ¨å€’â€'],
        career: 'é«˜å‹ç®¡ç†å²—ä½ã€é¡¹ç›®è´Ÿè´£äººã€éœ€è¦ç»Ÿç­¹å¤šæ–¹èµ„æºçš„å·¥ä½œã€‚',
        career_analysis: {
          strengths: ['æŒæ§åŠ›å¼º','é€‚åˆåšä¸­æ¢','ä¸´å±ä¸ä¹±'],
          opportunities: ['å±æœºè½¬æœºé¡¹ç›®','é‡ç»„ / é‡å»ºå‹ä»»åŠ¡','å¸¦é¢†å›¢é˜Ÿç¿»ç›˜'],
          risks: ['æŠŠæ‰€æœ‰è´£ä»»éƒ½æ‰›åœ¨è‡ªå·±èº«ä¸Š','éš¾ä»¥æ±‚åŠ©','å®¹æ˜“ç–²æƒ«å€¦æ€ '],
          actions: ['å­¦ä¼šæˆæƒä¸åˆ†å·¥','ä¸ºè‡ªå·±è®¾è®¡â€œå®‰å…¨ç¼“å†²åŒºâ€','å®šæœŸåšèº«ä½“æ£€æŸ¥ä¸èƒ½é‡æ’æ¯’']
        },
        relationship_analysis: {
          strengths: ['æœ‰æ‹…å½“','ä¹äºç…§é¡¾å¤§å®¶','æ„¿æ„æ‰›è´£ä»»'],
          opportunities: ['æˆä¸ºå®¶åº­æ ¸å¿ƒ','åœ¨å…³ç³»ä¸­æä¾›ç¨³å®šæ„Ÿ','é€‚åˆé•¿æœŸæ‰¿è¯º'],
          risks: ['æŠŠæ§åˆ¶å½“æˆå…³å¿ƒ','ä¸è‡ªè§‰æŒæ§ä»–äººèŠ‚å¥','éš¾ä»¥æ‰¿è®¤è‡ªå·±è„†å¼±'],
          actions: ['å¤šé—®å¯¹æ–¹æ„Ÿå—è€Œä¸æ˜¯æ›¿å¯¹æ–¹å†³å®š','ç»™è‡ªå·±ç•™ç§äººç©ºé—´','æ‰¿è®¤â€œæˆ‘ä¹Ÿéœ€è¦è¢«ç…§é¡¾â€']
        },
        health_analysis: {
          strengths: ['æ¢å¤åŠ›å¼º','æŠ—å‹æ€§é«˜'],
          opportunities: ['å®šæœŸæ’æ¯’ä¸èº«å¿ƒç–—æ„ˆ','é€‚åˆé™å¿ƒå†¥æƒ³ä¸æ·±åº¦æ”¾æ¾','è§„å¾‹ä½œæ¯æ”¾å¤§ä¼˜åŠ¿'],
          risks: ['è„¾èƒƒè´Ÿæ‹…','ä¸­ç„¦å µå¡æ„Ÿ','è¿‡åŠ³ç»¼åˆç—‡'],
          actions: ['æ³¨æ„é¥®é£Ÿæ¸…æ·¡','é¿å…é•¿æœŸè¿‡é¥± / è¿‡é¥¿','å®‰æ’çœŸæ­£â€œç¦»çº¿â€çš„ä¼‘æ¯æ—¥']
        }
      },
      'en': {
        personality: 'Central, powerful presence. You often become the axis others revolve around.',
        talents: ['Seeing the whole picture','Crisis management','Resource coordination'],
        challenges: ['Pressure concentrates on you','Self-blame','All-or-nothing tendencies'],
        career: 'High-pressure management, project lead, roles that coordinate many parties.',
        career_analysis: {
          strengths: ['Strong control & overview','Good central coordinator','Calm in crisis'],
          opportunities: ['Turnaround projects','Restructuring / rebuilding missions','Leading teams through change'],
          risks: ['Carrying all responsibility alone','Difficulty asking for help','Burnout risk'],
          actions: ['Learn to delegate','Design â€œsafety buffersâ€ for yourself','Schedule regular health & energy check-ins']
        },
        relationship_analysis: {
          strengths: ['Responsible','Protective','Offers stability'],
          opportunities: ['Acts as family anchor','Good for long-term commitments','Provides security'],
          risks: ['Control disguised as care','Unconscious dominance over othersâ€™ pace','Hard to show vulnerability'],
          actions: ['Ask othersâ€™ feelings before deciding','Keep your own private space','Allow yourself to need support']
        },
        health_analysis: {
          strengths: ['Strong recovery','High stress tolerance'],
          opportunities: ['Detox & healing retreats','Meditation and deep relaxation','Regular routine amplifies health'],
          risks: ['Digestive issues','Central body heaviness / bloating','Overwork'],
          actions: ['Eat clean and moderately','Avoid long-term overeating / undereating','Have real offline rest days']
        }
      }
    }
  },
  6: {
    element: 'é‡‘',
    color: 'ç™½',
    elements: { é‡‘: 4, åœŸ: 2, æ°´: 1, ç«: 1, æœ¨: 1 },
    directions: { favorable: ['è¥¿åŒ—','è¥¿'], avoid: ['ä¸œå—'] },
    text: {
      'zh-CN': {
        personality: 'è‡ªå¾‹æœæ–­ã€é‡è§†åŸåˆ™ä¸è§„åˆ™ï¼Œé€‚åˆæ‰¿æ‹…é¢†å¯¼ä¸å†³ç­–è§’è‰²ã€‚',
        talents: ['è§„åˆ’èƒ½åŠ›','æ‰§è¡ŒåŠ›','ç»„ç»‡ç®¡ç†'],
        challenges: ['å®¹æ˜“ä¸¥è‹›','ä¸æ˜“å¦¥å','æƒ…æ„Ÿè¡¨è¾¾åç†æ€§'],
        career: 'ç®¡ç†å±‚ã€æ”¿åºœæœºå…³ã€é‡‘èã€å†›è­¦ç³»ç»Ÿã€éœ€è¦å¼ºè§„åˆ™çš„é¢†åŸŸã€‚',
        career_analysis: {
          strengths: ['å†³ç­–å¹²è„†','æ‰§è¡Œæ ‡å‡†é«˜','å…¬ä¿¡åŠ›å¼º'],
          opportunities: ['åˆ¶åº¦å»ºè®¾','é£é™©ç®¡æ§','å¸¦é¢†å›¢é˜Ÿæå‡æ ‡å‡†'],
          risks: ['è¿‡äºåˆšç¡¬','å¿½ç•¥äººæƒ…æ¸©åº¦','åˆ›æ–°ä¸è¶³'],
          actions: ['åˆ»æ„ç»ƒä¹ æ¢ä½æ€è€ƒ','åœ¨åˆ¶åº¦ä¸­ç•™å‡ºå¼¹æ€§ç©ºé—´','å­¦ä¹ æŸ”æ€§æ²Ÿé€šæŠ€å·§']
        },
        relationship_analysis: {
          strengths: ['å¯é å®ˆä¿¡','è®²åŸåˆ™','é‡æ‰¿è¯º'],
          opportunities: ['é€‚åˆé•¿æœŸä¼´ä¾£å…³ç³»','èƒ½æä¾›ç»“æ„æ„Ÿ','åœ¨å…³é”®æ—¶åˆ»èƒ½æ’‘ä½'],
          risks: ['ä¸å–„è¡¨è¾¾æŸ”è½¯ä¸€é¢','è¦æ±‚å¯¹æ–¹é…åˆè‡ªå·±èŠ‚å¥','éš¾ä»¥ç¤ºå¼±'],
          actions: ['ç”¨è¡ŒåŠ¨ä»¥å¤–ä¹Ÿç»™å‡ºè¨€è¯­è‚¯å®š','ä¸ä¼´ä¾£è®¨è®ºâ€œè§„åˆ™èƒŒåçš„å…³å¿ƒâ€','å…è®¸å¶å°”â€œåªæ˜¯æ”¾æ¾ç›¸å¤„â€']
        },
        health_analysis: {
          strengths: ['éª¨éª¼ä¸ç­‹éª¨åŠ›é‡å¥½','è€å‹èƒ½åŠ›å¼º'],
          opportunities: ['åŠ›é‡è®­ç»ƒã€çˆ¬å±±','è§„å¾‹ä½œæ¯','é€‚åº¦å†·æ°´ / æ—©èµ·é”»ç‚¼'],
          risks: ['è‚ºä¸å‘¼å¸ç³»ç»Ÿå‹åŠ›','è‚©é¢ˆåƒµç¡¬','è¿‡åº¦ç´§ç»·'],
          actions: ['ç»ƒä¹ æ·±å‘¼å¸','å®šæœŸæŒ‰æ‘©ä¸æ‹‰ä¼¸','ä¸ºè‡ªå·±è®¾ç½®â€œæ— è¦æ±‚æ—¶æ®µâ€']
        }
      },
      'en': {
        personality: 'Disciplined, decisive and principled, with natural leadership tendencies.',
        talents: ['Planning','Execution','Organisation & management'],
        challenges: ['Can be strict','Hard to compromise','Emotionally reserved'],
        career: 'Management, government, finance, military / police, rule-heavy fields.',
        career_analysis: {
          strengths: ['Clear decisions','High standards','Strong authority'],
          opportunities: ['System building','Risk control','Raising team standards'],
          risks: ['Overly rigid','Lack emotional warmth','Low innovation'],
          actions: ['Practice perspective-taking','Build flexibility into systems','Learn softer communication']
        },
        relationship_analysis: {
          strengths: ['Reliable & loyal','Principled','Values commitment'],
          opportunities: ['Good for long-term partnership','Provides structure & safety','Solid in crisis'],
          risks: ['Hard to show softness','Expect others to match your pace','Reluctant to show weakness'],
          actions: ['Offer verbal appreciation, not just actions','Explain the care behind your â€œrulesâ€','Allow time just to relax together']
        },
        health_analysis: {
          strengths: ['Strong bones & structure','Good endurance'],
          opportunities: ['Strength training, hiking','Stable routine','Cool-air / morning workouts'],
          risks: ['Lung / respiratory stress','Neck & shoulder stiffness','Constant body tension'],
          actions: ['Practice deep breathing','Get massage & stretching','Schedule â€œno-demandâ€ windows for yourself']
        }
      }
    }
  },
  7: {
    element: 'é‡‘',
    color: 'èµ¤',
    elements: { é‡‘: 3, åœŸ: 2, ç«: 2, æ°´: 1, æœ¨: 1 },
    directions: { favorable: ['è¥¿','è¥¿å—'], avoid: ['ä¸œ'] },
    text: {
      'zh-CN': {
        personality: 'ç¤¾äº¤åŠ›å¼ºã€å£æ‰å¥½ã€äº«å—ç¾ä¸æ„‰æ‚¦ï¼Œé€‚åˆåœ¨èˆå°ä¸äººç¾¤ä¸­å‘å…‰ã€‚',
        talents: ['è¡¨è¾¾è¯´æœ','å®¡ç¾å“å‘³','äººè„‰ç»è¥'],
        challenges: ['å®¹æ˜“åˆ†å¿ƒ','äº«ä¹è¿‡åº¦','æƒ…ç»ªèµ·ä¼'],
        career: 'é”€å”®ã€å¨±ä¹äº§ä¸šã€ç¾å®¹ç¾ä¸šã€å“ç‰Œã€å…¬å…³ã€ç›´æ’­ä¸å†…å®¹åˆ›ä½œã€‚',
        career_analysis: {
          strengths: ['äººç¼˜ä½³','å¸å¼•åŠ›å¼º','å–„äºæ¨ä»‹ä¸åˆ†äº«'],
          opportunities: ['ä¸ªäººIPä¸å“ç‰Œæ‰“é€ ','ç¤¾äº¤åª’ä½“è¿è¥','å•†åŠ¡æ‹“å±•'],
          risks: ['è¿‡åº¦ä¾èµ–äººæ°”','æƒ…ç»ªå½±å“è¡¨ç°','è´¢åŠ¡è§„åˆ’ä¸è¶³'],
          actions: ['åšå¥½æ”¶æ”¯è§„åˆ’','å°†ä¸ªäººé­…åŠ›è½¬åŒ–ä¸ºé•¿æœŸèµ„äº§','åšæŒå­¦ä¹ ä¸“ä¸šæŠ€èƒ½']
        },
        relationship_analysis: {
          strengths: ['å¹½é»˜æœ‰è¶£','ä¼šè¥é€ æ°”æ°›','æ‡‚å¾—å–æ‚¦å¯¹æ–¹'],
          opportunities: ['æ¡ƒèŠ±æœºä¼šå¤š','é€‚åˆåœ¨ç¤¾äº¤åœºåˆé‡è§ä¼´ä¾£','å©šåä»èƒ½ä¿æŒç”Ÿæ´»æƒ…è¶£'],
          risks: ['æ„Ÿæƒ…èŠ‚å¥å¿«','å®³æ€•æ— èŠ','å®¹æ˜“è¢«å¤–ç•Œè¯±æƒ‘æ‰°åŠ¨'],
          actions: ['å˜æ¸…è‡ªå·±çœŸæ­£éœ€è¦çš„å…³ç³»','é¿å…â€œæ— æ„è¯†æ’©äººâ€','ä¸ä¼´ä¾£è®¢ç«‹å…±åŒä»·å€¼è§‚']
        },
        health_analysis: {
          strengths: ['æ¢å¤åŠ›ä¸é”™','å¿ƒç†å¼¹æ€§å¥½'],
          opportunities: ['èˆè¹ˆã€å›¢ä½“è¿åŠ¨','éŸ³ä¹ç–—æ„ˆ','ç”¨è‰ºæœ¯æŠ’å‹'],
          risks: ['å£è…”ä¸å‘¼å¸ç³»ç»Ÿ','ç†¬å¤œè¿‡åº¦','é¥®é£Ÿä¸èŠ‚åˆ¶'],
          actions: ['å‡å°‘æ·±å¤œé›¶é£Ÿä¸é…’ç²¾','å®šæœŸä½“æ£€','ç”¨æœ‰æ„è¯†çš„ä¼‘æ¯æ›¿ä»£â€œç»§ç»­ç©â€']
        }
      },
      'en': {
        personality: 'Charming, talkative and pleasure-oriented, with strong social presence and taste.',
        talents: ['Persuasion & expression','Aesthetic sense','Network building'],
        challenges: ['Easily distracted','Over-indulgence','Emotional swings'],
        career: 'Sales, entertainment, beauty, branding, PR, live streaming, content creation.',
        career_analysis: {
          strengths: ['Good popularity','Strong attraction','Skilled at recommending & sharing'],
          opportunities: ['Personal brand & IP','Social media','Business development'],
          risks: ['Dependence on popularity','Mood-dependent performance','Weak financial planning'],
          actions: ['Create a clear budget plan','Turn charisma into long-term assets','Keep learning real skills']
        },
        relationship_analysis: {
          strengths: ['Fun & humorous','Creates atmosphere','Knows how to please others'],
          opportunities: ['Many romantic chances','Likely to meet partners socially','Can keep marriage lively'],
          risks: ['Fast relationship pace','Fear of boredom','Tempted by outside attention'],
          actions: ['Clarify what kind of relationship you truly want','Avoid unconscious flirting','Build shared values with partner']
        },
        health_analysis: {
          strengths: ['Good resilience','Psychological flexibility'],
          opportunities: ['Dance, group workouts','Music & art therapy','Expressive activities'],
          risks: ['Mouth / respiratory issues','Late-night lifestyle','Overeating / drinking'],
          actions: ['Cut down midnight snacks & alcohol','Regular check-ups','Choose conscious rest over â€œone more roundâ€']
        }
      }
    }
  },
  8: {
    element: 'åœŸ',
    color: 'ç™½',
    elements: { åœŸ: 3, é‡‘: 2, ç«: 2, æœ¨: 1, æ°´: 1 },
    directions: { favorable: ['ä¸œåŒ—','è¥¿å—'], avoid: ['å—'] },
    text: {
      'zh-CN': {
        personality: 'åšç§¯è–„å‘ã€å†…é‡ŒéŸ§æ€§å¼ºï¼Œç”Ÿå‘½å¤šåœ¨å…³é”®èŠ‚ç‚¹å‡ºç°â€œè½¬æŠ˜å±±å£â€ã€‚',
        talents: ['é•¿æœŸç´¯ç§¯','èµ„äº§ç®¡ç†','ç¨³ä¸­æ±‚å˜'],
        challenges: ['èµ·æ­¥æ…¢','ä¸çˆ±è¡¨è¾¾','è½¬æ¢æœŸå‹åŠ›å¤§'],
        career: 'ä¸åŠ¨äº§ã€é‡‘èã€å·¥ç¨‹ã€ä¸åœŸåœ° / å»ºè®¾ç›¸å…³çš„äº‹ä¸šã€‚',
        career_analysis: {
          strengths: ['ç¨³ä¸­æœ‰è¿›','æŠ—å‹å¼º','é‡è§†å®‰å…¨è¾¹ç•Œ'],
          opportunities: ['é•¿æœŸèµ„äº§ç´¯ç§¯','æˆ¿äº§ç›¸å…³äº‹ä¸š','åœ¨ç¨³å®šå¹³å°ä¸Šç¼“æ…¢ä¸Šå‡'],
          risks: ['ä¿å®ˆ','å®³æ€•å¤±å»å·²æœ‰å®‰å…¨','çŠ¹è±«è€½è¯¯æœºç¼˜'],
          actions: ['è®¾å®šåˆ†é˜¶æ®µè½¬å‹è®¡åˆ’','ç”¨â€œå°æ­¥å¿«è¯•â€é™ä½é£é™©æ„Ÿ','åœ¨ç¨³å®šåŸºç¡€ä¸ŠåŠ ä¸€ç‚¹å†’é™©']
        },
        relationship_analysis: {
          strengths: ['å¿ è¯šå¯é ','é‡è§†å®¶åº­','ä¸€æ—¦å†³å®šå°±ä¸è½»æ˜“æ”¾å¼ƒ'],
          opportunities: ['é€‚åˆæ™šä¸€ç‚¹æˆå®¶','èƒ½åœ¨å‹åŠ›æœŸæ’‘ä½å®¶åº­','å¯¹ä¼´ä¾£æœ‰å®é™…æ”¯æŒåŠ›'],
          risks: ['ä¸å–„è¡¨è¾¾æµªæ¼«','æƒ…ç»ªé—·åœ¨å¿ƒé‡Œ','è½¬æŠ˜æœŸæ˜“æƒ³å¤ªå¤š'],
          actions: ['ç”¨å®é™…è¡ŒåŠ¨+ç®€çŸ­è¯­è¨€è¡¨è¾¾çˆ±','åœ¨å‹åŠ›å¤§æ—¶ä¸»åŠ¨æ²Ÿé€š','å…è®¸è‡ªå·±æ…¢æ…¢è®²æ¸…æ¥šæ„Ÿå—']
        },
        health_analysis: {
          strengths: ['æ¢å¤åŠ›å¼º','é€‚åˆå±±åœ° / å¾’æ­¥','éª¨éª¼æ‰å®'],
          opportunities: ['çˆ¬å±±ã€å¥èµ°','ä¸å¤§åœ°æ¥è§¦æ¥åœ°æ°”','è§„å¾‹ä½œæ¯'],
          risks: ['å…³èŠ‚å‹åŠ›','è…°è†é—®é¢˜','æƒ…ç»ªç§¯ç´¯ä¸ºèº«ä½“æ²‰é‡æ„Ÿ'],
          actions: ['ä¿æŒé€‚åº¦è¿åŠ¨','é¿å…ä¹…å','ç»ƒä¹ æ‹‰ä¼¸ä¸æ ¸å¿ƒè®­ç»ƒ']
        }
      },
      'en': {
        personality: 'Slow-starting but strong, with life shaped by key turning points and accumulated effort.',
        talents: ['Long-term accumulation','Asset building','Stable transformation'],
        challenges: ['Slow to start','Not expressive','Feels heavy during transitions'],
        career: 'Real estate, finance, engineering, land / construction-related work.',
        career_analysis: {
          strengths: ['Steady progress','High toughness','Values security'],
          opportunities: ['Long-term asset growth','Property-related work','Rising slowly within stable platforms'],
          risks: ['Conservative mindset','Fear of losing what you have','Missing chances through hesitation'],
          actions: ['Plan staged transitions','Use small, low-risk experiments','Add a bit of adventure on a safe base']
        },
        relationship_analysis: {
          strengths: ['Loyal & reliable','Family-oriented','Doesnâ€™t give up easily'],
          opportunities: ['Often better with slightly later marriage','Strong in difficult times','Practical support for partner'],
          risks: ['Not very romantic','Bottles up emotions','Overthinks during turning points'],
          actions: ['Pair actions with a few simple loving words','Talk proactively when stressed','Give yourself time to speak your feelings slowly']
        },
        health_analysis: {
          strengths: ['Strong recovery','Suited to hiking / walking','Solid bones'],
          opportunities: ['Mountain hiking, brisk walking','Grounding with nature','Regular sleep'],
          risks: ['Joint strain','Back / knee issues','Heavy body feeling from stress'],
          actions: ['Keep moderate exercise','Avoid long sitting','Do stretching & core work']
        }
      }
    }
  },
  9: {
    element: 'ç«',
    color: 'ç´«',
    elements: { ç«: 4, æœ¨: 2, åœŸ: 2, é‡‘: 1, æ°´: 1 },
    directions: { favorable: ['å—','ä¸œå—'], avoid: ['åŒ—'] },
    text: {
      'zh-CN': {
        personality: 'çƒ­æƒ…å¤–æ”¾ã€çµæ„Ÿä¸°å¯Œã€è¡¨ç°æ¬²å¼ºï¼Œé€‚åˆåœ¨ç¯å…‰ä¸èˆå°ä¸­å‘å…‰ã€‚',
        talents: ['è¡¨è¾¾å‘ˆç°','çµæ„Ÿåˆ›ä½œ','ä¼ æ’­å½±å“'],
        challenges: ['æƒ…ç»ªèµ·ä¼æ˜æ˜¾','æ˜“è¿‡åº¦æŠ•å…¥','æ€•è¢«å¿½ç•¥'],
        career: 'è¡¨æ¼”ã€è‰ºæœ¯ã€åª’ä½“ã€è‡ªåª’ä½“ã€å“ç‰Œã€ç­–å±•ã€åŸ¹è®­ç­‰éœ€è¦æ›å…‰ä¸çµæ„Ÿçš„é¢†åŸŸã€‚',
        career_analysis: {
          strengths: ['åˆ›æ„åè¶³','è¡¨ç°åŠ›å¼º','å–„äºæŠ“çƒ­ç‚¹'],
          opportunities: ['ä¸ªäººIP','çº¿ä¸Šè¯¾ç¨‹ä¸åˆ†äº«','åˆ›æ„å“ç‰Œ'],
          risks: ['çƒ­æƒ…æ¥å¾—å¿«å»å¾—ä¹Ÿå¿«','è¿‡åº¦åœ¨æ„åé¦ˆ','æƒ…ç»ªå½±å“å†³ç­–'],
          actions: ['å»ºç«‹å¹•åç¨³å®šå›¢é˜Ÿ','ç»™è‡ªå·±è®¾å®šâ€œç¦»çº¿æ—¶æ®µâ€','ç”¨ç³»ç»ŸåŒ–æ–¹æ³•ç®¡ç†åˆ›æ„']
        },
        relationship_analysis: {
          strengths: ['æµªæ¼«çƒ­æƒ…','å–„äºåˆ¶é€ æƒŠå–œ','æ°”æ°›æ‹…å½“'],
          opportunities: ['æ˜“åœ¨æ´»åŠ¨ã€ç¤¾ç¾¤ä¸­é‡è§å¯¹è±¡','æ„Ÿæƒ…è¡¨è¾¾ä¸°å¯Œ','èƒ½æ¿€æ´»å…³ç³»çƒ­åº¦'],
          risks: ['æ€•å†·åœº','å®³æ€•è¢«å¿½è§†','å®¹æ˜“ç–‘å¿ƒå¯¹æ–¹ä¸å¤Ÿåœ¨æ„'],
          actions: ['åŒºåˆ†â€œè¢«çœ‹è§â€å’Œâ€œè¢«çˆ±â€çš„å·®å¼‚','ä¸ä½ åœ¨ä¹çš„äººç¡®è®¤çœŸå®éœ€æ±‚','åœ¨å…³ç³»ä¸­ç•™ç‚¹å®‰é™ç©ºé—´']
        },
        health_analysis: {
          strengths: ['æ–°é™ˆä»£è°¢å¿«','é€‚åˆæœ‰æ°§è¿åŠ¨'],
          opportunities: ['èˆè¹ˆã€æœ‰æ°§è¯¾','æ™’å¤ªé˜³','å¿ƒè‚ºè®­ç»ƒ'],
          risks: ['å¿ƒç«è¿‡æ—º','ç¡çœ è´¨é‡æ˜“å—æƒ…ç»ªå½±å“','ä¸Šç«ç—‡çŠ¶'],
          actions: ['å‡å°‘ç†¬å¤œä¸é‡å£å‘³','é€‚åº¦å¿ƒè‚ºè¿åŠ¨ååšæ‹‰ä¼¸æ”¾æ¾','ç¡å‰é™ä½å…‰çº¿ä¸åˆºæ¿€']
        }
      },
      'en': {
        personality: 'Passionate, expressive and full of inspiration, suited to visibility, performance and stage.',
        talents: ['Performance & expression','Creative inspiration','Communication & influence'],
        challenges: ['Emotional highs & lows','Over-investment of energy','Fear of being ignored'],
        career: 'Performance, arts, media, content, branding, events, training.',
        career_analysis: {
          strengths: ['Highly creative','Strong presence','Good at catching trends'],
          opportunities: ['Personal brand / IP','Online courses / sharing','Creative brands'],
          risks: ['Passion fades quickly','Over-attached to feedback','Emotion-driven decisions'],
          actions: ['Build a stable support team','Design offline / quiet windows','Use systems to manage ideas & output']
        },
        relationship_analysis: {
          strengths: ['Romantic & passionate','Creates surprise','Keeps energy high'],
          opportunities: ['Meets partners in events / communities','Rich emotional expression','Can re-ignite relationships'],
          risks: ['Fear of boredom','Fear of being unseen','Suspicion when not getting enough attention'],
          actions: ['Differentiate â€œbeing seenâ€ vs â€œbeing lovedâ€','Clarify needs with partner','Leave room for calm & silence in love']
        },
        health_analysis: {
          strengths: ['Fast metabolism','Suited to cardio'],
          opportunities: ['Dance, cardio classes','Sunlight','Heart-lung fitness'],
          risks: ['Excess â€œheart-fireâ€','Sleep affected by emotions','Inflammatory / â€œheatâ€ symptoms'],
          actions: ['Cut down late nights & heavy food','Stretch and cool-down after intense exercise','Reduce screens / stimulation before bed']
        }
      }
    }
  }
};

/* ===== æ¸²æŸ“è¾…åŠ© ===== */
function buildElementChart(deep){
  const box = $('elementChart');
  if (!box) return;
  box.innerHTML = '';
  if (!deep || !deep.elements) return;

  const order = ['æœ¨','ç«','åœŸ','é‡‘','æ°´'];
  order.forEach(name=>{
    const val = deep.elements[name] ?? 0;
    const div = document.createElement('div');
    div.className = 'element-item' + (val >= 3 ? ' strong' : '');
    div.innerHTML = `
      <div class="element-name">${name}</div>
      <div class="element-value">${val}</div>
    `;
    box.appendChild(div);
  });
}

function getDeepLang(starNum){
  const deep = STARS_DEEP[starNum];
  if (!deep) return null;
  const lang = getLang();
  return deep.text[lang] || deep.text['zh-CN'] || deep.text['en'];
}

function joinList(arr){
  if (!arr || !arr.length) return '';
  return 'â€¢ ' + arr.join('\nâ€¢ ');
}

/* è¿åŠ¿æ—¶é—´çº¿ï¼ˆç®€ç‰ˆï¼šè¿‡å»3å¹´ / ç°åœ¨12ä¸ªæœˆ / æœªæ¥2â€“3å¹´ï¼‰ */
function buildFortuneTimeline(ctx){
  const box = $('fortuneTimeline');
  if (!box) return;
  box.innerHTML = '';
  const now = new Date();
  const y = now.getFullYear();

  function mkItem(period, text){
    const item = document.createElement('div');
    item.className = 'timeline-item';
    item.innerHTML = `
      <div class="timeline-period">${period}</div>
      <div>${text}</div>
    `;
    box.appendChild(item);
  }

  const elem = ctx.mainElement || '';
  const lang = getLang();

  function p(past, nowT, future){
    if (lang.startsWith('zh')) return [past, nowT, future];
    if (lang === 'ja-JP') return [
      'éå»3å¹´ï¼š' + past,
      'ç¾åœ¨ã€œ1å¹´ï¼š' + nowT,
      'ä»Šå¾Œ2ã€œ3å¹´ï¼š' + future
    ];
    if (lang === 'th-TH') return [
      '3 à¸›à¸µà¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸™à¸¡à¸²: ' + past,
      '12 à¹€à¸”à¸·à¸­à¸™à¸ˆà¸²à¸à¸™à¸µà¹‰: ' + nowT,
      '2â€“3 à¸›à¸µà¸‚à¹‰à¸²à¸‡à¸«à¸™à¹‰à¸²: ' + future
    ];
    if (lang === 'ms') return [
      '3 tahun lalu: ' + past,
      '12 bulan kini: ' + nowT,
      '2â€“3 tahun akan datang: ' + future
    ];
    return [
      'Past 3 years: ' + past,
      'Now â€“ next 12 months: ' + nowT,
      'Next 2â€“3 years: ' + future
    ];
  }

  let msgs;
  if (elem === 'æ°´'){
    msgs = p(
      'ä½ ç»å†äº†å¤šæ¬¡ç¯å¢ƒä¸äººé™…ç»“æ„çš„è°ƒæ•´ï¼Œå­¦ä¹ åœ¨å˜åŒ–ä¸­ä¿æŒå¼¹æ€§ã€‚',
      'é€‚åˆé‡æ–°æ•´ç†äººè„‰ä¸åˆä½œæ–¹å¼ï¼ŒæŠŠåˆ†æ•£çš„æ³¨æ„åŠ›æ”¶å›åˆ°å°‘æ•°é‡è¦å…³ç³»ä¸Šã€‚',
      'æƒ…æ„Ÿä¸åˆä½œå°†æ›´ç¨³å®šï¼Œè‹¥å–„ç”¨ç›´è§‰ï¼Œæœ‰æœºä¼šåˆ‡å…¥æ›´é€‚åˆä½ çš„é¢†åŸŸã€‚'
    );
  }else if (elem === 'åœŸ'){
    msgs = p(
      'è¿‡å»å‡ å¹´ä½ ä¸»è¦åœ¨â€œæ‰“åœ°åŸºâ€ï¼Œå¾ˆå¤šæˆæœå°šåœ¨æš—å¤„é…é…¿ã€‚',
      'é€‚åˆæ£€è§†èµ„äº§ã€ä¹ æƒ¯ä¸äººé™…ç»“æ„ï¼Œåˆ å‡æ— ç”¨è´Ÿæ‹…ï¼Œä¸ºä¸‹ä¸€è½®ç´¯ç§¯è…¾å‡ºç©ºé—´ã€‚',
      'ç¨³å¥å‘ä¸Šï¼Œè‹¥æ„¿æ„åœ¨ç¨³å®šä¸­åšå‡ºæœ‰é™åº¦çš„æ”¹å˜ï¼Œå°†è¿æ¥è´¨å˜çº§åˆ«çš„æˆé•¿ã€‚'
    );
  }else if (elem === 'æœ¨'){
    msgs = p(
      'ä½ å·²ç»å°è¯•äº†ä¸å°‘æ–°æ–¹å‘ï¼Œæœ‰æˆåŠŸä¹Ÿæœ‰è¸©é›·ï¼Œç»éªŒå¼€å§‹æˆå½¢ã€‚',
      'é€‚åˆæ”¶æ•›æˆ˜çº¿ï¼ŒæŒ‘å‡ºæœ€æƒ³æ·±è€•çš„ä¸¤ä¸‰ä»¶äº‹ï¼Œé›†ä¸­èµ„æºçªç ´ã€‚',
      'è‹¥èƒ½åšæŒä¸€æ¡ä¸»çº¿ï¼Œæœªæ¥å‡ å¹´æœ‰æœºä¼šåœ¨ä¸“ä¸šæˆ–äº‹ä¸šä¸Šâ€œé•¿æˆä¸€æ£µæ ‘â€ã€‚'
    );
  }else if (elem === 'é‡‘'){
    msgs = p(
      'ä½ è¢«è¿«é¢å¯¹è§„åˆ™ã€è´£ä»»ä¸æ¡†æ¶ï¼Œæœ‰äº›åœ°æ–¹éœ€è¦ä½ ç«™å‡ºæ¥è¡¨æ€ã€‚',
      'é€‚åˆé‡æ–°å®šä¹‰è‡ªå·±çš„è¾¹ç•Œä¸åŸåˆ™ï¼Œç»ƒä¹ æ—¢ä¸å§”å±ˆè‡ªå·±ï¼Œä¹Ÿä¸è¿‡åº¦è¦æ±‚ä»–äººã€‚',
      'è‹¥èƒ½å»ºç«‹ä¸€å¥—å…¼é¡¾æ•ˆç‡ä¸äººæƒ…çš„åšäº‹æ–¹å¼ï¼Œä½ ä¼šè¢«çœ‹è§ä¸ºâ€œå€¼å¾—æ‰˜ä»˜çš„äººâ€ã€‚'
    );
  }else if (elem === 'ç«'){
    msgs = p(
      'ä½ çš„æ›å…‰ä¸å…³æ³¨åº¦æœ‰èµ·æœ‰è½ï¼Œä¹Ÿåœ¨åå¤ç¡®è®¤â€œæˆ‘æƒ³è¢«çœ‹è§ä»€ä¹ˆâ€ã€‚',
      'é€‚åˆæ•´ç†ä¸ªäººå“ç‰Œä¸è¡¨è¾¾æ–¹å¼ï¼ŒæŠŠçœŸæ­£æƒ³ä¼ é€’çš„æ ¸å¿ƒä¿¡æ¯è¯´æ¸…æ¥šã€‚',
      'æœªæ¥å‡ å¹´åªè¦æ–¹å‘å¯¹ã€èŠ‚å¥ç¨³ï¼Œä½ çš„å…‰ä¼šç…§åˆ°æ›´è¿œçš„åœ°æ–¹ã€‚'
    );
  }else{
    msgs = p(
      'ä½ åœ¨å°è¯•ä¸è°ƒæ•´ä¸­å‰è¿›ã€‚',
      'é€‚åˆé‡æ–°ç›˜ç‚¹è‡ªå·±çœŸæ­£æƒ³å®ˆæŠ¤çš„æ–¹å‘ã€‚',
      'æœªæ¥å‡ å¹´æ˜¯å†å®šä½ä¸å†å‡ºå‘çš„é‡è¦é˜¶æ®µã€‚'
    );
  }

  const labelsZh = ['è¿‡å»ä¸‰å¹´', 'ç°åœ¨ & æœªæ¥12ä¸ªæœˆ', 'æœªæ¥2â€“3å¹´'];
  const labelsEn = ['Past 3 years', 'Now â€“ next 12 months', 'Next 2â€“3 years'];

  const labelSet = lang.startsWith('zh') ? labelsZh : labelsEn;

  mkItem(`${labelSet[0]}ï¼ˆâ‰ˆ ${y-3} â€“ ${y-1}ï¼‰`, msgs[0]);
  mkItem(`${labelSet[1]}ï¼ˆâ‰ˆ ${y} â€“ ${y+1}ï¼‰`, msgs[1]);
  mkItem(`${labelSet[2]}ï¼ˆâ‰ˆ ${y+1} â€“ ${y+3}ï¼‰`, msgs[2]);
}

/* ä¸“ä¸šå»ºè®® 4 å¡ç‰‡ */
function buildAdvice(ctx){
  const deepLang = getDeepLang(ctx.starNum);
  const elem = ctx.mainElement || '';
  const dirBox = $('directionAdvice');
  const colorBox = $('colorAdvice');
  const careerBox = $('careerAdvice');
  const relBox = $('relationshipAdvice');

  const deep = STARS_DEEP[ctx.starNum];

  if (dirBox){
    if (deep && deep.directions){
      dirBox.textContent =
        (getLang().startsWith('zh')
          ? `æœ‰åˆ©æ–¹ä½ï¼š${deep.directions.favorable.join('ã€')}ï¼›éœ€ç•™æ„ï¼š${deep.directions.avoid.join('ã€')}ã€‚`
          : `Favourable directions: ${deep.directions.favorable.join(', ')}; be cautious with: ${deep.directions.avoid.join(', ')}.`);
    }else{
      dirBox.textContent = getLang().startsWith('zh')
        ? 'å»ºè®®å¤šå¾…åœ¨è®©ä½ èº«å¿ƒæ”¾æ¾ã€å…‰çº¿å……è¶³ã€ç©ºæ°”æµåŠ¨çš„ç©ºé—´ã€‚'
        : 'Spend more time in spaces where your body relaxes and the air & light feel good.';
    }
  }

  if (colorBox){
    let colorText = deep?.color || STARS[ctx.starNum]?.color || '';
    if (elem === 'æ°´') colorText = 'é»‘ã€è“ã€ç™½';
    if (elem === 'æœ¨') colorText = 'ç»¿ã€é’ã€æœ¨çº¹è‰²';
    if (elem === 'ç«') colorText = 'çº¢ã€ç´«ã€æ©™';
    if (elem === 'åœŸ') colorText = 'é»„ã€æ£•ã€ç±³è‰²';
    if (elem === 'é‡‘') colorText = 'ç™½ã€é‡‘å±è‰²ã€é“¶ç°';

    colorBox.textContent = getLang().startsWith('zh')
      ? `æ—¥å¸¸å¯ä»¥å¤šè¿ç”¨ï¼š${colorText}ã€‚ä¸è¦ä¸ºäº†â€œå‚¬è¿â€è€Œç©¿åˆ°è‡ªå·±å¾ˆä¸è‡ªåœ¨ï¼Œèˆ’æœæœ€é‡è¦ã€‚`
      : `Favourable colours: ${colorText}. Use them in a way that still feels natural and comfortable.`;
  }

  if (careerBox){
    if (deepLang?.career_analysis){
      const c = deepLang.career_analysis;
      careerBox.textContent = [
        (getLang().startsWith('zh') ? 'é€‚åˆæ–¹å‘ï¼š' : 'Suited for: ') + (deepLang.career || ''),
        (getLang().startsWith('zh') ? 'ä¼˜åŠ¿ï¼š' : 'Strengths: ') + (c.strengths?.join('ï¼Œ') || ''),
        (getLang().startsWith('zh') ? 'æœºä¼šï¼š' : 'Opportunities: ') + (c.opportunities?.join('ï¼Œ') || ''),
        (getLang().startsWith('zh') ? 'è¡ŒåŠ¨å»ºè®®ï¼š' : 'Action: ') + (c.actions?.join('ï¼Œ') || '')
      ].join('\n');
    }else{
      careerBox.textContent = getLang().startsWith('zh')
        ? 'ä½ é€‚åˆåœ¨èƒ½é•¿æœŸç´¯ç§¯ã€é€æ­¥å‡çº§çš„é¢†åŸŸé‡Œå·¥ä½œï¼Œé¿å…åªçœ‹çŸ­æœŸåˆºæ¿€ã€‚'
        : 'You fit fields where effort accumulates over time rather than quick, one-off wins.';
    }
  }

  if (relBox){
    if (deepLang?.relationship_analysis){
      const r = deepLang.relationship_analysis;
      relBox.textContent = [
        (getLang().startsWith('zh') ? 'åœ¨å…³ç³»ä¸­çš„ä¼˜åŠ¿ï¼š' : 'In relationships, your strengths: ') + (r.strengths?.join('ï¼Œ') || ''),
        (getLang().startsWith('zh') ? 'æœºä¼šï¼š' : 'Opportunities: ') + (r.opportunities?.join('ï¼Œ') || ''),
        (getLang().startsWith('zh') ? 'é£é™©ï¼š' : 'Risks: ') + (r.risks?.join('ï¼Œ') || ''),
        (getLang().startsWith('zh') ? 'è¡ŒåŠ¨å»ºè®®ï¼š' : 'Action: ') + (r.actions?.join('ï¼Œ') || '')
      ].join('\n');
    }else{
      relBox.textContent = getLang().startsWith('zh')
        ? 'ç»ƒä¹ æŠŠâ€œæˆ‘ä»¥ä¸ºâ€å˜æˆâ€œæˆ‘å¬ä½ è¯´â€ï¼Œå¤šä¸€ç‚¹å¥½å¥‡ï¼Œå°±ä¼šå°‘ä¸€ç‚¹è¯¯ä¼šã€‚'
        : 'Turn â€œI assumeâ€ into â€œI listenâ€; more curiosity usually means fewer misunderstandings.';
    }
  }
}

/* æ·±åº¦åˆ†æ + ä¸“é¡¹åˆ†æ */
function buildDeepAndSpecial(ctx){
  const deepLang = getDeepLang(ctx.starNum);
  const personalityBox = $('personalityAnalysis');
  const talentBox = $('talentAnalysis');
  const challengeBox = $('challengeAnalysis');
  const devBox = $('developmentAdvice');

  if (personalityBox){
    personalityBox.textContent = deepLang?.personality ||
      (getLang().startsWith('zh')
        ? 'ä½ çš„ä¸»æ˜Ÿæ°”è´¨å¸¦ç€ç‹¬ç‰¹èŠ‚å¥ï¼Œä½ çš„äººç”Ÿè¯¾é¢˜ä¸æœºä¼šéƒ½å›´ç»•è¿™ä¸ªèŠ‚å¥å±•å¼€ã€‚'
        : 'Your main star gives you a unique rhythm; your lessons and chances revolve around it.');
  }
  if (talentBox){
    talentBox.textContent = joinList(deepLang?.talents) ||
      (getLang().startsWith('zh')
        ? 'ä½ æ‹¥æœ‰å¯è¢«è®­ç»ƒæˆä¸“ä¸šçš„å¤©èµ‹ï¼Œåªæ˜¯éœ€è¦æ›´æœ‰æ„è¯†åœ°ä½¿ç”¨å®ƒä»¬ã€‚'
        : 'You have talents that can become real skills once you use them consciously.');
  }
  if (challengeBox){
    challengeBox.textContent = joinList(deepLang?.challenges) ||
      (getLang().startsWith('zh')
        ? 'ä½ çš„æŒ‘æˆ˜å¤šåŠæ¥è‡ªâ€œè¿‡åº¦ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿â€ï¼Œè€Œä¸æ˜¯å®Œå…¨æ²¡æœ‰èƒ½åŠ›ã€‚'
        : 'Most challenges come from over-using your strengths rather than lacking ability.');
  }
  if (devBox){
    let adv;
    if (deepLang?.career_analysis && deepLang.relationship_analysis && deepLang.health_analysis){
      adv = []
        .concat(deepLang.career_analysis.actions || [])
        .concat(deepLang.relationship_analysis.actions || [])
        .concat(deepLang.health_analysis.actions || []);
      devBox.textContent = joinList(adv);
    }else{
      devBox.textContent = getLang().startsWith('zh')
        ? 'æŠŠä¸€å¹´æ‹†æˆå››ä¸ªå°é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µåªæŠ“ 1â€“2 ä¸ªé‡ç‚¹ï¼Œå°±å·²ç»æ˜¯åœ¨é¡ºåº”ä½ çš„èŠ‚å¥äº†ã€‚'
        : 'Split each year into four phases and pick only 1â€“2 priorities per phase; that already aligns with your rhythm.';
    }
  }

  // ä¸“é¡¹åˆ†æ
  const specCard = $('specializedCard');
  if (!specCard) return;

  const type = ctx.analysisType;
  const titleEl = $('specializedTitle');
  const sub1 = $('specializedSubtitle1');
  const sub2 = $('specializedSubtitle2');
  const sub3 = $('specializedSubtitle3');
  const sub4 = $('specializedSubtitle4');
  const c1 = $('specializedContent1');
  const c2 = $('specializedContent2');
  const c3 = $('specializedContent3');
  const c4 = $('specializedContent4');

  function setTexts(title, s1,s2,s3,s4){
    if (titleEl) titleEl.textContent = title;
    if (sub1) sub1.textContent = s1;
    if (sub2) sub2.textContent = s2;
    if (sub3) sub3.textContent = s3;
    if (sub4) sub4.textContent = s4;
  }

  if (type === 'career' && deepLang?.career_analysis){
    const Lzh = getLang().startsWith('zh');
    setTexts(
      Lzh ? 'äº‹ä¸šè´¢è¿ä¸“é¡¹åˆ†æ' : 'Career & Wealth Focus',
      Lzh ? 'äº‹ä¸šæ ¸å¿ƒç‰¹ç‚¹' : 'Career core',
      Lzh ? 'è´¢å¯Œæœºé‡' : 'Wealth opportunities',
      Lzh ? 'é£é™©æç¤º' : 'Risks',
      Lzh ? 'è¡ŒåŠ¨æŒ‡å—' : 'Action guide'
    );
    c1.textContent = joinList(deepLang.career_analysis.strengths);
    c2.textContent = joinList(deepLang.career_analysis.opportunities);
    c3.textContent = joinList(deepLang.career_analysis.risks);
    c4.textContent = joinList(deepLang.career_analysis.actions);
  }else if (type === 'relationship' && deepLang?.relationship_analysis){
    const Lzh = getLang().startsWith('zh');
    setTexts(
      Lzh ? 'æ„Ÿæƒ…å©šå§»ä¸“é¡¹åˆ†æ' : 'Love & Marriage Focus',
      Lzh ? 'æ„Ÿæƒ…æ¨¡å¼' : 'Love pattern',
      Lzh ? 'å…³ç³»æœºé‡' : 'Relationship opportunities',
      Lzh ? 'é£é™©æç¤º' : 'Risks',
      Lzh ? 'è¡ŒåŠ¨æŒ‡å—' : 'Action guide'
    );
    const r = deepLang.relationship_analysis;
    c1.textContent = joinList(r.strengths);
    c2.textContent = joinList(r.opportunities);
    c3.textContent = joinList(r.risks);
    c4.textContent = joinList(r.actions);
  }else if (type === 'health' && deepLang?.health_analysis){
    const Lzh = getLang().startsWith('zh');
    setTexts(
      Lzh ? 'å¥åº·è¿åŠ¿ä¸“é¡¹åˆ†æ' : 'Health Focus',
      Lzh ? 'èº«ä½“ä½“è´¨' : 'Body tendency',
      Lzh ? 'å…»ç”Ÿæœºé‡' : 'Wellness opportunities',
      Lzh ? 'é£é™©éƒ¨ä½' : 'Risks',
      Lzh ? 'ç…§æŠ¤å»ºè®®' : 'Care advice'
    );
    const h = deepLang.health_analysis;
    c1.textContent = joinList(h.strengths);
    c2.textContent = joinList(h.opportunities);
    c3.textContent = joinList(h.risks);
    c4.textContent = joinList(h.actions);
  }else{
    const Lzh = getLang().startsWith('zh');
    setTexts(
      t('spec_title'),
      t('spec_core'),
      t('spec_opportunity'),
      t('spec_risk'),
      t('spec_action')
    );
    c1.textContent = deepLang?.personality || '';
    c2.textContent = joinList(deepLang?.talents);
    c3.textContent = joinList(deepLang?.challenges);
    c4.textContent = devBox.textContent || '';
  }

  specCard.style.display = 'block';
}

/* æœ¬å‘½ä¸»æ˜Ÿå¡ */
function buildStarCard(ctx){
  const star = STARS[ctx.starNum];
  if (!star) return;

  const starName = $('starName');
  const starJP = $('starJP');
  const badges = $('starBadges');
  const about = $('starAbout');
  const indicator = $('analysisTypeIndicator');

  if (starName) starName.textContent = star.zh;
  if (starJP) starJP.textContent = star.jp;

  if (badges){
    badges.innerHTML = '';
    const make = (label,val)=>{
      const span = document.createElement('span');
      span.className = 'badge';
      span.textContent = `${label}ï¼š${val}`;
      badges.appendChild(span);
    };
    make(t('badge_elem'), star.elem);
    make(t('badge_color'), star.color);
    make(t('badge_kw'), star.key.join(' / '));
  }

  if (about){
    about.textContent = `${t('about_label')}ï¼š${star.about}`;
  }

  if (indicator){
    const type = ctx.analysisType;
    const map = {
      comprehensive: getLang().startsWith('zh') ? 'ç»¼åˆå‘½ç†' : 'Comprehensive',
      career: getLang().startsWith('zh') ? 'äº‹ä¸šè´¢è¿' : 'Career & wealth',
      relationship: getLang().startsWith('zh') ? 'æ„Ÿæƒ…å©šå§»' : 'Love & marriage',
      health: getLang().startsWith('zh') ? 'å¥åº·è¿åŠ¿' : 'Health'
    };
    indicator.textContent = map[type] || '';
  }

  const deep = STARS_DEEP[ctx.starNum];
  buildElementChart(deep);
}

/* Butler AI å¤§æŠ¥å‘Šï¼ˆå¹³é¢åŒºï¼‰ */
async function buildButlerAI(ctx){
  const card = $('aiCard');
  const box = $('aiText');
  if (!card || !box) return;

  card.style.display = 'block';
  box.textContent = t('generating') || 'æ­£åœ¨ç”Ÿæˆè§£è¯»â€¦';

  const lang = getLang();
  let prompt;
  if (lang.startsWith('zh')){
    prompt = `è¯·æ ¹æ®ä»¥ä¸‹ä¹æ˜Ÿæ°”å­¦ä¿¡æ¯ï¼Œå†™ä¸€ä»½ 400â€“600 å­—å·¦å³çš„ç»¼åˆè§£è¯»ï¼ŒåŒ…å«ï¼šæ ¸å¿ƒæ€§æ ¼ã€è¿‘ 1â€“2 å¹´è¿åŠ¿é‡ç‚¹ï¼Œä»¥åŠ 3 æ¡å¯ä»¥ç«‹åˆ»æ‰§è¡Œçš„ç”Ÿæ´»å»ºè®®ã€‚è¯­è¨€è¦æ¸©æŸ”ã€äº²åˆ‡ã€åŠ¡å®ï¼Œå°‘ç”¨ä¸“ä¸šæœ¯è¯­ã€‚

å‡ºç”Ÿæ—¥æœŸï¼š${ctx.birthStr}
æœ¬å‘½ä¸»æ˜Ÿï¼š${ctx.starName}ï¼ˆ${ctx.starJP}ï¼‰
ä¸»äº”è¡Œï¼š${ctx.mainElement}
åˆ†æç±»å‹ï¼š${ctx.analysisTypeLabel}

è¯·ç”¨å½“å‰é¡µé¢è¯­è¨€ä¹¦å†™ã€‚`;
  }else{
    prompt = `Using the following Nine Star Ki info, write a 400â€“600 word integrated reading: core personality, key themes for the next 1â€“2 years, and 3 practical action tips I can start now. Keep the tone gentle, warm and grounded, with minimal jargon.

Birth date: ${ctx.birthStr}
Main star: ${ctx.starName} (${ctx.starJP})
Main element: ${ctx.mainElement}
Analysis focus: ${ctx.analysisTypeLabel}

Please reply in the same language as this page.`;
  }

  try{
    const reply = await askAI(prompt);
    box.textContent = reply || (t('retry') || 'æš‚æ—¶æ— æ³•ç”Ÿæˆï¼Œè¯·ç¨åå†è¯•ã€‚');
  }catch(e){
    console.warn('[aiCard] error', e);
    box.textContent = t('neterr') || 'ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•ã€‚';
  }
}

/* æ›´æ–°æ—¶é—´æ˜¾ç¤º */
function updateNowInfo(){
  const el = $('nowInfo');
  if (!el) return;
  const now = new Date();
  const str = now.toLocaleString(getLang().replace('_','-'));
  el.textContent = (t('now_info_prefix') || '') + str;
}

/* ç™»å½•åŒºï¼šé»˜è®¤éšè—è¾“å…¥ï¼ˆç¬¦åˆä½ çš„åå¥½ï¼‰ */
function initAuthFields(){
  const wrapper = $('authFields');
  const loginBtn = $('loginBtn');
  if (!wrapper || !loginBtn) return;
  wrapper.style.display = 'none';

  loginBtn.addEventListener('click', (e)=>{
    if (wrapper.style.display === 'none'){
      e.preventDefault();
      wrapper.style.display = 'grid';
    }
  });
}

/* ä¸»æ¸²æŸ“å…¥å£ */
function renderAll(ctx){
  if (!ctx) return;
  window._lastKyuuseiCtx = ctx;

  const starCard = $('starCard');
  const analysisCard = $('analysisCard');
  const fortuneCard = $('fortuneCard');
  const adviceCard = $('adviceCard');

  if (starCard) starCard.style.display = 'block';
  if (analysisCard) analysisCard.style.display = 'block';
  if (fortuneCard) fortuneCard.style.display = 'block';
  if (adviceCard) adviceCard.style.display = 'block';

  buildStarCard(ctx);
  buildDeepAndSpecial(ctx);
  buildFortuneTimeline(ctx);
  buildAdvice(ctx);
}

/* ===== é¡µé¢åˆå§‹åŒ– ===== */
document.addEventListener('DOMContentLoaded', () => {
  // åˆå§‹åŒ–è¯­è¨€
  const currentLang = getLang();
  const sel = $('langSelect');
  if (sel){
    sel.value = currentLang;
    sel.addEventListener('change', ()=>{
      setLang(sel.value);
      applyI18n();
      updateNowInfo();
      renderChips();
      if (window._lastKyuuseiCtx) renderAll(window._lastKyuuseiCtx);
    });
  }
  document.documentElement.lang = currentLang;
  applyI18n();
  updateNowInfo();
  renderChips();
  initAuthFields();

  // ç”ŸæˆæŒ‰é’®
  const btn = $('go');
  if (btn){
    btn.addEventListener('click', async () => {
      const birthInput = $('birthdate');
      const genderInput = $('gender');
      const typeInput = $('analysisType');

      if (!birthInput || !birthInput.value){
        alert(t('please_birth') || 'è¯·å…ˆé€‰æ‹©å‡ºç”Ÿæ—¥æœŸ');
        return;
      }
      const birthStr = birthInput.value;
      const starNum = calcHonmei(birthStr);
      if (!starNum || !STARS[starNum]){
        alert(t('bad_date') || 'æ—¥æœŸæ ¼å¼æœ‰è¯¯');
        return;
      }

      const star = STARS[starNum];
      const deep = STARS_DEEP[starNum];
      const deepLang = getDeepLang(starNum);
      const type = typeInput ? typeInput.value : 'comprehensive';

      const typeLabelMap = {
        comprehensive: t('analysis_type_comprehensive'),
        career: t('analysis_type_career'),
        relationship: t('analysis_type_relationship'),
        health: t('analysis_type_health')
      };

      const ctx = {
        birthStr,
        gender: genderInput ? genderInput.value : 'hidden',
        analysisType: type,
        analysisTypeLabel: typeLabelMap[type] || '',
        starNum,
        starName: star.zh,
        starJP: star.jp,
        mainElement: deep?.element || star.elem
      };

      renderAll(ctx);
      $('aiCard').style.display = 'block';
      await buildButlerAI(ctx);
    });
  }
});
</script>
</body>
</html>












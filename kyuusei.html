<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title data-i18n="title">ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ Â· 5XLiving</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="icon" href="data:,">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0f14; --card:#11161dcc; --line:#1f2a36; --text:#e8edf3; --muted:#98a7b7;
      --brand:#d4af37; --gold:#d4af37; --gold2:#f2d27a; --accent:#58b9ff;
      --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.35);
    }
    html,body{height:100%}
    body{
      margin:0; color:var(--text); background: radial-gradient(1200px 600px at 70% -10%, #16202b 10%, transparent 60%) no-repeat, linear-gradient(180deg,#0b0f14,#0b0f14);
      font-family: Inter,system-ui,-apple-system,"Noto Sans SC","Segoe UI",Roboto,Arial,sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    body::before{content:""; position:fixed; inset:0; z-index:-2; background:url('assets/images/gate.jpg') center/cover no-repeat; filter:brightness(.45) saturate(.9) blur(2px)}
    .container{max-width:1100px;margin:0 auto;padding:24px 16px 80px}
    
    /* å¤´éƒ¨æ ·å¼ */
    .site-header{
      position:sticky; top:0; z-index:10;
      background:#0b0f14cc;
      border-bottom:1px solid #0f1622;
      backdrop-filter:saturate(140%) blur(12px);
    }
    .head-inner{display:flex; align-items:center; justify-content:space-between; gap:14px; padding:14px 16px}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text)}
    .brand-badge{
      display:inline-grid; place-items:center;
      width:34px; height:34px; border-radius:8px;
      background:linear-gradient(180deg,#0e1520,#0b1018);
      border:1px solid #2a3546; box-shadow:0 4px 14px rgba(0,0,0,.35);
      font-weight:800; color:#ffe084;
    }
    .title{font-family:"Noto Serif SC",serif; font-weight:700; letter-spacing:.02em}
    .lang{display:flex; align-items:center; gap:8px}
    .lang label{white-space:nowrap; color:var(--muted); margin-right:4px}
    .lang select{
      appearance:none; min-width:170px;
      border-radius:10px; border:1px solid #243244;
      background:#0e1520; color:var(--text);
      padding:10px 34px 10px 12px; font-size:.95rem;
      background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2398a7b7' stroke-width='2' fill='none'/%3E%3C/svg%3E");
      background-repeat:no-repeat; background-position:calc(100% - 12px) 50%;
    }

    .section{margin-top:18px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);backdrop-filter:blur(10px);padding:18px;margin:16px 0}
    .h2{font-size:1.2rem;margin:0 0 12px;font-weight:800;color:#ffe084;display:flex;gap:8px;align-items:center}
    .h2::before{content:"";width:4px;height:18px;background:var(--brand);border-radius:2px}

    .row{display:grid;gap:12px}
    @media(min-width:760px){.row.cols-3{grid-template-columns:1fr 1fr 1fr}.row.cols-2{grid-template-columns:1fr 1fr}}

    input,select,textarea{
      width:100%;box-sizing:border-box;border-radius:12px;border:1px solid #243244;background:#0e1520;color:var(--text);
      padding:12px 12px;font-size:15px;outline:none;
    }
    input::placeholder{color:#6f8092}
    .btn{display:inline-grid;place-items:center;padding:12px 16px;border-radius:12px;border:1px solid #e6c76e;background:linear-gradient(180deg,#fff9e6,#e6c76e);color:#191919;font-weight:800;cursor:pointer}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(230,199,110,.5)}
    .btn[disabled]{opacity:.6;cursor:not-allowed}
    .btn.ghost{background:transparent;color:var(--gold2);border:1px solid rgba(212,175,55,.45);box-shadow:none}
    .btn.block{display:block;width:100%}

    .muted{color:var(--muted)}
    .badge{display:inline-block;padding:4px 8px;margin:2px 4px 2px 0;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:6px;font-size:.85rem}

    /* ä¸“ä¸šåˆ†ææ ·å¼ */
    .analysis-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-top: 20px;
    }
    @media (min-width: 768px) {
      .analysis-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    .analysis-card {
      background: linear-gradient(145deg, rgba(17,22,29,0.9), rgba(12,16,22,0.9));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 20px;
      position: relative;
    }
    .analysis-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }
    .analysis-title {
      font-family: "Noto Serif SC", serif;
      font-weight: 600;
      color: var(--gold2);
      margin-bottom: 12px;
      font-size: 1.1rem;
    }
    .analysis-content {
      line-height: 1.6;
      font-size: 0.95rem;
    }
    .element-chart {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      margin: 15px 0;
    }
    .element-item {
      text-align: center;
      padding: 10px 5px;
      border-radius: 8px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
    }
    .element-item.strong {
      background: rgba(212,175,55,0.2);
      border-color: var(--gold);
    }
    .element-name {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .element-value {
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* è¿åŠ¿æ—¶é—´çº¿ */
    .timeline {
      position: relative;
      padding-left: 20px;
    }
    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(180deg, var(--gold), transparent);
    }
    .timeline-item {
      position: relative;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: -24px;
      top: 6px;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--gold);
    }
    .timeline-period {
      font-weight: 600;
      color: var(--gold2);
      margin-bottom: 5px;
    }

    /* ä¸“ä¸šå»ºè®®æ ·å¼ */
    .advice-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }
    .advice-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 16px;
      transition: all 0.3s ease;
    }
    .advice-card:hover {
      border-color: var(--gold);
      transform: translateY(-2px);
    }
    .advice-category {
      font-weight: 600;
      color: var(--gold2);
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    /* åˆ†æç±»å‹æŒ‡ç¤ºå™¨ */
    .analysis-type-indicator {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(212,175,55,0.2);
      border: 1px solid var(--gold);
      border-radius: 20px;
      font-size: 0.85rem;
      color: var(--gold2);
      margin-left: 10px;
    }

    footer{color:#6c7b8c;font-size:.85rem;text-align:center;padding:30px 0}

    @media (max-width:520px){
      .title{font-size:1rem}
      .lang select{min-width:140px}
    }
  </style>
</head>
<body>
<header class="site-header">
  <div class="head-inner container">
    <a class="brand" href="https://astro.5xliving.com/" target="_self">
      <span class="brand-badge">5X</span>
      <span class="title">
        5xLiving Â· <span data-i18n="title_kyuusei_brief">ä¹æ˜Ÿæ°”å­¦æ·±åº¦åˆ†æ</span>
      </span>
    </a>

    <div class="lang">
      <label for="langSelect" class="muted" data-i18n="lang_label">è¯­è¨€</label>
      <select id="langSelect" aria-label="Language">
          <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
          <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
          <option value="en">English</option>
          <option value="ja">æ—¥æœ¬èª</option>
      </select>
    </div>
  </div>
</header>

<main class="container">
  <!-- ä¸“ä¸šåˆ†æè¡¨å• -->
  <div class="card">
    <div class="h2" data-i18n="form_title">ä¹æ˜Ÿæ°”å­¦ Â· ä¸“ä¸šå‘½ç†åˆ†æ</div>
    <div class="row cols-3">
      <div>
        <label class="muted" data-i18n="birth_label">å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="birthdate">
      </div>
      <div>
        <label class="muted" data-i18n="gender_label">æ€§åˆ«</label>
        <select id="gender">
          <option value="male">ç”·æ€§</option>
          <option value="female">å¥³æ€§</option>
        </select>
      </div>
      <div>
        <label class="muted" data-i18n="analysis_type">åˆ†æç±»å‹</label>
        <select id="analysisType">
          <option value="comprehensive">ç»¼åˆå‘½ç†åˆ†æ</option>
          <option value="career">äº‹ä¸šè´¢è¿ä¸“é¡¹</option>
          <option value="relationship">æ„Ÿæƒ…å©šå§»ä¸“é¡¹</option>
          <option value="health">å¥åº·è¿åŠ¿ä¸“é¡¹</option>
        </select>
      </div>
    </div>
    <div style="margin-top:16px">
      <button id="go" class="btn block" data-i18n="btn_gen">ç”Ÿæˆä¸“ä¸šåˆ†ææŠ¥å‘Š</button>
    </div>
  </div>

  <!-- ä¸»æ˜Ÿåˆ†æ -->
  <div id="starCard" class="section card" style="display:none">
    <div class="h2">
      æ‚¨çš„ä¹æ˜Ÿå‘½ç›˜åˆ†æ
      <span class="analysis-type-indicator" id="analysisTypeIndicator"></span>
    </div>
    <div class="row cols-2">
      <div>
        <h3 style="color:var(--gold2); margin-bottom:12px;">æœ¬å‘½ä¸»æ˜Ÿ</h3>
        <p><strong id="starName"></strong>ï¼ˆ<span id="starJP"></span>ï¼‰</p>
        <div id="starBadges" style="margin:12px 0"></div>
        <div id="starAbout" class="muted"></div>
      </div>
      <div>
        <h3 style="color:var(--gold2); margin-bottom:12px;">äº”è¡Œèƒ½é‡åˆ†å¸ƒ</h3>
        <div class="element-chart" id="elementChart"></div>
        <div id="elementAnalysis" class="muted" style="font-size:0.9rem; line-height:1.5"></div>
      </div>
    </div>
  </div>

  <!-- æ·±åº¦åˆ†æ -->
  <div id="analysisCard" class="section card" style="display:none">
    <div class="h2">æ·±åº¦å‘½ç†è§£è¯»</div>
    <div class="analysis-grid">
      <div class="analysis-card">
        <div class="analysis-title">æ€§æ ¼ç‰¹è´¨åˆ†æ</div>
        <div class="analysis-content" id="personalityAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title">å¤©èµ‹æ½œèƒ½</div>
        <div class="analysis-content" id="talentAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title">äººç”Ÿè¯¾é¢˜</div>
        <div class="analysis-content" id="challengeAnalysis"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title">å‘å±•å»ºè®®</div>
        <div class="analysis-content" id="developmentAdvice"></div>
      </div>
    </div>
  </div>

  <!-- ä¸“é¡¹åˆ†æ -->
  <div id="specializedCard" class="section card" style="display:none">
    <div class="h2" id="specializedTitle">ä¸“é¡¹æ·±åº¦åˆ†æ</div>
    <div class="analysis-grid">
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle1">æ ¸å¿ƒåˆ†æ</div>
        <div class="analysis-content" id="specializedContent1"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle2">å…³é”®æœºé‡</div>
        <div class="analysis-content" id="specializedContent2"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle3">é£é™©æç¤º</div>
        <div class="analysis-content" id="specializedContent3"></div>
      </div>
      <div class="analysis-card">
        <div class="analysis-title" id="specializedSubtitle4">è¡ŒåŠ¨æŒ‡å—</div>
        <div class="analysis-content" id="specializedContent4"></div>
      </div>
    </div>
  </div>

  <!-- è¿åŠ¿åˆ†æ -->
  <div id="fortuneCard" class="section card" style="display:none">
    <div class="h2">è¿åŠ¿èµ°åŠ¿åˆ†æ</div>
    <div class="timeline" id="fortuneTimeline"></div>
  </div>

  <!-- ä¸“ä¸šå»ºè®® -->
  <div id="adviceCard" class="section card" style="display:none">
    <div class="h2">ä¸“ä¸šè°ƒæ•´å»ºè®®</div>
    <div class="advice-grid">
      <div class="advice-card">
        <div class="advice-category">æ–¹ä½è°ƒæ•´</div>
        <div id="directionAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category">è‰²å½©è¿ç”¨</div>
        <div id="colorAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category">èŒä¸šå‘å±•</div>
        <div id="careerAdvice"></div>
      </div>
      <div class="advice-card">
        <div class="advice-category">äººé™…å…³ç³»</div>
        <div id="relationshipAdvice"></div>
      </div>
    </div>
  </div>

    <!-- ä¼šå‘˜åŒº -->
    <section class="card section">
      <h2 class="group-title" data-i18n="vip_title">ğŸŒ™ ä¼šå‘˜åŒºåŸŸ VIP Segment</h2>
      <div class="columns">
        <div class="list-block">
          <div class="group-title" data-i18n="vip_mingli">ğŸ— å‘½ç†ç©ºé—´ä¸“å±å†…å®¹</div>
          <ul>
            <li data-i18n="vip_love">å§»ç¼˜æ–¹å‘ï¼šæ‹çˆ±ç¼˜åˆ†ã€å©šå§»èµ°åŠ¿</li>
            <li data-i18n="vip_career">äº‹ä¸šæ–¹å‘ï¼šèŒåœºå‘å±•ã€åˆ›ä¸šæ½œåŠ›</li>
            <li data-i18n="vip_wealth">è´¢è¿æ–¹å‘ï¼šè´¢ä½åˆ†æã€ç†è´¢æ—¶æœº</li>
            <li data-i18n="vip_pet">å® ç‰©å‘½ç†ï¼šä¼´ä¾£åŠ¨ç‰©çš„æ€§æ ¼ä¸ç¼˜åˆ†</li>
            <li data-i18n="vip_hepan">åˆç›˜åˆ†æï¼šå©šæœŸæ‹©æ—¥ã€æ–°ç”Ÿæ‹©æ—¶</li>
            <li data-i18n="vip_name">æµ‹ååˆ†æï¼šå…¬å¸åã€å®å®åã€å‘½åæ”¹è¿</li>
            <li data-i18n="vip_fengshui">è´¢ä½åˆç›˜ï¼šä½å®¶ / åŠå…¬å®¤åŠ¨çº¿é…åˆ</li>
          </ul>
        </div>
        <div class="list-block">
          <div class="group-title" data-i18n="vip_xinlian">ğŸŒ™ å¿ƒæ€œç©ºé—´ä¸“å±å†…å®¹</div>
          <ul>
            <li data-i18n="vip_record">çµæ€§è®°å½•ï¼šç…§ç‰‡ã€æ¢¦å¢ƒã€å£°éŸ³ã€æ„¿æœ›ç¥ˆç¥·</li>
            <li data-i18n="vip_course">å‘½ç†è¯¾ç¨‹ï¼šå…«å­— / å¡”ç½— / å æ˜Ÿ / çµæ•° / äººç±»å›¾</li>
            <li data-i18n="vip_memorial">å®¶æ—çºªå¿µç³»ç»Ÿï¼šäº²äººçµæ€§çºªå¿µ & å»¶ç»­</li>
            <li data-i18n="vip_tasks">æ¯å‘¨èƒ½é‡ç»ƒä¹  / ç¥æ˜ä»ªå¼ä»»åŠ¡</li>
            <li data-i18n="vip_shop">èƒ½é‡å•†åŸä¸“å±æŠ˜æ‰£ & å¾¡å®ˆè®¢åˆ¶</li>
          </ul>
        </div>
      </div>

      <div class="group-title" style="margin-top:14px" data-i18n="login_title">ğŸ’ ç™»å…¥ VIP åŠŸèƒ½</div>

      <section class="astro-auth">
        <div class="auth-grid">
          <div class="panel">
            <div class="head" data-i18n="panel_login_head">è´¦æˆ·ç™»å½• / æ³¨å†Œ</div>
            <div class="body">
              <div class="row" id="authFields">
                <label for="email" class="sr-only" data-i18n="ph_email">é‚®ç®± Email</label>
                <input id="email" name="email" type="email" inputmode="email" autocomplete="username">
                <label for="password" class="sr-only" data-i18n="ph_label_password">å¯†ç  Password</label>
                <input id="password" type="password" autocomplete="new-password" placeholder="å¯†ç  Passwordï¼ˆè‡³å°‘8ä½ï¼Œå«å¤§å°å†™æ•°å­—ç¬¦å·ï¼‰" data-i18n-ph="ph_password" required/>
              </div>
              <div class="spacer"></div>
              <form id="loginForm" class="row one">
                <button class="btn block" id="loginBtn" type="submit" data-i18n="btn_login">ç™»å…¥è´¦æˆ·</button>
              </form>
              <div class="spacer"></div>
              <div class="row one">
                <button class="btn ghost block" id="resetBtn" type="button" data-i18n="btn_reset">ğŸ”‘ é‡è®¾å¯†ç </button>
              </div>
              <div class="spacer"></div>
              <form class="row one" id="registerForm">
                <button class="btn block" id="registerBtn" type="submit" data-i18n="btn_register">æ³¨å†Œè´¦æˆ·</button>
                <div class="muted" data-i18n="note_price">æ³¨å†Œè´¦å·èµ é€ä¸€æ¬¡å…è´¹ä½“éªŒ</div>
                <div class="spacer"></div>
                <div class="error-message" id="authError" style="display:none"></div>
              </form>
            </div>
          </div>

          <div class="panel">
            <div class="head" data-i18n="panel_member_head">ä¼šå‘˜æœåŠ¡</div>
            <div class="body">
              <div class="row one">
                <a class="btn block" href="https://yourshopifyshop.com/products/monthly-vip" target="_blank" rel="noopener noreferrer" data-i18n="btn_upgrade">ğŸ’ å‡çº§ä¸º VIPï¼ˆæœˆè´¹ï¼‰</a>
              </div>
              <div class="spacer"></div>
              <div class="row one">
                <a class="btn ghost block" href="https://yourshopifyshop.myshopify.com" target="_blank" rel="noopener noreferrer" data-i18n="btn_backshop">â† è¿”å›å‘½ç†å•†åŸ</a>
              </div>
              <div class="spacer"></div>
              <div class="muted" data-i18n="note_price1">$9.9 / æœˆè´¹ VIPï¼ˆå‘½ç†ç©ºé—´ + å¿ƒæ€œç©ºé—´ + çµæ€§è¯¾ç¨‹ï¼‰</div>
              <div id="life-path-block"></div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </main>

  <footer>Â© 5XLiving â€¢ Astro Sanctuary</footer>  

<script>
// é…ç½®
const LANG_KEY = "site_lang";

// å·¥å…·å‡½æ•°
const $ = id => document.getElementById(id);
const getLang = () => localStorage.getItem(LANG_KEY) || document.documentElement.lang || "zh-CN";
const setLang = v => { localStorage.setItem(LANG_KEY, v); document.documentElement.lang = v; };

// ä¹æ˜Ÿç®—æ³•
function reduce1(n) {
  let s = Math.abs(n).toString().split('').reduce((a, b) => a + Number(b), 0);
  while (s > 9) s = s.toString().split('').reduce((a, b) => a + Number(b), 0);
  return s;
}

function isBeforeSetsubun(d) {
  const m = d.getMonth(), day = d.getDate();
  return (m === 0) || (m === 1 && day <= 3);
}

function calcHonmei(dateStr) {
  const d = new Date(dateStr);
  if (isNaN(d)) return null;
  const root = reduce1(d.getFullYear());
  let num = (isBeforeSetsubun(d) ? 12 : 11) - root;
  while (num <= 0) num += 9;
  return num;
}

// ä¹æ˜Ÿæ·±åº¦æ•°æ®
const STARS_DEEP = {
  1: {
    zh: 'ä¸€ç™½æ°´æ˜Ÿ', jp: 'Ippaku Suisei',
    element: 'æ°´', color: 'ç™½ã€è“ã€é»‘',
    personality: 'æ•æ„Ÿç»†è…»ï¼Œç›´è§‰åŠ›å¼ºï¼Œå–„äºæ²Ÿé€šåè°ƒï¼Œå…·æœ‰æµåŠ¨æ€§å’Œé€‚åº”æ€§',
    talents: ['æ²Ÿé€šåè°ƒ', 'ç›´è§‰åˆ¤æ–­', 'ä¿¡æ¯å¤„ç†', 'äººé™…å…³ç³»'],
    challenges: ['æƒ…ç»ªæ³¢åŠ¨', 'ç¼ºä¹å®šåŠ›', 'å®¹æ˜“å—ç¯å¢ƒå½±å“'],
    directions: { favorable: ['ä¸œå—', 'å—'], avoid: ['è¥¿å—', 'ä¸œåŒ—'] },
    career: 'ä¼ åª’ã€æ•™è‚²ã€å’¨è¯¢ã€è´¸æ˜“ã€å¤–äº¤',
    elements: { æ°´: 4, æœ¨: 2, é‡‘: 2, ç«: 1, åœŸ: 1 },
    
    // ä¸“é¡¹åˆ†ææ•°æ®
    career_analysis: {
      strengths: ['æ²Ÿé€šåè°ƒèƒ½åŠ›çªå‡º', 'ä¿¡æ¯å¤„ç†å¿«é€Ÿ', 'é€‚åº”æ€§å¼º'],
      opportunities: ['æ–°åª’ä½“è¡Œä¸š', 'æ•™è‚²åŸ¹è®­', 'å›½é™…è´¸æ˜“'],
      risks: ['ç«äº‰æ¿€çƒˆ', 'éœ€è¦æŒç»­å­¦ä¹ ', 'è¡Œä¸šå˜åŒ–å¿«'],
      actions: ['æå‡ä¸“ä¸šæŠ€èƒ½', 'å»ºç«‹äººè„‰ç½‘ç»œ', 'å…³æ³¨è¡Œä¸šåŠ¨æ€']
    },
    relationship_analysis: {
      strengths: ['å–„è§£äººæ„', 'æ²Ÿé€šèƒ½åŠ›å¼º', 'æƒ…æ„Ÿç»†è…»'],
      opportunities: ['æ‹“å±•ç¤¾äº¤åœˆ', 'æ·±åº¦æƒ…æ„Ÿè¿æ¥', 'å®¶åº­å’Œè°'],
      risks: ['æƒ…ç»ªæ•æ„Ÿ', 'å®¹æ˜“å—ä¼¤', 'ç¼ºä¹å®‰å…¨æ„Ÿ'],
      actions: ['å»ºç«‹ä¿¡ä»»', 'è¡¨è¾¾çœŸå®æ„Ÿå—', 'ä¿æŒè¾¹ç•Œ']
    },
    health_analysis: {
      strengths: ['æ¢å¤åŠ›å¼º', 'é€‚åº”èƒ½åŠ›å¥½', 'æ–°é™ˆä»£è°¢å¿«'],
      opportunities: ['æ°´ä¸Šè¿åŠ¨', 'å†¥æƒ³ç»ƒä¹ ', 'æ¸©å’Œé”»ç‚¼'],
      risks: ['è‚¾è„è´Ÿæ‹…', 'æƒ…ç»ªå‹åŠ›', 'å…ç–«åŠ›æ³¢åŠ¨'],
      actions: ['è§„å¾‹ä½œæ¯', 'æƒ…ç»ªç®¡ç†', 'é€‚åº¦è¿åŠ¨']
    }
  },
  2: {
    zh: 'äºŒé»‘åœŸæ˜Ÿ', jp: 'Jikoku Dosei',
    element: 'åœŸ', color: 'é»„ã€æ£•ã€å’–å•¡',
    personality: 'åŠ¡å®ç¨³é‡ï¼Œè´£ä»»å¿ƒå¼ºï¼Œæ³¨é‡å®é™…ï¼Œå…·æœ‰æ‰¿è½½åŠ›å’Œè€å¿ƒ',
    talents: ['ç»è¥ç®¡ç†', 'èµ„æºæ•´åˆ', 'æŒç»­è€•è€˜', 'è½åœ°æ‰§è¡Œ'],
    challenges: ['å›ºæ‰§ä¿å®ˆ', 'ç¼ºä¹å˜é€š', 'å®¹æ˜“ç„¦è™‘'],
    directions: { favorable: ['è¥¿å—', 'ä¸œåŒ—'], avoid: ['ä¸œ', 'ä¸œå—'] },
    career: 'æˆ¿åœ°äº§ã€å†œä¸šã€é‡‘èã€ç®¡ç†ã€æ•™è‚²',
    elements: { åœŸ: 4, é‡‘: 2, ç«: 2, æ°´: 1, æœ¨: 1 },
    
    career_analysis: {
      strengths: ['ç®¡ç†èƒ½åŠ›å¼º', 'èµ„æºæ•´åˆ', 'æ‰§è¡ŒåŠ›çªå‡º'],
      opportunities: ['ä¼ ç»Ÿè¡Œä¸š', 'ç®¡ç†å²—ä½', 'å®ä¸šæŠ•èµ„'],
      risks: ['åˆ›æ–°ä¸è¶³', 'å¸‚åœºå˜åŒ–', 'ç«äº‰å‹åŠ›'],
      actions: ['å­¦ä¹ æ–°æŠ€èƒ½', 'å…³æ³¨å¸‚åœºè¶‹åŠ¿', 'å›¢é˜Ÿå»ºè®¾']
    },
    relationship_analysis: {
      strengths: ['è´£ä»»æ„Ÿå¼º', 'ç¨³å®šå¯é ', 'å®¶åº­è§‚å¿µé‡'],
      opportunities: ['å»ºç«‹ç¨³å®šå…³ç³»', 'å®¶åº­å¹¸ç¦', 'é•¿ä¹…ä¼´ä¾£'],
      risks: ['ç¼ºä¹æµªæ¼«', 'æ²Ÿé€šç›´æ¥', 'æƒ…æ„Ÿè¡¨è¾¾ä¸è¶³'],
      actions: ['å­¦ä¹ è¡¨è¾¾æƒ…æ„Ÿ', 'åŸ¹å…»å…±åŒå…´è¶£', 'åŠ å¼ºæ²Ÿé€š']
    },
    health_analysis: {
      strengths: ['ä½“è´¨ç¨³å®š', 'è€åŠ›å¼º', 'æ¢å¤åŠ›å¥½'],
      opportunities: ['æˆ·å¤–æ´»åŠ¨', 'åŠ›é‡è®­ç»ƒ', 'å…»ç”Ÿä¿å¥'],
      risks: ['æ¶ˆåŒ–ç³»ç»Ÿ', 'å‹åŠ›ç§¯ç´¯', 'ä»£è°¢é—®é¢˜'],
      actions: ['è§„å¾‹é¥®é£Ÿ', 'å‹åŠ›ç®¡ç†', 'é€‚åº¦è¿åŠ¨']
    }
  },
  // å…¶ä»–æ˜Ÿçš„æ•°æ®ç»“æ„ç±»ä¼¼ï¼Œä¸ºèŠ‚çœç¯‡å¹…è¿™é‡Œçœç•¥...
  3: {
    zh: 'ä¸‰ç¢§æœ¨æ˜Ÿ', jp: 'Sanpeki Mokusei',
    element: 'æœ¨', color: 'ç»¿ã€é’',
    personality: 'ç§¯æè¿›å–ï¼Œè¡¨è¾¾åŠ›å¼ºï¼Œå¯Œæœ‰åˆ›æ„ï¼Œå…·æœ‰å¼€æ‹“ç²¾ç¥',
    talents: ['åˆ›æ–°æ€ç»´', 'å¼€æ‹“è¿›å–', 'è¡¨è¾¾æ²Ÿé€š', 'å¿«é€Ÿå­¦ä¹ '],
    challenges: ['å†²åŠ¨æ€¥èº', 'ç¼ºä¹è€å¿ƒ', 'å®¹æ˜“å†²çª'],
    directions: { favorable: ['ä¸œ', 'ä¸œå—'], avoid: ['è¥¿', 'è¥¿åŒ—'] },
    career: 'åˆ›æ„äº§ä¸šã€é”€å”®ã€æ•™è‚²ã€åª’ä½“ã€åˆ›ä¸š',
    elements: { æœ¨: 4, æ°´: 2, ç«: 2, åœŸ: 1, é‡‘: 1 },
    
    career_analysis: {
      strengths: ['åˆ›æ–°èƒ½åŠ›å¼º', 'è¡¨è¾¾åŠ›çªå‡º', 'å­¦ä¹ å¿«é€Ÿ'],
      opportunities: ['åˆ›æ„è¡Œä¸š', 'è‡ªä¸»åˆ›ä¸š', 'æ•™è‚²åŸ¹è®­'],
      risks: ['ç¼ºä¹æŒä¹…æ€§', 'ç«äº‰æ¿€çƒˆ', 'èµ„æºæœ‰é™'],
      actions: ['ä¸“æ³¨æ ¸å¿ƒé¢†åŸŸ', 'å»ºç«‹ä¸“ä¸šå“ç‰Œ', 'æŒç»­å­¦ä¹ ']
    },
    relationship_analysis: {
      strengths: ['çƒ­æƒ…ä¸»åŠ¨', 'å–„äºè¡¨è¾¾', 'å¯Œæœ‰é­…åŠ›'],
      opportunities: ['ç§¯æç¤¾äº¤', 'æµªæ¼«å…³ç³»', 'æƒ…æ„Ÿäº¤æµ'],
      risks: ['æƒ…ç»ªæ³¢åŠ¨', 'ç¼ºä¹æ·±åº¦', 'å…³ç³»ä¸ç¨³å®š'],
      actions: ['åŸ¹å…»è€å¿ƒ', 'æ·±åº¦æ²Ÿé€š', 'å»ºç«‹ä¿¡ä»»']
    },
    health_analysis: {
      strengths: ['æ´»åŠ›å……æ²›', 'æ¢å¤åŠ›å¼º', 'é€‚åº”åŠ›å¥½'],
      opportunities: ['æœ‰æ°§è¿åŠ¨', 'æˆ·å¤–æ´»åŠ¨', 'åˆ›æ„è¡¨è¾¾'],
      risks: ['è‚è„è´Ÿæ‹…', 'æƒ…ç»ªæ³¢åŠ¨', 'è¿‡åº¦æ¶ˆè€—'],
      actions: ['è§„å¾‹ä½œæ¯', 'æƒ…ç»ªå¹³è¡¡', 'é€‚åº¦ä¼‘æ¯']
    }
  }
};

// åˆ†æç±»å‹æ˜ å°„
const ANALYSIS_TYPE_MAP = {
  comprehensive: {
    name: 'ç»¼åˆå‘½ç†åˆ†æ',
    titles: ['æ€§æ ¼ç‰¹è´¨åˆ†æ', 'å¤©èµ‹æ½œèƒ½', 'äººç”Ÿè¯¾é¢˜', 'å‘å±•å»ºè®®']
  },
  career: {
    name: 'äº‹ä¸šè´¢è¿ä¸“é¡¹',
    titles: ['èŒä¸šä¼˜åŠ¿åˆ†æ', 'è´¢å¯Œæœºé‡', 'èŒåœºæŒ‘æˆ˜', 'å‘å±•ç­–ç•¥']
  },
  relationship: {
    name: 'æ„Ÿæƒ…å©šå§»ä¸“é¡¹', 
    titles: ['æƒ…æ„Ÿç‰¹è´¨', 'ç¼˜åˆ†æœºé‡', 'å…³ç³»æŒ‘æˆ˜', 'ç›¸å¤„ä¹‹é“']
  },
  health: {
    name: 'å¥åº·è¿åŠ¿ä¸“é¡¹',
    titles: ['ä½“è´¨ç‰¹ç‚¹', 'å¥åº·æœºé‡', 'æ½œåœ¨é£é™©', 'å…»ç”Ÿå»ºè®®']
  }
};

// æ¸²æŸ“å…ƒç´ åˆ†å¸ƒå›¾
function renderElementChart(starData) {
  const chart = $('elementChart');
  if (!chart) return;
  
  const elements = starData.elements;
  const maxValue = Math.max(...Object.values(elements));
  
  chart.innerHTML = Object.entries(elements).map(([element, value]) => `
    <div class="element-item ${value === maxValue ? 'strong' : ''}">
      <div class="element-name">${element}</div>
      <div class="element-value">${value}/5</div>
    </div>
  `).join('');
}

// ç”Ÿæˆæ·±åº¦åˆ†æï¼ˆç°åœ¨ä¼šæ ¹æ®åˆ†æç±»å‹è°ƒæ•´å†…å®¹ï¼‰
function generateDeepAnalysis(starNum, gender, analysisType) {
  const star = STARS_DEEP[starNum];
  if (!star) return null;

  const isMale = gender === 'male';
  const analysisConfig = ANALYSIS_TYPE_MAP[analysisType];
  
  // æ ¹æ®åˆ†æç±»å‹è·å–ä¸“é¡¹æ•°æ®
  const specializedData = star[`${analysisType}_analysis`] || star.career_analysis;

  return {
    personality: `
      <p>${star.personality}ã€‚${isMale ? 'ç”·æ€§' : 'å¥³æ€§'}ç‰¹è´¨ä½¿å¾—æ‚¨åœ¨${isMale ? 'å†³ç­–å’Œæ‰§è¡Œæ–¹é¢æ›´å…·æœæ–­æ€§' : 'æ„ŸçŸ¥å’Œåè°ƒæ–¹é¢æ›´å…·ç»†è…»åº¦'}ã€‚</p>
      <p><strong>æ ¸å¿ƒç‰¹è´¨ï¼š</strong>${star.talents.join('ã€')}</p>
      ${analysisType !== 'comprehensive' ? `<p><strong>ä¸“é¡¹é‡ç‚¹ï¼š</strong>${getSpecializedFocus(analysisType)}</p>` : ''}
    `,
    
    talents: `
      <p>æ‚¨çš„å¤©èµ‹æ½œèƒ½ä¸»è¦é›†ä¸­åœ¨<strong>${star.talents.slice(0,2).join('ã€')}</strong>é¢†åŸŸã€‚</p>
      <p>å»ºè®®å‘å±•æ–¹å‘ï¼š${star.career}</p>
      <p><strong>å‘å±•ç­–ç•¥ï¼š</strong>å‘æŒ¥${star.element}å…ƒç´ çš„ç‰¹æ€§ï¼Œç»“åˆäº”è¡Œç›¸ç”ŸåŸç†è¿›è¡ŒèŒä¸šè§„åˆ’ã€‚</p>
    `,
    
    challenges: `
      <p>éœ€è¦æ³¨æ„çš„äººç”Ÿè¯¾é¢˜ï¼š${star.challenges.join('ã€')}</p>
      <p><strong>è°ƒæ•´å»ºè®®ï¼š</strong>é€šè¿‡${getElementSupport(star.element)}å…ƒç´ çš„ç‰¹æ€§æ¥å¹³è¡¡${star.element}å…ƒç´ çš„è¿‡å¼ºæˆ–è¿‡å¼±ã€‚</p>
    `,
    
    development: `
      <p>åŸºäºæ‚¨çš„ä¹æ˜Ÿç‰¹è´¨ï¼Œå»ºè®®é‡‡å–ä»¥ä¸‹å‘å±•ç­–ç•¥ï¼š</p>
      <ul>
        <li>å‘æŒ¥${star.talents[0]}çš„æ ¸å¿ƒä¼˜åŠ¿</li>
        <li>é€šè¿‡${getSupportingElements(star.element)}æ¥å¹³è¡¡èƒ½é‡</li>
        <li>åœ¨${star.directions.favorable.join('ã€')}æ–¹ä½å¯»æ±‚å‘å±•æœºä¼š</li>
      </ul>
    `,
    
    elements: `
      <p>äº”è¡Œèƒ½é‡åˆ†ææ˜¾ç¤ºæ‚¨çš„<strong>${star.element}</strong>å…ƒç´ æœ€ä¸ºçªå‡ºã€‚</p>
      <p>å»ºè®®é€šè¿‡${getElementBalanceAdvice(star.element)}æ¥ä¼˜åŒ–èƒ½é‡é…ç½®ã€‚</p>
    `,
    
    // ä¸“é¡¹åˆ†æå†…å®¹
    specialized: {
      title: analysisConfig.name,
      subtitles: analysisConfig.titles,
      contents: [
        `<p><strong>ä¼˜åŠ¿ç‰¹ç‚¹ï¼š</strong>${specializedData.strengths.join('ã€')}</p>`,
        `<p><strong>å‘å±•æœºé‡ï¼š</strong>${specializedData.opportunities.join('ã€')}</p>`,
        `<p><strong>éœ€è¦æ³¨æ„ï¼š</strong>${specializedData.risks.join('ã€')}</p>`,
        `<p><strong>è¡ŒåŠ¨å»ºè®®ï¼š</strong>${specializedData.actions.join('ã€')}</p>`
      ]
    }
  };
}

// ç”Ÿæˆè¿åŠ¿æ—¶é—´çº¿ï¼ˆç°åœ¨ä¼šæ ¹æ®åˆ†æç±»å‹è°ƒæ•´ï¼‰
function generateFortuneTimeline(starNum, analysisType) {
  const currentYear = new Date().getFullYear();
  const periods = [];
  
  for (let i = 0; i < 3; i++) {
    const year = currentYear + i;
    const advice = getYearlyAdvice(starNum, year, analysisType);
    periods.push({
      year: `${year}å¹´`,
      advice: advice
    });
  }
  
  return periods;
}

// è¾…åŠ©å‡½æ•°
function getElementSupport(element) {
  const supports = {
    'æ°´': 'æœ¨ã€ç«', 'æœ¨': 'ç«ã€åœŸ', 'ç«': 'åœŸã€é‡‘', 
    'åœŸ': 'é‡‘ã€æ°´', 'é‡‘': 'æ°´ã€æœ¨'
  };
  return supports[element] || 'ç»¼åˆå¹³è¡¡';
}

function getSupportingElements(element) {
  const supports = {
    'æ°´': 'æœ¨å…ƒç´ å’Œç«å…ƒç´ ', 'æœ¨': 'ç«å…ƒç´ å’ŒåœŸå…ƒç´ ', 
    'ç«': 'åœŸå…ƒç´ å’Œé‡‘å…ƒç´ ', 'åœŸ': 'é‡‘å…ƒç´ å’Œæ°´å…ƒç´ ', 
    'é‡‘': 'æ°´å…ƒç´ å’Œæœ¨å…ƒç´ '
  };
  return supports[element] || 'ç›¸ç”Ÿå…ƒç´ ';
}

function getElementBalanceAdvice(element) {
  const advice = {
    'æ°´': 'å¢åŠ æœ¨ç«å…ƒç´ çš„æ´»åŠ¨ï¼Œå¦‚å­¦ä¹ æˆé•¿å’Œç¤¾äº¤äº’åŠ¨',
    'æœ¨': 'åŠ å¼ºç«åœŸå…ƒç´ çš„å®è·µï¼Œå¦‚åˆ›ä½œè¡¨è¾¾å’ŒåŠ¡å®ç»è¥',
    'ç«': 'æ³¨é‡åœŸé‡‘å…ƒç´ çš„ç¨³å®šï¼Œå¦‚èµ„äº§ç®¡ç†å’Œè§„åˆ™å»ºç«‹',
    'åœŸ': 'å¼•å…¥é‡‘æ°´å…ƒç´ çš„æµåŠ¨ï¼Œå¦‚æŠ€èƒ½æå‡å’Œäººè„‰æ‹“å±•',
    'é‡‘': 'è¿ç”¨æ°´æœ¨å…ƒç´ çš„ç”Ÿæœºï¼Œå¦‚çŸ¥è¯†æ›´æ–°å’Œåˆ›æ–°æ€ç»´'
  };
  return advice[element] || 'äº”è¡Œå¹³è¡¡çš„æ–¹æ³•';
}

function getYearlyAdvice(starNum, year, analysisType) {
  const adviceMap = {
    career: [
      'èŒåœºæ™‹å‡å…³é”®æœŸï¼ŒæŠŠæ¡é‡è¦é¡¹ç›®æœºä¼š',
      'é€‚åˆæŠ€èƒ½æå‡ï¼Œè€ƒå–ä¸“ä¸šèµ„æ ¼è¯ä¹¦',
      'è´¢è¿ä¸Šå‡ï¼Œä½†éœ€è°¨æ…æŠ•èµ„å†³ç­–',
      'åˆä½œè¿ä½³ï¼Œé€‚åˆå›¢é˜Ÿåä½œå‘å±•'
    ],
    relationship: [
      'æ¡ƒèŠ±è¿æ—ºç››ï¼Œé€‚åˆæ‹“å±•ç¤¾äº¤åœˆ',
      'æ„Ÿæƒ…ç¨³å®šæœŸï¼Œé€‚åˆæ·±åº¦å…³ç³»å‘å±•',
      'å®¶åº­å’Œè°ï¼Œé€‚åˆå¤„ç†å®¶åº­äº‹åŠ¡',
      'äººé™…è¿ä½³ï¼Œè´µäººç›¸åŠ©æ˜æ˜¾'
    ],
    health: [
      'ä½“è´¨è°ƒæ•´æœŸï¼Œæ³¨é‡å…»ç”Ÿä¿å¥',
      'è¿åŠ¨è¿ä½³ï¼Œé€‚åˆå»ºç«‹é”»ç‚¼ä¹ æƒ¯',
      'æƒ…ç»ªç¨³å®šï¼Œå¿ƒç†å¥åº·çŠ¶æ€è‰¯å¥½',
      'æ¢å¤åŠ›å¼ºï¼Œé€‚åˆè°ƒç†æ—§ç–¾'
    ],
    comprehensive: [
      'ç»¼åˆå‘å±•æœŸï¼Œå„æ–¹é¢å‡è¡¡è¿›æ­¥',
      'å­¦ä¹ è¿ä½³ï¼Œé€‚åˆçŸ¥è¯†æŠ€èƒ½æå‡',
      'äººé™…å…³ç³»å’Œè°ï¼Œåˆä½œæœºä¼šå¢å¤š',
      'æ•´ä½“è¿åŠ¿å¹³ç¨³ï¼Œé€‚åˆé•¿æœŸè§„åˆ’'
    ]
  };
  
  const adviceList = adviceMap[analysisType] || adviceMap.comprehensive;
  return adviceList[year % adviceList.length];
}

function getSpecializedFocus(analysisType) {
  const focusMap = {
    career: 'èŒä¸šå‘å±•ä¸è´¢å¯Œç§¯ç´¯',
    relationship: 'æ„Ÿæƒ…å©šå§»ä¸äººé™…å…³ç³»', 
    health: 'èº«å¿ƒå¥åº·ä¸ç”Ÿæ´»å“è´¨',
    comprehensive: 'æ•´ä½“äººç”Ÿè§„åˆ’ä¸å‘å±•'
  };
  return focusMap[analysisType] || 'æ•´ä½“äººç”Ÿå‘å±•';
}

// æ›´æ–°ä¸“é¡¹åˆ†ææ˜¾ç¤º
function updateSpecializedAnalysis(specializedData) {
  if (!specializedData) return;
  
  $('specializedCard').style.display = 'block';
  $('specializedTitle').textContent = specializedData.title;
  
  // æ›´æ–°æ‰€æœ‰å­æ ‡é¢˜å’Œå†…å®¹
  for (let i = 0; i < 4; i++) {
    $(`specializedSubtitle${i+1}`).textContent = specializedData.subtitles[i];
    $(`specializedContent${i+1}`).innerHTML = specializedData.contents[i];
  }
}

// ä¸»ç”Ÿæˆå‡½æ•° - ç°åœ¨å®Œå…¨é›†æˆåˆ†æç±»å‹
$('go').addEventListener('click', function() {
  const birthdate = $('birthdate').value;
  const gender = $('gender').value;
  const analysisType = $('analysisType').value;
  
  if (!birthdate) {
    alert('è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ');
    return;
  }
  
  const starNum = calcHonmei(birthdate);
  if (!starNum) {
    alert('æ—¥æœŸæ ¼å¼æœ‰è¯¯');
    return;
  }
  
  const star = STARS_DEEP[starNum];
  const analysis = generateDeepAnalysis(starNum, gender, analysisType);
  
  // æ›´æ–°åˆ†æç±»å‹æŒ‡ç¤ºå™¨
  $('analysisTypeIndicator').textContent = ANALYSIS_TYPE_MAP[analysisType].name;
  
  // æ˜¾ç¤ºä¸»æ˜Ÿå¡ç‰‡
  $('starCard').style.display = 'block';
  $('starName').textContent = star.zh;
  $('starJP').textContent = star.jp;
  $('starBadges').innerHTML = `
    <span class="badge">äº”è¡Œï¼š${star.element}</span>
    <span class="badge">å‰è‰²ï¼š${star.color}</span>
    <span class="badge">å‰æ–¹ï¼š${star.directions.favorable.join('ã€')}</span>
  `;
  $('starAbout').textContent = star.personality;
  
  // æ¸²æŸ“å…ƒç´ å›¾è¡¨
  renderElementChart(star);
  $('elementAnalysis').innerHTML = analysis.elements;
  
  // æ˜¾ç¤ºæ·±åº¦åˆ†æ
  $('analysisCard').style.display = 'block';
  $('personalityAnalysis').innerHTML = analysis.personality;
  $('talentAnalysis').innerHTML = analysis.talents;
  $('challengeAnalysis').innerHTML = analysis.challenges;
  $('developmentAdvice').innerHTML = analysis.development;
  
  // æ˜¾ç¤ºä¸“é¡¹åˆ†æ
  updateSpecializedAnalysis(analysis.specialized);
  
  // æ˜¾ç¤ºè¿åŠ¿åˆ†æï¼ˆç°åœ¨ä¼šæ ¹æ®åˆ†æç±»å‹è°ƒæ•´ï¼‰
  $('fortuneCard').style.display = 'block';
  const timeline = generateFortuneTimeline(starNum, analysisType);
  $('fortuneTimeline').innerHTML = timeline.map(item => `
    <div class="timeline-item">
      <div class="timeline-period">${item.year}</div>
      <div>${item.advice}</div>
    </div>
  `).join('');
  
  // æ˜¾ç¤ºä¸“ä¸šå»ºè®®ï¼ˆç°åœ¨ä¼šæ ¹æ®åˆ†æç±»å‹è°ƒæ•´ï¼‰
  $('adviceCard').style.display = 'block';
  $('directionAdvice').innerHTML = `å®œå¾€<strong>${star.directions.favorable.join('ã€')}</strong>æ–¹ä½å‘å±•ï¼Œé¿å…${star.directions.avoid.join('ã€')}æ–¹ä½`;
  $('colorAdvice').innerHTML = `å¤šä½¿ç”¨<strong>${star.color}</strong>ç­‰è‰²ç³»ï¼Œå¢å¼ºèƒ½é‡åœº`;
  $('careerAdvice').innerHTML = `é€‚åˆä»äº‹<strong>${star.career}</strong>ç­‰ç›¸å…³é¢†åŸŸ`;
  $('relationshipAdvice').innerHTML = `æ³¨é‡${star.talents.slice(-1)[0]}ï¼Œæ”¹å–„äººé™…å…³ç³»`;
});

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
  // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
  const today = new Date();
  const yyyy = today.getFullYear();
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const dd = String(today.getDate()).padStart(2, '0');
  $('birthdate').value = `${yyyy}-${mm}-${dd}`;
  
  // ç›‘å¬åˆ†æç±»å‹å˜åŒ–
  $('analysisType').addEventListener('change', function() {
    // è¿™é‡Œå¯ä»¥å®æ—¶æ›´æ–°UIæç¤º
    console.log('åˆ†æç±»å‹å·²æ›´æ”¹ä¸º:', this.value);
  });
});
</script>
</body>
</html>


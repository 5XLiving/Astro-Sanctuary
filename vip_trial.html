<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>命理心怜空间 · VIP 体验</title>
  <style>
    :root{
      --bg:#0b0f14; --card:#11161dcc; --line:#2a3644; --text:#e8edf3; --muted:#98a7b7;
      --brand:#d4af37; --accent:#58b9ff;
      --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.35);
    }
    body{
      margin:0; background:var(--bg); color:var(--text); font-family: "Noto Serif SC", serif;
      -webkit-font-smoothing:antialiased;
    }
    body::before{
      content:""; position:fixed; inset:0; z-index:-1;
      background:url('assets/images/gate.jpg') center/cover no-repeat;
      filter:brightness(.45) saturate(.9);
    }
    h1,h2,h3{margin:0 0 18px;}
    h1{font-size:1.8rem; color:var(--brand);}
    h2{font-size:1.3rem; color:#ffe084;}

    .container{max-width:1100px; margin:0 auto; padding:24px 16px 80px;}

    .card{
      background:var(--card); border:1px solid var(--line);
      border-radius:var(--radius); padding:24px; margin-bottom:28px;
      box-shadow:var(--shadow);
    }

    /* 表单 */
    form{display:grid; gap:18px;}
    label{font-size:.95rem; color:var(--brand);}
    input,select{
      width:100%; padding:12px; font-size:1rem;
      border-radius:10px; border:1px solid #2a3644;
      background:#0f1522; color:var(--text);
    }
    input:focus, select:focus{outline:none; border-color:var(--brand);}
    .form-grid{grid-template-columns:1fr 1fr;}
    .form-full{grid-column:1 / -1;}
    @media(max-width:640px){.form-grid{grid-template-columns:1fr;}}

    button,.btn{
      display:inline-block; padding:12px 20px;
      background:linear-gradient(180deg,#f7e7a8,#d4af37); color:#000;
      border:none; border-radius:10px; cursor:pointer;
      font-weight:600; transition:.2s;
    }
    button:hover,.btn:hover{transform:translateY(-2px);}

    /* 链接网格 */
    .grid-links{display:grid; gap:14px; grid-template-columns:repeat(auto-fill,minmax(220px,1fr));}
    .link-card{
      display:block; padding:16px; border:1px solid var(--line);
      background:#0e1520; border-radius:12px; text-decoration:none;
      color:var(--text); text-align:center; transition:.15s;
    }
    .link-card:hover{border-color:var(--brand); box-shadow:0 6px 16px rgba(212,175,55,.25);}

    footer{margin-top:40px; text-align:center; color:var(--muted); font-size:.9rem;}

    /* Chat 助手 */
    .ss-chat-fab{
      position:fixed; right:20px; bottom:20px; z-index:100;
      width:56px; height:56px; border-radius:50%;
      background:linear-gradient(180deg,#f7e7a8,#d4af37); color:#000;
      display:grid; place-items:center; font-weight:700; cursor:pointer;
      box-shadow:0 8px 24px rgba(0,0,0,.35);
    }
    .ss-chat-panel{
      position:fixed; right:20px; bottom:90px; z-index:100;
      width:min(360px,90vw); max-height:70vh;
      display:none; flex-direction:column;
      background:#0f1522f2; border:1px solid var(--line); border-radius:12px;
      box-shadow:0 12px 30px rgba(0,0,0,.45);
    }
    .ss-chat-panel.show{display:flex;}
    .ss-chat-head{padding:12px; border-bottom:1px solid var(--line); display:flex; justify-content:space-between; color:#ffe084;}
    .ss-chat-body{flex:1; padding:12px; overflow:auto; display:flex; flex-direction:column; gap:10px;}
    .ss-msg{padding:10px 12px; border-radius:10px; background:#182030; max-width:80%;}
    .ss-msg.me{align-self:flex-end; background:#222; color:#ffe084;}
    .ss-chat-input{display:flex; gap:8px; border-top:1px solid var(--line); padding:10px;}
    .ss-chat-input input{flex:1; padding:10px; border-radius:8px; border:1px solid #2a3644; background:#0e1520; color:var(--text);}
    .ss-chat-input button{padding:0 16px;}
  </style>
</head>
<body>
  <div class="container">
    <h1>🌙 命理空间 · Astro Sanctuary</h1>

    <!-- 命理分析 -->
    <section class="card">
      <h2>命理分析</h2>
      <form class="form-grid" action="/secure/report.html" method="GET">
        <div>
          <label>命盘类型</label>
          <select name="type" id="type" onchange="togglePartner(this.value)">
            <option value="personal">个人命盘</option>
            <option value="compatibility">合盘（两人资料）</option>
          </select>
        </div>
        <div>
          <label>命理方向</label>
          <select name="purpose" id="purpose_personal">
            <optgroup label="姻缘">
              <option>恋爱缘分</option><option>婚姻走势</option>
            </optgroup>
            <optgroup label="事业">
              <option>职场发展</option><option>创业潜力</option>
            </optgroup>
          </select>
        </div>
        <div>
          <label>姓名（本人）</label>
          <input type="text" name="name1" required>
        </div>
        <div>
          <label>出生日期</label>
          <input type="date" name="birthdate1" required>
        </div>
        <div class="form-full">
          <button type="submit">生成报告 Generate Report</button>
        </div>
      </form>
    </section>

    <!-- VIP 功能区 -->
    <section class="card">
      <h2>🧘‍♀️ 灵性日记</h2>
      <div class="grid-links">
        <a href="personal_memory.html" class="link-card">个人隐藏记录</a>
        <a href="family_memory.html" class="link-card">家庭共享记录</a>
        <a href="memory_upload.html" class="link-card">上传记录</a>
      </div>
    </section>

    <section class="card">
      <h2>📘 命理课程专区</h2>
      <div class="grid-links">
        <a href="soul_integration_course.html" class="link-card">进入课程</a>
      </div>
    </section>

    <section class="card">
      <h2>🛍️ 能量商城</h2>
      <div class="grid-links">
        <a href="阴债和解包.html" class="link-card">阴债和解包</a>
        <a href="财库包.html" class="link-card">财库包</a>
        <a href="姻缘包.html" class="link-card">姻缘包</a>
      </div>
    </section>

    <section class="card">
      <h2>🔮 梦想提交</h2>
      <div class="grid-links">
        <a href="wish_submission.html" class="link-card">梦想规划 / Dream Manifestation</a>
      </div>
    </section>

    <section class="card">
      <h2>📖 灵性空间 · 往生记怜录</h2>
      <div class="grid-links">
        <a href="login_memorial.html" class="link-card">登入灵性空间</a>
        <a href="upload_memorial.html" class="link-card">上传往生录</a>
        <a href="register_soul_memorial.html" class="link-card">注册灵性空间</a>
      </div>
    </section>

    <footer>
      心怜空间 · 灵魂成长 × 家族延续 × 灵性协助<br/>© VIP Sanctuary 2025
    </footer>
  </div>

  <!-- Chat GPT 助手 -->
  <div class="ss-chat-fab" onclick="toggleChat()">问</div>
  <div class="ss-chat-panel" id="chatPanel">
    <div class="ss-chat-head">
      <div>心怜管家</div>
      <div style="cursor:pointer" onclick="toggleChat()">✕</div>
    </div>
    <div class="ss-chat-body" id="chatBody"></div>
    <div class="ss-chat-input">
      <input id="chatInput" placeholder="请输入您的问题…" />
      <button onclick="sendChat()">发送</button>
    </div>
  </div>

  <script>
    function togglePartner(v){
      document.getElementById("partner-section")?.classList.toggle("show", v==="compatibility");
    }
    function toggleChat(){
      document.getElementById("chatPanel").classList.toggle("show");
    }
    function sendChat(){
      const body=document.getElementById("chatBody");
      const input=document.getElementById("chatInput");
      if(!input.value.trim()) return;
      const me=document.createElement("div"); me.className="ss-msg me"; me.textContent=input.value;
      body.appendChild(me); body.scrollTop=body.scrollHeight;
      setTimeout(()=>{
        const bot=document.createElement("div"); bot.className="ss-msg"; bot.textContent="（GPT 回复示例：这里会接 API）";
        body.appendChild(bot); body.scrollTop=body.scrollHeight;
      },800);
      input.value="";
    }
  </script>
</body>
</html>

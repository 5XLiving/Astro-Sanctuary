<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Astro Sanctuary · VIP</title>
  <style>
    /* ===== 背景 ===== */
    body::before {
      content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
      background: rgba(0,0,0,.05);
      background-image:url('assets/images/gate.jpg');
      background-size:cover; background-position:center; background-attachment:fixed;
    }
    body {
      margin:0; padding:0; overflow-x:hidden;
      font-family:'Noto Serif', serif;
      text-align:center; color:#d4af37;
    }

    h1 { font-size:2.4rem; margin:20px 0; }
    @media (max-width:480px){ h1{ font-size:2rem; } }

    /* ===== 通用容器 ===== */
    .box, .vip-section, .container1 {
      background:rgba(0,0,0,.06);
      border:1px solid rgba(212,175,55,.45);
      border-radius:12px;
      box-shadow:0 12px 28px rgba(0,0,0,.35);
      max-width:900px; margin:24px auto; padding:24px 18px;
    }
    .vip-section h2{ color:#ffe084; margin-bottom:14px; font-size:1.3rem }

    /* ===== 表单 ===== */
    label { display:block; margin-top:14px; font-size:1rem; }
    input, select {
      width:100%; padding:10px; margin-top:6px;
      border-radius:6px; border:none;
      background:#0f0f12; color:#ffe9a8;
      font-size:1rem; text-align:center;
      border:1px solid rgba(212,175,55,.28);
      box-sizing:border-box;
    }
    input:focus, select:focus {
      outline:0; box-shadow:0 0 0 2px rgba(212,175,55,.35);
    }
    button {
      padding:12px 24px; margin-top:20px;
      border:none; border-radius:6px;
      background:#ffd700; color:#000;
      font-size:1rem; cursor:pointer;
    }

    /* ===== 网格按钮 ===== */
    .grid, .vip-section ul {
      display:flex; flex-wrap:wrap; justify-content:center;
      gap:14px; margin:12px 0 0; padding:0; list-style:none;
    }
    .grid a, .vip-section ul li a, .vip-section button {
      display:inline-block; min-width:280px;
      background:#222; color:#d4af37;
      padding:14px 20px; border-radius:8px;
      font-size:1rem; text-decoration:none;
      border:1px solid rgba(212,175,55,.35);
      transition:.2s background, .2s color, .2s transform;
    }
    .grid a:hover, .vip-section ul li a:hover, .vip-section button:hover {
      background:#d4af37; color:#000; transform:translateY(-2px);
    }
    @media(max-width:480px){
      .grid a, .vip-section ul li a, .vip-section button { min-width:92%; }
    }

    footer { margin:40px 0 20px; font-size:.9rem; color:#aaa; }

    /* ===== GPT 聊天助手 ===== */
    .gpt-launch {
      position:fixed; right:20px; bottom:20px; z-index:9999;
      background:linear-gradient(180deg,#f2d27a,#d4af37);
      color:#271b02; border:0; border-radius:24px;
      padding:12px 16px; font-weight:700; cursor:pointer;
      box-shadow:0 10px 20px rgba(212,175,55,.35);
    }
    .gpt-chat {
      position:fixed; right:20px; bottom:80px; z-index:9999;
      width:360px; max-height:65vh;
      display:none; flex-direction:column;
      background:rgba(8,8,12,.96);
      border:1px solid rgba(212,175,55,.45);
      border-radius:12px;
      box-shadow:0 18px 36px rgba(0,0,0,.5);
    }
    .gpt-chat.show{ display:flex }
    .gpt-head {
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 12px; color:#ffd56b;
      border-bottom:1px solid rgba(212,175,55,.3);
    }
    .gpt-head button { background:none; border:0; color:#ffd56b; cursor:pointer; font-size:16px; }
    .gpt-body { padding:10px; overflow:auto; flex:1; display:flex; flex-direction:column; gap:8px; }
    .msg { padding:10px 12px; border-radius:8px; max-width:80%; line-height:1.5; }
    .msg.user { align-self:flex-end; background:#222; color:#ffd56b; }
    .msg.bot { align-self:flex-start; background:#0f1320; color:#e9ecf6; }
    .gpt-input { display:flex; border-top:1px solid rgba(212,175,55,.3); }
    .gpt-input input {
      flex:1; border:0; padding:10px; font-size:1rem;
      background:#0d0d12; color:#ffe084;
    }
    .gpt-input button {
      border:0; background:#d4af37; color:#000;
      padding:10px 16px; cursor:pointer;
    }
  </style>
</head>
<body>
  <h1>🌙 命理空间 · Astro Sanctuary</h1>

  <!-- 这里是你原本的命理分析表单 + VIP 区块内容 -->
  <div class="container1">
    <h1>命理分析</h1>
    <!-- 略：你的表单内容 -->
    <form action="/secure/report.html" method="GET">
      <label>姓名</label>
      <input type="text" name="name1" required>
      <label>出生日期</label>
      <input type="date" name="birthdate1" required>
      <button type="submit">生成报告 Generate Report</button>
    </form>
  </div>

  <div class="vip-section">
    <h2>🧘‍♀️ 灵性日记</h2>
    <ul>
      <li><a href="personal_memory.html">个人隐藏记录</a></li>
      <li><a href="family_memory.html">家庭共享记录</a></li>
      <li><a href="memory_upload.html">上传记录</a></li>
    </ul>
  </div>

  <div class="vip-section">
    <h2>📘 命理课程专区</h2>
    <ul>
      <li><a href="soul_integration_course.html">进入课程 / Enter</a></li>
    </ul>
  </div>

  <!-- 其他你原本的 vip-section 内容照样复制 -->

  <footer>
    心怜空间 · 灵魂成长 × 家族延续 × 灵性协助<br/>
    © VIP Sanctuary 2025
  </footer>

  <!-- GPT 助手浮窗 -->
  <button class="gpt-launch" onclick="toggleChat()">💬 GPT 助手</button>
  <div class="gpt-chat" id="gptChat">
    <div class="gpt-head">
      <span>AI 助手</span>
      <button onclick="toggleChat()">✖</button>
    </div>
    <div class="gpt-body" id="chatBody"></div>
    <div class="gpt-input">
      <input type="text" id="chatInput" placeholder="输入你的问题…" onkeydown="if(event.key==='Enter'){sendMsg()}">
      <button onclick="sendMsg()">发送</button>
    </div>
  </div>

  <script>
    function toggleChat(){
      document.getElementById('gptChat').classList.toggle('show');
    }
    function sendMsg(){
      const input=document.getElementById('chatInput');
      const body=document.getElementById('chatBody');
      if(!input.value.trim()) return;
      // 显示用户消息
      const user=document.createElement('div');
      user.className='msg user';
      user.innerText=input.value;
      body.appendChild(user);

      // 模拟 GPT 回复（这里要换成你 Cloudflare Worker API）
      setTimeout(()=>{
        const bot=document.createElement('div');
        bot.className='msg bot';
        bot.innerText="（这里返回 GPT 回复内容）";
        body.appendChild(bot);
        body.scrollTop=body.scrollHeight;
      },800);

      input.value="";
      body.scrollTop=body.scrollHeight;
    }
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🌟 命理课程论坛总入口</title>
  <style>
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image: url('assets/images/gate.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      z-index: -1;
    }

    body {
      font-family: "Noto Serif SC", serif;
      color: #ffd700;
      background-color: transparent;
      padding: 40px;
      max-width: 900px;
      margin: auto;
    }

    h1 {
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 30px;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      background: rgba(255, 255, 255, 0.05);
      margin: 12px 0;
      padding: 16px;
      border-left: 6px solid #ffd700;
      border-radius: 6px;
      transition: background 0.3s;
    }

    li:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    a {
      text-decoration: none;
      color: #ffd700;
      font-size: 1.2rem;
    }

    .note {
      margin-top: 40px;
      font-size: 0.95rem;
      color: #ccc;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>🌟 命理课程论坛总入口</h1>

  <ul>
    <li><a href="forum/astrology.html">占星学</a></li>
    <li><a href="forum/numerology.html">灵数系统</a></li>
    <li><a href="forum/humandesign.html">人类图 Human Design</a></li>
    <li><a href="forum/liuyao.html">六爻占卜课程</a></li>
    <li><a href="forum/meditation.html">冥想引导课程</a></li>
    <li><a href="forum/qimen.html">奇门遁甲课程</a></li>
    <li><a href="forum/japan-shrine.html">日式神明信仰・神社巡礼</a></li>
    <li><a href="forum/ziwei.html">紫微斗数</a></li>
    <li><a href="forum/energy.html">能量学课程</a></li>
    <li><a href="forum/west-astrology.html">西洋占星基础课程</a></li>
    <li><a href="forum/spiritual.html">心灵课程</a></li>
  </ul>

  <div class="note">
    欢迎在各区发起讨论、分享学习心得或提问解盘技巧。某些专区仅对注册会员开放。
  </div>

<script>
  const input = document.getElementById('forumInput');
  const postList = document.getElementById('forumPosts');
  const forumKey = "astrologyForumPosts"; // 更换为当前课程对应 Key

  function loadPosts() {
    const posts = JSON.parse(localStorage.getItem(forumKey)) || [];

    if (posts.length === 0) {
      postList.innerHTML = `
        <div class="post" style="opacity:0.7">
          当前尚无留言。你可以成为第一个发帖的朋友！<br><br>
          或者先看看 <a href="/forum-index.html" style="color: #ffd700;">其他命理课程讨论区</a>。
        </div>
      `;
      return;
    }

    postList.innerHTML = posts.map(p => `
      <div class="post">
        ${p.text}
        <div class="post-time">🕓 ${p.time}</div>
      </div>
    `).join('');
  }

  function submitPost() {
    const text = input.value.trim();
    if (!text) return alert("请输入内容后再发表");
    const now = new Date().toLocaleString();
    const newPost = { text, time: now };
    const posts = JSON.parse(localStorage.getItem(forumKey)) || [];
    posts.unshift(newPost);
    localStorage.setItem(forumKey, JSON.stringify(posts));
    input.value = "";
    loadPosts();
  }

  loadPosts();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📘 第1课：八字结构与天干地支基础</title>
  <style>
    body {
      font-family: "Noto Serif SC", serif;
      background-color: #0b0b0b;
      color: #ffd700;
      padding: 30px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 20px;
    }
    section {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      margin: 20px 0;
      border-left: 5px solid #ffd700;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>📘 第1课：八字结构与天干地支基础</h1>

<select id="langSelect">
  <option value="zh-CN">中文（简体）</option>
  <option value="zh-TW">中文（繁體）</option>
  <option value="en-US">English</option>
  <option value="ja-JP">日本語</option>
  <option value="th-TH">ภาษาไทย</option>
  <option value="id-ID">Bahasa Indonesia</option>
  <option value="vi-VN">Tiếng Việt</option>
  <option value="tl-PH">Filipino（菲律宾）</option>
  <option value="fr-FR">Français（法语）</option>
  <option value="de-DE">Deutsch（德语）</option>
  <option value="es-ES">Español（西语）</option>
  <option value="pt-PT">Português（葡语）</option>
  <option value="hi-IN">हिन्दी（Hindi）</option>
</select>
  
<section>     
天干地支是什么？<br>
天干如天，主性格与表现；地支如地，藏力量与能量流动。<br>
天干地支，是中国古代用于纪年、命理、风水等的重要体系。<br>
它不仅是古人理解宇宙运行的方式，更是八字命理中解析命运能量的核心语言。<br>
  <br>
  天干「十天干」是古代记录宇宙能量的符号，就像天空的十个频道，主导我们外在表现的性格和容易被人察觉的行为模式。<br>
</select>
  
<section>
  <p><h2>🌳 甲木</h2>
    <b>阴阳：</b>阳木<br>
    <b>五行能量：</b>木性强度 ★★★★★<br>
    <b>人体对应：</b>胆、神经系统<br>
    <br>
    <b>参天大树：</b>象征突破与成长。作为十天干之首，代表：<br>
    <b>自然意象：</b>松柏、栋梁之材<br>
    <b>性格特质：</b>正直果断、有领导力、容易树敌<br>
    <b>现代适配：</b>创业者、工程师、林业
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 乙木 -->
<section>
  <p><h2>🌿 乙木</h2>
    <b>阴阳：</b>阴木<br>
    <b>五行能量：</b>木性强度 ★★★★☆<br>
    <b>人体对应：</b>肝、免疫系统<br>
    <br>
    <b>蔓藤花草：</b>象征柔韧与适应。代表：<br>
    <b>自然意象：</b>柳条、爬藤植物<br>
    <b>性格特质：</b>善于协调、审美力强、依赖心重<br>
    <b>现代适配：</b>设计师、教师、心理咨询
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 丙火 -->
<section>
  <p><h2>🔥 丙火</h2>
    <b>阴阳：</b>阳火<br>
    <b>五行能量：</b>火性强度 ★★★★★<br>
    <b>人体对应：</b>小肠、心血管<br>
    <br>
    <b>太阳之火：</b>象征光明与传播。代表：<br>
    <b>自然意象：</b>烈日、火山<br>
    <b>性格特质：</b>热情开朗、感染力强、急躁冲动<br>
    <b>现代适配：</b>演艺、公关、能源行业
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 丁火 -->
<section>
  <p><h2>🕯️ 丁火</h2>
    <b>阴阳：</b>阴火<br>
    <b>五行能量：</b>火性强度 ★★★★☆<br>
    <b>人体对应：</b>心、内分泌<br>
    <br>
    <b>灯烛之火：</b>象征智慧与专注。代表：<br>
    <b>自然意象：</b>星光、实验室火焰<br>
    <b>性格特质：</b>心思细腻、研究精神、容易焦虑<br>
    <b>现代适配：</b>科研、医疗、精密技术
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 戊土 -->
<section>
  <p><h2>🏔️ 戊土</h2>
    <b>阴阳：</b>阳土<br>
    <b>五行能量：</b>土性强度 ★★★★★<br>
    <b>人体对应：</b>胃、肌肉组织<br>
    <br>
    <b>高山大地：</b>象征稳定与包容。代表：<br>
    <b>自然意象：</b>山脉、城墙<br>
    <b>性格特质：</b>值得信赖、执行力强、固执保守<br>
    <b>现代适配：</b>建筑、管理、地质勘探
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 己土 -->
<section>
  <p><h2>🌾 己土</h2>
    <b>阴阳：</b>阴土<br>
    <b>五行能量：</b>土性强度 ★★★★☆<br>
    <b>人体对应：</b>脾、消化系统<br>
    <br>
    <b>田园之土：</b>象征孕育与转化。代表：<br>
    <b>自然意象：</b>耕地、陶土<br>
    <b>性格特质：</b>耐心细致、服务精神、容易纠结<br>
    <b>现代适配：</b>农业、餐饮、教育培训
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 庚金 -->
<section>
  <p><h2>⚔️ 庚金</h2>
    <b>阴阳：</b>阳金<br>
    <b>五行能量：</b>金性强度 ★★★★★<br>
    <b>人体对应：</b>大肠、骨骼<br>
    <br>
    <b>钢铁之金：</b>象征变革与锐利。代表：<br>
    <b>自然意象：</b>刀剑、矿石<br>
    <b>性格特质：</b>雷厉风行、原则性强、锋芒毕露<br>
    <b>现代适配：</b>军警、制造业、外科医生
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 辛金 -->
<section>
  <p><h2>💎 辛金</h2>
    <b>阴阳：</b>阴金<br>
    <b>五行能量：</b>金性强度 ★★★★☆<br>
    <b>人体对应：</b>肺、呼吸系统<br>
    <br>
    <b>珠玉之金：</b>象征精炼与价值。代表：<br>
    <b>自然意象：</b>钻石、精密仪器<br>
    <b>性格特质：</b>追求完美、分析力强、吹毛求疵<br>
    <b>现代适配：</b>珠宝鉴定、金融分析、编程
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 壬水 -->
<section>
  <p><h2>🌊 壬水</h2>
    <b>阴阳：</b>阳水<br>
    <b>五行能量：</b>水性强度 ★★★★★<br>
    <b>人体对应：</b>膀胱、淋巴系统<br>
    <br>
    <b>江河之水：</b>象征流动与智慧。代表：<br>
    <b>自然意象：</b>瀑布、海洋<br>
    <b>性格特质：</b>随机应变、学习力强、缺乏定性<br>
    <b>现代适配：</b>贸易、物流、跨领域工作
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 癸水 -->
<section>
  <p><h2>💧 癸水</h2>
    <b>阴阳：</b>阴水<br>
    <b>五行能量：</b>水性强度 ★★★★☆<br>
    <b>人体对应：</b>肾、生殖系统<br>
    <br>
    <b>雨露之水：</b>象征渗透与滋养。代表：<br>
    <b>自然意象：</b>晨露、地下水<br>
    <b>性格特质：</b>敏感细腻、洞察力强、情绪化<br>
    <b>现代适配：</b>艺术创作、心理咨询、养生行业
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<script>
let currentAudio = null;

async function toggleSpeak(button) {
  if (currentAudio) {
    currentAudio.pause();
    currentAudio = null;
    button.textContent = "📣 翻译并朗读";
    return;
  }

  const lang = document.getElementById("langSelect").value;
  const section = button.closest("section");
  const text = section.innerText.trim(); // 修复：包含表格文字

  try {
    const transRes = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=zh-CN&tl=${lang}&dt=t&q=${encodeURIComponent(text)}`);
    const transData = await transRes.json();
    const translated = transData[0].map(d => d[0]).join(" ");

    const ttsRes = await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyAjTuqwHfTVLdxDOHqfbI9UJcFoM1hBlX4", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        input: { text: translated },
        voice: { languageCode: lang, ssmlGender: "NEUTRAL" },
        audioConfig: { audioEncoding: "MP3" }
      })
    });

    const ttsData = await ttsRes.json();
    const audio = new Audio("data:audio/mp3;base64," + ttsData.audioContent);
    audio.play();
    button.textContent = "⏹️ 停止朗读";

    currentAudio = audio;
    audio.onended = () => {
      currentAudio = null;
      button.textContent = "📣 翻译并朗读";
    };
  } catch (err) {
    alert("❌ 无法播放语音：" + err.message);
  }
}
</script>
  
</body>
</html>

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📘 第3课：十二地支基础</title>
  <style>
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      background-image: url('assets/images/gate.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      z-index: -1;
      pointer-events: none;
    }

    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      color: #d4af37;
      font-family: 'Noto Serif', serif;
      text-align: center;
    }
    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 20px;
    }
    section {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      margin: 20px 0;
      border-left: 5px solid #ffd700;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>📘 第3课：十二地支基础</h1>

<select id="langSelect">
  <option value="zh-CN">中文（简体）</option>
  <option value="zh-TW">中文（繁體）</option>
  <option value="en-US">English</option>
  <option value="ja-JP">日本語</option>
  <option value="th-TH">ภาษาไทย</option>
  <option value="id-ID">Bahasa Indonesia</option>
  <option value="vi-VN">Tiếng Việt</option>
  <option value="tl-PH">Filipino（菲律宾）</option>
  <option value="fr-FR">Français（法语）</option>
  <option value="de-DE">Deutsch（德语）</option>
  <option value="es-ES">Español（西语）</option>
  <option value="pt-PT">Português（葡语）</option>
  <option value="hi-IN">हिन्दी（Hindi）</option>
</select>
  
<section>     
<p>十二地支是古代记录宇宙能量的符号，就像天空的十个频道，主导我们外在表现的性格和容易被人察觉的行为模式。</p><br>
<br>  
<!-- 子水 -->
    <p><h2>子水</h2><br>
    <b>阴阳：</b>阳水<br>
    <b>藏干：</b>癸水（100%）<br>
    <b>人体对应：</b>膀胱、泌尿系统<br>
    <br>
    <b>暗流之水：</b>象征初始与潜能。代表：<br>
    <b>自然意象：</b>地下水、冬雪<br>
    <b>性格特质：</b>聪明内敛、适应力强、多疑敏感<br>
    <b>现代适配：</b>研究分析、夜间工作、心理咨询
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 丑土 -->
<section>
    <p><h2>丑土</h2><br>
    <b>阴阳：</b>阴土<br>
    <b>藏干：</b>己土（60%）、癸水（30%）、辛金（10%）<br>
    <b>人体对应：</b>脾脏、消化系统<br>
    <br>
    <b>冻土金库：</b>象征积累与忍耐。代表：<br>
    <b>自然意象：</b>沼泽、矿藏<br>
    <b>性格特质：</b>踏实勤恳、精打细算、固执迟缓<br>
    <b>现代适配：</b>财务会计、农业、长期投资
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 寅木 -->
<section>
    <p><h2>寅木</h2><br>
    <b>阴阳：</b>阳木<br>
    <b>藏干：</b>甲木（60%）、丙火（30%）、戊土（10%）<br>
    <b>人体对应：</b>胆、神经系统<br>
    <br>
    <b>初春之木：</b>象征生机与冒险。代表：<br>
    <b>自然意象：</b>松林、雷电<br>
    <b>性格特质：</b>行动力强、勇于开拓、冲动易怒<br>
    <b>现代适配：</b>创业管理、体育竞技、紧急救援
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 卯木 -->
<section>
    <p><h2>卯木</h2><br>
    <b>阴阳：</b>阴木<br>
    <b>藏干：</b>乙木（100%）<br>
    <b>人体对应：</b>肝脏、免疫系统<br>
    <br>
    <b>仲春之木：</b>象征柔韧与协调。代表：<br>
    <b>自然意象：</b>柳枝、花丛<br>
    <b>性格特质：</b>细腻敏感、审美力佳、优柔寡断<br>
    <b>现代适配：</b>艺术设计、教育、人力资源
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 辰土 -->
<section>
    <p><h2>辰土</h2><br>
    <b>阴阳：</b>阳土<br>
    <b>藏干：</b>戊土（60%）、乙木（30%）、癸水（10%）<br>
    <b>人体对应：</b>胃、淋巴系统<br>
    <br>
    <b>水库之土：</b>象征变化与机遇。代表：<br>
    <b>自然意象：</b>湖泊、龙卷风<br>
    <b>性格特质：</b>善于应变、多才多艺、情绪多变<br>
    <b>现代适配：</b>公关策划、投资理财、跨领域工作
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 巳火 -->
<section>
    <p><h2>巳火</h2><br>
    <b>阴阳：</b>阴火<br>
    <b>藏干：</b>丙火（60%）、庚金（30%）、戊土（10%）<br>
    <b>人体对应：</b>心、血液循环<br>
    <br>
    <b>温热之火：</b>象征智慧与蜕变。代表：<br>
    <b>自然意象：</b>温泉、蛇形闪电<br>
    <b>性格特质：</b>思维缜密、洞察力强、防备心重<br>
    <b>现代适配：</b>科研开发、刑侦、战略分析
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 午火 -->
<section>
    <p><h2>午火</h2><br>
    <b>阴阳：</b>阳火<br>
    <b>藏干：</b>丁火（70%）、己土（30%）<br>
    <b>人体对应：</b>小肠、心血管<br>
    <br>
    <b>烈日之火：</b>象征荣耀与表现。代表：<br>
    <b>自然意象：</b>太阳、烽火<br>
    <b>性格特质：</b>热情外向、追求认可、急躁易怒<br>
    <b>现代适配：</b>演艺娱乐、市场营销、竞技体育
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 未土 -->
<section>
    <p><h2>未土</h2><br>
    <b>阴阳：</b>阴土<br>
    <b>藏干：</b>己土（60%）、丁火（30%）、乙木（10%）<br>
    <b>人体对应：</b>脾脏、内分泌<br>
    <br>
    <b>花园之土：</b>象征收获与包容。代表：<br>
    <b>自然意象：</b>果园、粮仓<br>
    <b>性格特质：</b>温和包容、注重细节、纠结反复<br>
    <b>现代适配：</b>餐饮园艺、儿童教育、服务行业
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 申金 -->
<section>
    <p><h2>申金</h2><br>
    <b>阴阳：</b>阳金<br>
    <b>藏干：</b>庚金（60%）、壬水（30%）、戊土（10%）<br>
    <b>人体对应：</b>大肠、呼吸系统<br>
    <br>
    <b>锋利之金：</b>象征变革与机智。代表：<br>
    <b>自然意象：</b>剑锋、矿石<br>
    <b>性格特质：</b>反应敏捷、善于变通、缺乏耐心<br>
    <b>现代适配：</b>IT技术、媒体传播、危机处理
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 酉金 -->
<section>
    <p><h2>酉金</h2><br>
    <b>阴阳：</b>阴金<br>
    <b>藏干：</b>辛金（100%）<br>
    <b>人体对应：</b>肺、皮肤<br>
    <br>
    <b>精致之金：</b>象征完美与秩序。代表：<br>
    <b>自然意象：</b>钟表、金属器皿<br>
    <b>性格特质：</b>追求极致、分析力强、挑剔苛刻<br>
    <b>现代适配：</b>精密制造、质量管理、法律审计
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 戌土 -->
<section>
    <p><h2>戌土</h2><br>
    <b>阴阳：</b>阳土<br>
    <b>藏干：</b>戊土（60%）、辛金（30%）、丁火（10%）<br>
    <b>人体对应：</b>胃、免疫系统<br>
    <br>
    <b>燥热之土：</b>象征忠诚与守护。代表：<br>
    <b>自然意象：</b>火山岩、烽火台<br>
    <b>性格特质：</b>重情重义、保护欲强、固执己见<br>
    <b>现代适配：</b>安保防卫、传统工艺、团队管理
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<!-- 亥水 -->
<section>
    <p><h2>亥水</h2><br>
    <b>阴阳：</b>阴水<br>
    <b>藏干：</b>壬水（70%）、甲木（30%）<br>
    <b>人体对应：</b>肾、生殖系统<br>
    <br>
    <b>奔流之水：</b>象征终结与新生。代表：<br>
    <b>自然意象：</b>江河入海、暴雨<br>
    <b>性格特质：</b>随遇而安、创造力强、缺乏规划<br>
    <b>现代适配：</b>艺术创作、社会福利、灵性行业
  </p>
  <button onclick="toggleSpeak(this)">📣 翻译并朗读</button>
</section>

<script>
let currentAudio = null;

async function toggleSpeak(button) {
  if (currentAudio) {
    currentAudio.pause();
    currentAudio = null;
    button.textContent = "📣 翻译并朗读";
    return;
  }

  const lang = document.getElementById("langSelect").value;
  const section = button.closest("section");
  const text = section.innerText.trim(); // 修复：包含表格文字

  try {
    const transRes = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=zh-CN&tl=${lang}&dt=t&q=${encodeURIComponent(text)}`);
    const transData = await transRes.json();
    const translated = transData[0].map(d => d[0]).join(" ");

    const ttsRes = await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyAjTuqwHfTVLdxDOHqfbI9UJcFoM1hBlX4", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        input: { text: translated },
        voice: { languageCode: lang, ssmlGender: "NEUTRAL" },
        audioConfig: { audioEncoding: "MP3" }
      })
    });

    const ttsData = await ttsRes.json();
    const audio = new Audio("data:audio/mp3;base64," + ttsData.audioContent);
    audio.play();
    button.textContent = "⏹️ 停止朗读";

    currentAudio = audio;
    audio.onended = () => {
      currentAudio = null;
      button.textContent = "📣 翻译并朗读";
    };
  } catch (err) {
    alert("❌ 无法播放语音：" + err.message);
  }
}
</script>
  
</body>
</html>

<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>塔罗牌占卜 · 5X</title>
  <style>
    :root {
      --bg: #0b0f14;
      --card: #11161dcc;
      --line: #1f2a36;
      --text: #e8edf3;
      --muted: #98a7b7;
      --gold: #e6c76e;
      --brand: #d4af37;
      --radius: 14px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: Inter, "Noto Sans SC", system-ui, sans-serif;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: #0b0f14cc;
      border-bottom: 1px solid var(--line);
    }
    .head-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand-badge {
      background: var(--brand);
      color: #111;
      padding: 6px 10px;
      border-radius: 8px;
      font-weight: 800;
    }
    .title { font-weight: 700; }
    .lang select {
      padding: 6px 8px;
      border-radius: 8px;
      background: #0f1420;
      color: #e8edf3;
      border: 1px solid #273245;
    }
    .app {
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px;
    }
    h1 {
      margin: 6px 0 14px;
      color: var(--brand);
      font-weight: 800;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 12px;
    }
    .controls input,
    .controls select,
    .controls button {
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #273245;
      background: #0f1420;
      color: var(--text);
    }
    .controls input {
      flex: 1;
      min-width: 220px;
    }
    .controls button {
      cursor: pointer;
      background: linear-gradient(180deg, #fff9e6, var(--gold));
      color: #121212;
      border-color: var(--gold);
      font-weight: 800;
    }
    .q {
      margin: 6px 0 12px;
      font-weight: 600;
    }
    .board {
      display: grid;
      gap: 14px;
      justify-content: center;
    }
    .card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      text-align: center;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 10px 10px 12px;
    }
    .imgwrap {
      width: 128px;
      height: 212px;
      border-radius: 10px;
      overflow: hidden;
      background: #000;
      display: grid;
      place-items: center;
      border: 1px solid #34455a;
    }
    .card-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    .cap {
      font-size: 13px;
      color: #cfe3ff;
    }
    .mean {
      font-size: 12px;
      color: #a7b5c8;
    }
    .spread-1 { grid-template-columns: 128px; }
    .spread-3 { grid-template-columns: repeat(3, 128px); }
    .spread-5 {
      grid-template-areas:
        "top top top"
        "left center right"
        ". bottom .";
      grid-template-columns: 128px 128px 128px;
    }
    .pos-top { grid-area: top; }
    .pos-left { grid-area: left; }
    .pos-center { grid-area: center; }
    .pos-right { grid-area: right; }
    .pos-bottom { grid-area: bottom; }
    .spread-10 {
      display: grid;
      grid-template-columns: repeat(4, 128px);
      grid-auto-rows: auto;
      gap: 14px;
    }
    .spread-10 .c1 { grid-column: 1; grid-row: 1; }
    .spread-10 .c2 { grid-column: 2; grid-row: 1; }
    .spread-10 .c3 { grid-column: 3; grid-row: 1; }
    .spread-10 .c4 { grid-column: 1; grid-row: 2; }
    .spread-10 .c5 { grid-column: 2; grid-row: 2; }
    .spread-10 .c6 { grid-column: 3; grid-row: 2; }
    .spread-10 .c7 { grid-column: 1; grid-row: 3; }
    .spread-10 .c8 { grid-column: 2; grid-row: 3; }
    .spread-10 .c9 { grid-column: 3; grid-row: 3; }
    .spread-10 .c10 { grid-column: 4; grid-row: 3; }
    @media (max-width: 560px) {
      .imgwrap {
        width: 100px;
        height: 166px;
      }
      .spread-1 { grid-template-columns: 100px; }
      .spread-3 { grid-template-columns: repeat(3, 100px); }
      .spread-5 { grid-template-columns: 100px 100px 100px; }
      .spread-10 {
        grid-template-columns: repeat(2, 1fr);
        grid-auto-flow: row;
      }
      .spread-10 .c1,
      .spread-10 .c2,
      .spread-10 .c3,
      .spread-10 .c4,
      .spread-10 .c5,
      .spread-10 .c6,
      .spread-10 .c7,
      .spread-10 .c8,
      .spread-10 .c9,
      .spread-10 .c10 {
        grid-column: auto;
        grid-row: auto;
      }
    }
    .panel {
      margin-top: 16px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
    }
    .panel h3 {
      margin: 0 0 8px;
      font-size: 1.05rem;
      color: #ffe084;
    }
    .muted { color: var(--muted); }
    #chatbot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--brand);
      color: #111;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      display: grid;
      place-items: center;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 0 12px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <header>
    <div class="head-inner">
      <div class="brand">
        <div class="brand-badge">5X</div>
        <div class="title">命理心怜空间 · Soul Sanctuary</div>
      </div>
      <div class="lang">
        <select id="langSel">
          <option value="zh">简体中文</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>
  <div class="app">
    <h1>塔罗牌占卜</h1>
    <div class="controls">
      <input id="question" placeholder="请输入你的问题（必填，决定解读方向）" />
      <select id="spread">
        <option value="1">单张</option>
        <option value="3">三张（过去 / 现在 / 未来）</option>
        <option value="5">十字排法（5张）</option>
        <option value="10">凯尔特十字（10张）</option>
      </select>
      <button id="go">抽牌</button>
    </div>
    <div id="qdisplay" class="q muted">（提示：输入问题会让解读更聚焦）</div>
    <div id="board" class="board"></div>
    <div id="reading" class="panel" style="display:none">
      <h3>
        解读与建议
        <button id="ttsBtn" style="margin-left:10px;background:#0f1420;color:#ffe084;border:1px solid #273245;padding:6px 10px;border-radius:8px;cursor:pointer">🔊 朗读</button>
      </h3>
      <div id="readingText"></div>
    </div>
    <div class="panel muted">
      说明：塔罗为指引工具，非医学/法律/金融建议，请以理性判断与自我意愿为先。
    </div>
  </div>
  <div id="chatbot" title="小助手对话">💬</div>
<script>
  // 此处省略 card parsing / drawing / tts 逻辑
  document.getElementById('chatbot').addEventListener('click', () => {
    alert('这是 ChatGPT 小助手占位符，可接入 iframe / API / chatbot');
  });
</script>
</body>
</html>

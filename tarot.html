<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>塔罗指引 · 命理供门</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0f14; --card:#11161dcc; --line:#1f2a36;
    --text:#e8edf3; --muted:#98a7b7; --brand:#d4af37; --accent:#58b9ff;
    --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.35); --blur:12px;
  }
  html,body{height:100%} html{font-size:16px}
  @media(min-width:768px){html{font-size:17px}} @media(min-width:1200px){html{font-size:18px}}
  body{
    margin:0; color:var(--text);
    background: radial-gradient(1200px 600px at 70% -10%, #16202b 10%, transparent 60%) no-repeat,
                linear-gradient(180deg,#0b0f14,#0b0f14);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", Arial, sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  body::before{
    content:""; position:fixed; inset:0; z-index:-2;
    background:url('assets/images/gate.jpg') center/cover no-repeat;
    filter:brightness(.45) saturate(.9) blur(2px);
  }
  .glow{
    position:fixed; inset:auto auto 10% -10%;
    width:45vw; height:45vw; max-width:680px; max-height:680px;
    background:radial-gradient(closest-side,#2a98ff33,transparent 70%);
    filter:blur(30px); z-index:-1; pointer-events:none
  }
  .container{width:100%; max-width:980px; padding:24px 16px 80px; margin:0 auto}
  header{
    position:sticky; top:0; z-index:10; backdrop-filter:saturate(130%) blur(12px);
    background:#0b0f14cc; border-bottom:1px solid #0f1622;
  }
  .head-inner{display:flex; align-items:center; justify-content:space-between; gap:14px; padding:16px}
  .brand{display:flex; align-items:center; gap:12px}
  .brand-badge{
    width:36px;height:36px;border-radius:10px;background:linear-gradient(145deg,#273243,#0e141c);
    display:grid;place-items:center;color:var(--brand);font-weight:800;box-shadow:var(--shadow)
  }
  .title{font-family:"Noto Serif SC","Noto Serif",serif;font-weight:700;letter-spacing:.02em;font-size:1.15rem}
  .subtitle{color:var(--muted);font-size:.9rem}

  .card{
    background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
    box-shadow:var(--shadow); backdrop-filter:blur(var(--blur)); padding:18px;
  }

  .section{margin-top:18px}
  .section h2{
    font-family:"Noto Serif SC","Noto Serif",serif;font-weight:600;font-size:1.15rem;margin:0 0 12px;
    display:flex;align-items:center;gap:10px
  }
  .section h2::before{
    content:""; width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 4px #58b9ff22
  }

  /* 控件区 */
  .controls{display:grid; gap:12px; grid-template-columns:1.1fr .9fr auto}
  @media (max-width:680px){ .controls{grid-template-columns:1fr} }
  input[type="text"], select, button{
    width:100%;box-sizing:border-box;border-radius:12px;border:1px solid #243244;
    background:#0e1520;color:var(--text);padding:14px 13px;font-size:1rem;outline:none;
  }
  input::placeholder{color:#6f8092}
  select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2398a7b7' stroke-width='2' fill='none'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:calc(100% - 12px) 50%}
  .btn{
    background:linear-gradient(180deg,#1d2a3a,#101723);border:1px solid #28364a;font-weight:700;letter-spacing:.02em;
    cursor:pointer;transition:transform .05s ease, box-shadow .2s ease, border .2s ease;border-radius:12px;padding:14px 16px;
  }
  .btn:hover{box-shadow:0 6px 18px rgba(88,185,255,.15),inset 0 1px 0 #2e3c50}
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.6;cursor:not-allowed}

  /* 结果区 */
  .grid{display:grid;gap:14px;grid-template-columns:repeat(3,1fr)}
  @media (max-width:900px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:560px){ .grid{grid-template-columns:1fr} }

  .tarot{
    display:flex;gap:12px;align-items:flex-start;background:#0d1420;border:1px solid #263448;border-radius:12px;padding:12px;
  }
  .tarot img{
    width:86px;height:140px;object-fit:cover;border-radius:10px;border:1px solid #233149;box-shadow:0 8px 18px rgba(0,0,0,.35);
  }
  .t-body{display:grid;gap:6px}
  .t-name{font-weight:700}
  .t-meta{display:flex;gap:8px;flex-wrap:wrap;color:#b7c6d8;font-size:.9rem}
  .t-key{display:inline-flex;align-items:center;gap:6px;padding:3px 8px;border:1px solid #2b3a4f;border-radius:999px;background:#0b111b}
  .t-tip{color:#cfd9e6;line-height:1.7}

  .muted{color:var(--muted)}
  footer{color:#6c7b8c;font-size:.85rem;text-align:center;padding:30px 0}
</style>
</head>
<body>
<div class="glow"></div>

<header>
  <div class="head-inner container">
    <div class="brand">
      <div class="brand-badge">5X</div>
      <div>
        <div class="title">塔罗指引 · 命理供门</div>
        <div class="subtitle">免费体验 · 深度解读见 VIP</div>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <!-- 控件 -->
  <section class="card section">
    <h2>本周塔罗指引</h2>
    <div class="controls">
      <input id="userName" type="text" placeholder="姓名（可选）" />
      <select id="spread">
        <option value="1">抽一张牌</option>
        <option value="3">抽三张牌（过去 / 现在 / 未来）</option>
      </select>
      <button class="btn" id="drawBtn">点击抽牌</button>
    </div>
  </section>

  <!-- 结果 -->
  <section class="card section">
    <h2>塔罗结果</h2>
    <div id="result" class="grid"></div>
    <p class="muted" id="hint" style="margin-top:8px">小提示：请保持专注与诚实，抽牌后读一遍内心感受～</p>
  </section>

  <section class="card section">
    <h2>提示</h2>
    <p class="muted">如需更完整的爱情、事业或流年塔罗报告，可在 VIP 解锁更多牌阵与择日/命名联动解读。</p>
  </section>

  <footer>© 5XLiving • Astro Sanctuary</footer>
</main>

<script>
/** 简易牌库（示例：主牌若干张） */
const DECK = [
  {
    name:"0 愚者（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_00_Fool.jpg",
    keywords:["自由","新开始","信任直觉"],
    tip:"拥抱未知的一步。轻装上阵，但要留心脚下的边界与基本保障。"
  },
  {
    name:"Ⅰ 魔术师（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg",
    keywords:["意志","资源","显化"],
    tip:"把注意力集中到一个具体目标上，工具够了，关键是行动与专注。"
  },
  {
    name:"Ⅱ 女祭司（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg",
    keywords:["直觉","静心","内在智慧"],
    tip:"放慢脚步，先倾听内在答案。少说两句，多观察与感受。"
  },
  {
    name:"Ⅲ 女皇（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg",
    keywords:["滋养","丰盛","创造力"],
    tip:"重视身心与关系的滋养，给你的创意一个温柔的土壤。"
  },
  {
    name:"Ⅳ 皇帝（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg",
    keywords:["结构","规则","担当"],
    tip:"建立秩序与边界。把计划写下来，按优先级推进。"
  },
  {
    name:"Ⅵ 恋人（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/3/3a/TheLovers.jpg",
    keywords:["选择","契合","亲密"],
    tip:"做出更符合价值观的选择；沟通真实感受会更靠近彼此。"
  },
  {
    name:"Ⅶ 战车（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/9/9b/TheChariot.jpg",
    keywords:["意志力","推进","胜利"],
    tip:"把松散的精力收束到一个方向，保持节奏，就能穿越干扰。"
  },
  {
    name:"Ⅹ 命运之轮（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg",
    keywords:["周期","转机","运势流动"],
    tip:"顺势而为，识别窗口期。调整位置，迎接新的循环。"
  },
  {
    name:"ⅩⅢ 死神（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg",
    keywords:["结束","转化","重生"],
    tip:"与不再适合的阶段告别，把空间留给新生。"
  },
  {
    name:"ⅩⅦ 星星（正位）",
    img:"https://upload.wikimedia.org/wikipedia/commons/d/db/The_Star.jpg",
    keywords:["希望","疗愈","指引"],
    tip:"保持信念与耐心，让自我修复的过程自然发生。"
  }
];

/** 抽牌逻辑 */
function draw(n){
  const pool = [...DECK];
  const res = [];
  for(let i=0;i<n;i++){
    if(!pool.length) break;
    const idx = Math.floor(Math.random()*pool.length);
    res.push(pool.splice(idx,1)[0]);
  }
  return res;
}

function render(cards){
  const $result = document.getElementById('result');
  $result.innerHTML = '';

  const spread = document.getElementById('spread').value;
  const posLabel = spread === '3' ? ['过去','现在','未来'] : ['指引'];

  cards.forEach((c, i)=>{
    const wrap = document.createElement('div');
    wrap.className = 'tarot';
    wrap.innerHTML = `
      <img src="${c.img}" alt="${c.name}" loading="lazy">
      <div class="t-body">
        <div class="t-meta">
          <span class="t-key">${posLabel[i] || '指引'}</span>
          ${c.keywords.map(k=>`<span class="t-key">${k}</span>`).join('')}
        </div>
        <div class="t-name">${c.name}</div>
        <div class="t-tip">${c.tip}</div>
      </div>
    `;
    $result.appendChild(wrap);
  });
}

document.getElementById('drawBtn').addEventListener('click', ()=>{
  const n = parseInt(document.getElementById('spread').value,10);
  const cards = draw(n);
  render(cards);
  const name = (document.getElementById('userName').value || '').trim();
  const hint = document.getElementById('hint');
  hint.textContent = name ? `给「${name}」的本周指引已生成。` : '指引已生成。请根据实际处境对照理解。';
});

// 首屏给一张示例
render(draw(1));
</script>
</body>
</html>

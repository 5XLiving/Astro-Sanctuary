<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>å¡”ç½—ç‰Œå åœ Â· 5X</title>
  <style>
    :root{
      --bg:#0b0f14; --card:#11161dcc; --line:#1f2a36; --text:#e8edf3; --muted:#98a7b7;
      --gold:#e6c76e; --brand:#d4af37; --accent:#58b9ff; --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,"Noto Sans SC",system-ui,sans-serif}
    header{position:sticky;top:0;z-index:10;backdrop-filter:blur(10px);background:#0b0f14cc;border-bottom:1px solid var(--line)}
    .head-inner{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px}
    .brand-badge{background:var(--brand);color:#111;padding:6px 10px;border-radius:8px;font-weight:800}
    .title{font-weight:700}
    .lang select{padding:6px 8px;border-radius:8px;background:#0f1420;color:#e8edf3;border:1px solid #273245}

    .app{max-width:1100px;margin:0 auto;padding:18px}
    h1{margin:6px 0 14px;color:var(--brand);font-weight:800}
    .controls{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}
    .controls input,.controls select,.controls button{
      padding:12px;border-radius:12px;border:1px solid #273245;background:#0f1420;color:var(--text)
    }
    .controls input{flex:1;min-width:220px}
    .controls button{cursor:pointer;background:linear-gradient(180deg,#fff9e6,var(--gold));color:#121212;border-color:var(--gold);font-weight:800}
    .q{margin:6px 0 12px;font-weight:600}

    .board{display:grid;gap:14px;justify-content:center}
    .card{display:flex;flex-direction:column;align-items:center;gap:6px;text-align:center;background:var(--card);
      border:1px solid var(--line);border-radius:14px;padding:10px 10px 12px}
    .imgwrap{width:128px;height:212px;border-radius:10px;overflow:hidden;background:#000;display:grid;place-items:center;border:1px solid #34455a}
    img.card-img{width:100%;height:100%;object-fit:contain;display:block;background:#000}
    .cap{font-size:13px;color:#cfe3ff}
    .mean{font-size:12px;color:#a7b5c8}

    .spread-1{grid-template-columns:128px}
    .spread-3{grid-template-columns:repeat(3,128px)}
    .spread-5{grid-template-areas:
      "top top top"
      "left center right"
      ". bottom .";
      grid-template-columns:128px 128px 128px}
    .pos-top{grid-area:top}.pos-left{grid-area:left}.pos-center{grid-area:center}
    .pos-right{grid-area:right}.pos-bottom{grid-area:bottom}

    /* 10 å¼ ï¼šæ¡Œé¢ 3-3-4 å¸ƒå±€ */
    .spread-10{
      display:grid;
      grid-template-columns:repeat(4,128px);
      grid-auto-rows:auto;
      gap:14px;
    }
    .spread-10 .c1{grid-column:1;grid-row:1}
    .spread-10 .c2{grid-column:2;grid-row:1}
    .spread-10 .c3{grid-column:3;grid-row:1}
    .spread-10 .c4{grid-column:1;grid-row:2}
    .spread-10 .c5{grid-column:2;grid-row:2}
    .spread-10 .c6{grid-column:3;grid-row:2}
    .spread-10 .c7{grid-column:1;grid-row:3}
    .spread-10 .c8{grid-column:2;grid-row:3}
    .spread-10 .c9{grid-column:3;grid-row:3}
    .spread-10 .c10{grid-column:4;grid-row:3}

    @media(max-width:560px){
      .imgwrap{width:100px;height:166px}
      .spread-1{grid-template-columns:100px}
      .spread-3{grid-template-columns:repeat(3,100px)}
      .spread-5{grid-template-columns:100px 100px 100px}
      /* æ‰‹æœºï¼š2 åˆ— x 5 è¡Œï¼Œä¿è¯å¯è§ */
      .spread-10{grid-template-columns:repeat(2,1fr);grid-auto-flow:row}
      .spread-10 .c1,.spread-10 .c2,.spread-10 .c3,.spread-10 .c4,.spread-10 .c5,
      .spread-10 .c6,.spread-10 .c7,.spread-10 .c8,.spread-10 .c9,.spread-10 .c10{
        grid-column:auto;grid-row:auto;
      }
    }

    .panel{margin-top:16px;background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
    .panel h3{margin:0 0 8px;font-size:1.05rem;color:#ffe084}
    .panel p,.panel li{color:#d8e3ef}
    .panel .muted{color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="head-inner">
      <div class="brand">
        <div class="brand-badge">5X</div>
        <div class="title">å‘½ç†å¿ƒæ€œç©ºé—´ Â· Soul Sanctuary</div>
      </div>
      <div class="lang">
        <select>
          <option>ç®€ä½“ä¸­æ–‡</option><option>ç¹é«”ä¸­æ–‡</option><option>English</option>
          <option>æ—¥æœ¬èª</option><option>à¹„à¸—à¸¢</option><option>Bahasa Melayu</option>
        </select>
      </div>
    </div><!-- å…³æ‰ .head-inner -->
  </header>

  <div class="app">
    <h1>å¡”ç½—ç‰Œå åœ</h1>

    <div class="controls">
      <input id="question" placeholder="è¯·è¾“å…¥ä½ çš„é—®é¢˜ï¼ˆå¿…å¡«ï¼Œå†³å®šè§£è¯»æ–¹å‘ï¼‰" />
      <select id="spread">
        <option value="1">å•å¼ </option>
        <option value="3">ä¸‰å¼ ï¼ˆè¿‡å» / ç°åœ¨ / æœªæ¥ï¼‰</option>
        <option value="5">åå­—æ’æ³•ï¼ˆ5å¼ ï¼‰</option>
        <option value="10">å‡¯å°”ç‰¹åå­—ï¼ˆ10å¼ ï¼‰</option>
      </select>
      <button id="go">æŠ½ç‰Œ</button>
    </div>

    <div id="qdisplay" class="q muted">ï¼ˆæç¤ºï¼šè¾“å…¥é—®é¢˜ä¼šè®©è§£è¯»æ›´èšç„¦ï¼‰</div>
    <div id="board" class="board"></div>

    <!-- è§£è¯»åŒºï¼ˆåªä¿ç•™ä¸€ä»½ï¼‰ -->
    <div id="reading" class="panel" style="display:none">
      <h3 style="display:flex;align-items:center;gap:10px">
        è§£è¯»ä¸å»ºè®®
        <button id="ttsBtn" class="btn" style="padding:6px 10px;border-radius:10px;border:1px solid #273245;background:#0f1420;color:#ffe084;cursor:pointer">
          ğŸ”Š æœ—è¯»
        </button>
      </h3>
      <div id="readingText"></div>
    </div>

    <div id="disclaimer" class="panel muted">
      è¯´æ˜ï¼šå¡”ç½—ä¸ºæŒ‡å¼•å·¥å…·ï¼ŒéåŒ»å­¦/æ³•å¾‹/é‡‘èå»ºè®®ï¼Œè¯·ä»¥ç†æ€§åˆ¤æ–­ä¸è‡ªæˆ‘æ„æ„¿ä¸ºå…ˆã€‚
    </div>
  </div>

<script>
/* ç»Ÿä¸€å›¾ç‰‡ä»£ç†ï¼Œå‡å°‘è·¨åŸŸ/åœ°åŸŸå¤±è´¥ */
function viaProxy(url, w=360){
  const noProto = url.replace(/^https?:\/\//,'');
  return `https://images.weserv.nl/?url=${encodeURIComponent(noProto)}&w=${w}`;
}

/* ç‰Œåº“ï¼ˆç•¥â€”â€”ä¸ä½ å‘æ¥çš„ä¸€è‡´ï¼‰ */
const WIKI_CARDS = { /* â€¦â€¦å…¨éƒ¨ 78 å¼ è§ä½ çš„ç‰ˆæœ¬â€¦â€¦ */ };
const DECK = Object.entries(WIKI_CARDS);

/* ç‰Œä¹‰ï¼ˆç®€æ˜ï¼‰ */
const MAJOR_MEAN = {0:"æ–°çš„å¼€å§‹/è‡ªç”±/æ½œèƒ½",1:"æ„å¿—/è¡ŒåŠ¨/æ˜¾åŒ–",2:"ç›´è§‰/ç¥ç§˜/å†…åœ¨æ™ºæ…§",3:"æ»‹å…»/ä¸°ç››/åˆ›é€ ",4:"ç§©åº/æƒå¨/ç»“æ„",5:"ä¼ ç»Ÿ/ä¿¡å¿µ/å¯¼å¸ˆ",6:"é€‰æ‹©/å…³ç³»/å¸å¼•",7:"å‰è¿›/æŒæ§/èƒœåˆ©",8:"å‹‡æ°”/æ¸©æŸ”çš„åŠ›é‡",9:"ç‹¬å¤„/å¯»æ‰¾ç­”æ¡ˆ",10:"å‘¨æœŸ/è½¬æŠ˜/å‘½è¿",11:"å…¬å¹³/å› æœ/å¹³è¡¡",12:"æš‚åœ/æ¢ä½/è‡£æœ",13:"ç»“æŸä¸é‡ç”Ÿ",14:"è°ƒå’Œ/èŠ‚åˆ¶/ä¸­é“",15:"è¯±æƒ‘/æŸç¼š/é˜´å½±",16:"çªå˜/ç“¦è§£/é†’æ‚Ÿ",17:"å¸Œæœ›/ç–—æ„ˆ/å¯å‘",18:"ä¸å®‰/æ½œæ„è¯†/è¿·é›¾",19:"å–œæ‚¦/æˆåŠŸ/æ¸…æ™°",20:"è§‰é†’/å¬å”¤/èµ¦å…",21:"å®Œæˆ/æ•´åˆ/ä¸–ç•Œ"};
const SUIT = {"åœ£æ¯":"æƒ…æ„Ÿ/å…³ç³»","æƒæ–":"è¡ŒåŠ¨/çƒ­æƒ…","å®å‰‘":"æ€ç»´/æ²Ÿé€š/æŒ‘æˆ˜","é’±å¸":"ç‰©è´¨/è´¢åŠ¡/äº‹ä¸š"};
const RANK = {"Ace":"å¼€å§‹/æœºé‡","2":"å¹³è¡¡/å¯¹ç«‹","3":"æˆé•¿/åä½œ","4":"ç¨³å®š/åœæ»","5":"å†²çª/å‹åŠ›","6":"ç»™äºˆ/å’Œè°","7":"è€ƒéªŒ/é€‰æ‹©","8":"è¡ŒåŠ¨/è¿›å±•","9":"æˆæœ/è´Ÿæ‹…","10":"é˜¶æ®µç»“æŸ/ä¸°æ”¶","ä¾ä»":"è®¯æ¯/èµ·æ­¥","éª‘å£«":"æ¨åŠ¨/è¿½æ±‚","çš‡å":"æˆç†Ÿ/å¸å¼•","å›½ç‹":"æŒæ§/è´Ÿè´£"};

function parseMeaning(name,reversed){
  if (/^\d{2}_/.test(name)){
    const n = +name.slice(0,2);
    const base = MAJOR_MEAN[n] || "";
    return (reversed?"é€†ä½ï¼š":"æ­£ä½ï¼š") + (reversed? base.replaceAll("/","/é˜»æ»Â·") : base);
  }
  const m = name.match(/^(åœ£æ¯|æƒæ–|å®å‰‘|é’±å¸)(Ace|[2-9]|10|ä¾ä»|éª‘å£«|çš‡å|å›½ç‹)/);
  if (m){
    const suit=m[1], rank=m[2];
    const base = `${SUIT[suit]} Â· ${RANK[rank]||""}`;
    return (reversed?"é€†ä½ï¼š":"æ­£ä½ï¼š") + (reversed? `${base}ï¼ˆé˜»æ»/åå‘ï¼‰` : base);
  }
  return reversed ? "é€†ä½" : "æ­£ä½";
}

/* è¾…åŠ©ä¸è§£è¯» */
function detectTopic(q){
  q=(q||"").toLowerCase();
  if (/[çˆ±æ‹æƒ…æ„Ÿå©š]/.test(q)) return "love";
  if (/[å·¥èŒäº‹ä¸šå‡èŒè·³æ§½é¢è¯•]/.test(q)) return "career";
  if (/[è´¢é’±æ”¶å…¥æŠ•èµ„å€Ÿè´·è‚¡ç¥¨æˆ¿]/.test(q)) return "wealth";
  if (/[å­¦ä¸šè€ƒè¯•å½•å–è®ºæ–‡]/.test(q)) return "study";
  return "general";
}
function suitStats(picks){
  const s={åœ£æ¯:0,æƒæ–:0,å®å‰‘:0,é’±å¸:0,major:0,rev:0};
  for(const {name,reversed} of picks){
    if (/^\d{2}_/.test(name)) s.major++;
    else{
      const m=name.match(/^(åœ£æ¯|æƒæ–|å®å‰‘|é’±å¸)/);
      if (m) s[m[1]]++;
    }
    if (reversed) s.rev++;
  }
  return s;
}
function topicAdvice(topic){
  switch(topic){
    case "love":   return "æ„Ÿæƒ…å±‚é¢è¦çœŸè¯šæ²Ÿé€šã€ç»™å½¼æ­¤ç©ºé—´ï¼›å…³æ³¨æ„Ÿå—ä¸èŠ‚å¥ï¼Œè€Œä¸æ˜¯ç»“è®ºã€‚";
    case "career": return "å…ˆæ˜ç¡®ç›®æ ‡ä¸è¾¹ç•Œï¼Œæ‹†è§£ä»»åŠ¡ç¨³æ­¥æ¨è¿›ï¼›é¿å…æƒ…ç»ªåŒ–å†³ç­–ï¼Œä¿ç•™ Plan Bã€‚";
    case "wealth": return "ä»¥ç¨³å¥ä¸ºå…ˆï¼Œæ§åˆ¶æ”¯å‡ºã€åˆ†æ•£é£é™©ï¼›é¿å…è¿½é«˜ï¼ŒåŸºäºæ•°æ®åˆ¶å®šèŠ‚å¥ã€‚";
    case "study":  return "åˆ¶å®šå¯æ‰§è¡Œçš„è®¡åˆ’ï¼Œå…ˆè¡¥è–„å¼±ç¯èŠ‚ï¼Œåˆ©ç”¨ç•ªèŒ„é’Ÿä¿æŒä¸“æ³¨ã€‚";
    default:       return "æŠŠç²¾åŠ›æ”¾åœ¨å¯æ§çš„ä¸‹ä¸€æ­¥ï¼Œå…è®¸ä¸ç¡®å®šï¼ŒæŒç»­å¾®è°ƒä¼šçœ‹åˆ°è¿›å±•ã€‚";
  }
}

function buildReading(q,picks,spread){
  const topic=detectTopic(q);
  const stats=suitStats(picks);
  const total=picks.length, majorRate=Math.round(stats.major/total*100), revRate=Math.round(stats.rev/total*100);
  const suitFocus = Object.entries({åœ£æ¯:stats.åœ£æ¯,æƒæ–:stats.æƒæ–,å®å‰‘:stats.å®å‰‘,é’±å¸:stats.é’±å¸}).sort((a,b)=>b[1]-a[1])[0];
  const suitHint = suitFocus && suitFocus[1]>0
    ? `æœ¬æ¬¡æŠ½ç‰Œä»¥ã€${suitFocus[0]}ã€‘ä¸ºä¸»ï¼ˆ${SUIT[suitFocus[0]]}ï¼‰ï¼Œè¯´æ˜è¿™ä»¶äº‹å½“å‰æ›´ä¾§é‡è¯¥ç»´åº¦ã€‚`
    : "æœ¬æ¬¡æŠ½ç‰Œä»¥å¤§é˜¿å°”å…‹é‚£ä¸ºä¸»ï¼Œæç¤ºè¿™æ˜¯é˜¶æ®µæ€§çš„å…³é”®è¯¾é¢˜ã€‚";
  const pos10=['å½“ä¸‹','é˜»ç¢','æ½œæ„è¯†','æ˜¾æ„è¯†','è¿‡å»','æœªæ¥','è‡ªæˆ‘','ç¯å¢ƒ','å¸Œæœ›/ææƒ§','ç»“æœ'];
  const pos5=['è¿‡å»','æ½œæ„è¯†','å½“ä¸‹','å¤–åœ¨å½±å“','æœªæ¥è¶‹åŠ¿'];
  const list=picks.map((c,i)=>{
    const label = spread===10?pos10[i]:(spread===5?pos5[i]:(spread===3?['è¿‡å»','ç°åœ¨','æœªæ¥'][i]:'å½“ä¸‹'));
    return `â€¢ ã€${label}ã€‘${c.name}ï¼ˆ${c.reversed?'é€†ä½':'æ­£ä½'}ï¼‰â€” ${parseMeaning(c.name,c.reversed).replace(/^æ­£ä½ï¼š|^é€†ä½ï¼š/,'')}`;
  }).join('<br>');
  return `
    <p><b>é—®é¢˜ï¼š</b>${q||'ï¼ˆæœªå¡«å†™ï¼‰'}</p>
    <p>${suitHint} å¤§é˜¿å°”å…‹é‚£å æ¯”çº¦ <b>${majorRate}%</b>ï¼›é€†ä½çº¦ <b>${revRate}%</b>ã€‚</p>
    <p><b>é€ä½ç½®è§£è¯»ï¼š</b><br>${list}</p>
    <p><b>ç»¼åˆå»ºè®®ï¼š</b>${topicAdvice(topic)}</p>
  `;
}

/* ä¸²è®²ï¼ˆå£æ’­ç¨¿ï¼‰ */
function buildStory(q,picks,spread){
  const topicMap={1:'å•å¼ æŒ‡å¼•',3:'ä¸‰å¼ ï¼ˆè¿‡å»/ç°åœ¨/æœªæ¥ï¼‰',5:'åå­—æ’æ³•',10:'å‡¯å°”ç‰¹åå­—'};
  const pos10=['å½“ä¸‹','é˜»ç¢','æ½œæ„è¯†','æ˜¾æ„è¯†','è¿‡å»','æœªæ¥','è‡ªæˆ‘','ç¯å¢ƒ','å¸Œæœ›/ææƒ§','ç»“æœ'];
  const pos5=['è¿‡å»','æ½œæ„è¯†','å½“ä¸‹','å¤–åœ¨å½±å“','æœªæ¥è¶‹åŠ¿'];
  const pos3=['è¿‡å»','ç°åœ¨','æœªæ¥'];
  const head=`ä½ é—®çš„æ˜¯ã€Œ${q||'ï¼ˆæœªå¡«å†™ï¼‰'}ã€ã€‚æœ¬æ¬¡ä½¿ç”¨${topicMap[spread]}ã€‚æˆ‘ä¼šæŒ‰ä½ç½®é€å¼ è¯´æ˜ç‰Œé¢å«ä¹‰ä¸å½¼æ­¤çš„å½±å“ã€‚`;
  const lines=picks.map((c,i)=>{
    const label = spread===10?pos10[i]:(spread===5?pos5[i]:(spread===3?pos3[i]:'å½“ä¸‹'));
    const dir=c.reversed?'é€†ä½':'æ­£ä½';
    const mean=parseMeaning(c.name,c.reversed).replace(/^æ­£ä½ï¼š|^é€†ä½ï¼š/,'');
    return `ã€${label}ã€‘æŠ½åˆ°ã€Œ${c.name}ã€${dir}ã€‚è¿™å¼ ç‰Œæç¤ºï¼š${mean}ã€‚`;
  });
  const suit = n => (n.match(/^(åœ£æ¯|æƒæ–|å®å‰‘|é’±å¸)/)||[])[1]||'å¤§é˜¿å°”å…‹é‚£';
  const hooks=[];
  for(let i=0;i<picks.length-1;i++){
    if (suit(picks[i].name)===suit(picks[i+1].name)) hooks.push(`ç¬¬${i+1}ä¸ç¬¬${i+2}å¼ åŒå±ã€Œ${suit(picks[i].name)}ã€ï¼Œä¸»é¢˜æœ‰è¿ç»­æ€§ã€‚`);
    if (picks[i].reversed!==picks[i+1].reversed)) hooks.push(`ç¬¬${i+1}ä¸ç¬¬${i+2}å¼ ä¸€æ­£ä¸€é€†ï¼Œæ„å‘³ç€æ­¤ç¯èŠ‚æ—¢æœ‰æœºä¼šä¹Ÿæœ‰é˜»æ»ã€‚`);
  }
  const tail=`ç»¼åˆæ¥çœ‹ï¼Œ${topicAdvice(detectTopic(q))}`;
  return [head,...lines,(hooks.length?('è¡¥å……ï¼š'+hooks.join(' ')):''),
          tail].filter(Boolean).join('\n');
}

/* æœ—è¯» */
let lastSpoken='', speaking=false;
function pickZhVoice(){ const vs=speechSynthesis.getVoices(); return vs.find(v=>/zh|cmn/i.test(v.lang))||vs[0]; }
function speak(text){
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(text);
  const v=pickZhVoice(); if (v) u.voice=v;
  u.rate=1.0;u.pitch=1.0;u.volume=1.0;
  u.onend=()=>{speaking=false;document.getElementById('ttsBtn').textContent='ğŸ”Š æœ—è¯»';};
  speaking=true; document.getElementById('ttsBtn').textContent='â¸ æš‚åœ';
  speechSynthesis.speak(u);
}
function toggleTTS(){
  if(!('speechSynthesis' in window)){ alert('å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³æœ—è¯»'); return; }
  if(speaking){ speechSynthesis.cancel(); speaking=false; document.getElementById('ttsBtn').textContent='ğŸ”Š æœ—è¯»'; }
  else{ speak(lastSpoken || 'æš‚æ— å¯æœ—è¯»å†…å®¹ã€‚'); }
}
document.getElementById('ttsBtn').addEventListener('click', toggleTTS);
speechSynthesis.onvoiceschanged = ()=>{}; // è§¦å‘åŠ è½½è¯­éŸ³

/* æŠ½ç‰Œä¸æ¸²æŸ“ */
function draw(){
  const n=+document.getElementById('spread').value;
  const q=document.getElementById('question').value.trim();
  document.getElementById('qdisplay').textContent = q ? `é—®é¢˜ï¼š${q}` : 'ï¼ˆæç¤ºï¼šè¾“å…¥é—®é¢˜ä¼šè®©è§£è¯»æ›´èšç„¦ï¼‰';

  const board=document.getElementById('board');
  board.innerHTML='';
  board.className='board ' + (n===1?'spread-1':n===3?'spread-3':n===5?'spread-5':'spread-10');

  const pool=[...DECK];
  const take=()=>pool.splice(Math.floor(Math.random()*pool.length),1)[0];
  const picks=[];

  function place(pair,label,extra=''){
    const [name,url]=pair;
    const reversed=Math.random()<0.5;
    picks.push({name,reversed});
    const wrap=document.createElement('div'); wrap.className='card '+extra;
    const imgw=document.createElement('div'); imgw.className='imgwrap';
    const img=new Image(); img.className='card-img'; img.loading='eager';
    img.src=viaProxy(url,400); img.onerror=()=>{img.onerror=null; img.src=url;};
    if(reversed) img.style.transform='rotate(180deg)';
    const cap=document.createElement('div'); cap.className='cap'; cap.textContent = label ? `${name} Â· ${label}` : name;
    const mean=document.createElement('div'); mean.className='mean'; mean.textContent=parseMeaning(name,reversed);
    imgw.appendChild(img); wrap.appendChild(imgw); wrap.appendChild(cap); wrap.appendChild(mean); board.appendChild(wrap);
  }

  if(n===1){ place(take(),'å½“ä¸‹'); }
  else if(n===3){ place(take(),'è¿‡å»'); place(take(),'ç°åœ¨'); place(take(),'æœªæ¥'); }
  else if(n===5){
    place(take(),'è¿‡å»','pos-top'); place(take(),'æ½œæ„è¯†','pos-left');
    place(take(),'å½“ä¸‹','pos-center'); place(take(),'å¤–åœ¨å½±å“','pos-right'); place(take(),'æœªæ¥è¶‹åŠ¿','pos-bottom');
  }else{
    const labels10=['å½“ä¸‹','é˜»ç¢','æ½œæ„è¯†','æ˜¾æ„è¯†','è¿‡å»','æœªæ¥','è‡ªæˆ‘','ç¯å¢ƒ','å¸Œæœ›/ææƒ§','ç»“æœ'];
    for(let i=0;i<10;i++) place(take(),labels10[i],`c${i+1}`);
  }

  // æ–‡æœ¬è§£è¯» + ä¸²è®² + æœ—è¯»ç¼“å­˜
  const summaryHTML = buildReading(q,picks,n);
  const story = buildStory(q,picks,n).split('\n').map(p=>`<p>${p}</p>`).join('');
  document.getElementById('readingText').innerHTML = summaryHTML + `<hr style="border:0;border-top:1px solid #273245;margin:12px 0">` + story;
  document.getElementById('reading').style.display='block';
  lastSpoken = buildStory(q,picks,n);
}

document.getElementById('go').addEventListener('click', draw);
</script>
</body>
</html>

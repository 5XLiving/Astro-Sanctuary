<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>塔罗指引</title>
  <style>
    body{background:#0b0f14;color:#e8edf3;font-family:sans-serif;padding:20px}
    h1{color:#d4af37}
    input,select,button{padding:8px 12px;margin:6px;border-radius:8px;border:1px solid #333;background:#111;color:#e8edf3}
    .card-img{width:120px;height:auto;border:1px solid #555;border-radius:8px;margin:6px;background:#000}
    .board{display:flex;flex-wrap:wrap;gap:10px;margin-top:16px}
    .cardbox{text-align:center}
    .cap{margin-top:4px;font-size:13px;color:#98a7b7}
  </style>
</head>
<body>
  <h1>塔罗牌占卜</h1>
  <input id="question" type="text" placeholder="请输入你的问题">
  <select id="spread">
    <option value="1">单张</option>
    <option value="3">三张（过去 / 现在 / 未来）</option>
    <option value="10">十张（凯尔特十字）</option>
    <option value="5">十字排法</option>
  </select>
  <button onclick="draw()">抽牌</button>

  <div id="qdisplay" style="margin-top:16px;font-weight:bold"></div>
  <div id="board" class="board"></div>

<script>
// Rider–Waite 78 张塔罗牌 Wikimedia 链接
const WIKI_CARDS = {
  "00_愚者 Fool": "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_00_Fool.jpg",
  "01_魔术师 Magician": "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg",
  "02_女祭司 High Priestess": "https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg",
  "03_女皇 Empress": "https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg",
  "04_皇帝 Emperor": "https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg",
  "05_教皇 Hierophant": "https://upload.wikimedia.org/wikipedia/commons/8/8d/RWS_Tarot_05_Hierophant.jpg",
  "06_恋人 Lovers": "https://upload.wikimedia.org/wikipedia/commons/3/3a/TheLovers.jpg",
  "07_战车 Chariot": "https://upload.wikimedia.org/wikipedia/commons/9/9b/TheChariot.jpg",
  "08_力量 Strength": "https://upload.wikimedia.org/wikipedia/commons/f/f5/Strength_tarot_card.jpg",
  "09_隐士 Hermit": "https://upload.wikimedia.org/wikipedia/commons/4/4d/TheHermit.jpg",
  "10_命运之轮 Wheel of Fortune": "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg",
  "11_正义 Justice": "https://upload.wikimedia.org/wikipedia/commons/e/e0/JusticeTarot.JPG",
  "12_倒吊人 Hanged Man": "https://upload.wikimedia.org/wikipedia/commons/2/2b/TheHangedMan.jpg",
  "13_死神 Death": "https://upload.wikimedia.org/wikipedia/commons/d/d7/Death_card.jpg",
  "14_节制 Temperance": "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg",
  "15_恶魔 Devil": "https://upload.wikimedia.org/wikipedia/commons/5/55/TheDevil.jpg",
  "16_高塔 Tower": "https://upload.wikimedia.org/wikipedia/commons/5/53/TheTower.jpg",
  "17_星星 Star": "https://upload.wikimedia.org/wikipedia/commons/d/db/TheStar.jpg",
  "18_月亮 Moon": "https://upload.wikimedia.org/wikipedia/commons/7/7f/TheMoonTarotCard.jpg",
  "19_太阳 Sun": "https://upload.wikimedia.org/wikipedia/commons/1/17/TheSunTarotCard.jpg",
  "20_审判 Judgement": "https://upload.wikimedia.org/wikipedia/commons/d/dd/JudgementTarot.jpg",
  "21_世界 World": "https://upload.wikimedia.org/wikipedia/commons/f/ff/TheWorldTarotCard.jpg",
  // 小阿尔克那 – 圣杯
  "圣杯Ace": "https://upload.wikimedia.org/wikipedia/commons/3/36/Cups01.jpg",
  "圣杯2": "https://upload.wikimedia.org/wikipedia/commons/f/f8/Cups02.jpg",
  "圣杯3": "https://upload.wikimedia.org/wikipedia/commons/7/7d/Cups03.jpg",
  "圣杯4": "https://upload.wikimedia.org/wikipedia/commons/3/35/Cups04.jpg",
  "圣杯5": "https://upload.wikimedia.org/wikipedia/commons/0/06/Cups05.jpg",
  "圣杯6": "https://upload.wikimedia.org/wikipedia/commons/1/17/Cups06.jpg",
  "圣杯7": "https://upload.wikimedia.org/wikipedia/commons/a/ab/Cups07.jpg",
  "圣杯8": "https://upload.wikimedia.org/wikipedia/commons/6/60/Cups08.jpg",
  "圣杯9": "https://upload.wikimedia.org/wikipedia/commons/2/24/Cups09.jpg",
  "圣杯10": "https://upload.wikimedia.org/wikipedia/commons/8/84/Cups10.jpg",
  "圣杯侍从": "https://upload.wikimedia.org/wikipedia/commons/6/6d/Cups11.jpg",
  "圣杯骑士": "https://upload.wikimedia.org/wikipedia/commons/f/f0/Cups12.jpg",
  "圣杯皇后": "https://upload.wikimedia.org/wikipedia/commons/6/62/Cups13.jpg",
  "圣杯国王": "https://upload.wikimedia.org/wikipedia/commons/0/04/Cups14.jpg",
  // 小阿尔克那 – 权杖
  "权杖Ace": "https://upload.wikimedia.org/wikipedia/commons/1/11/Wands01.jpg",
  "权杖2": "https://upload.wikimedia.org/wikipedia/commons/0/0f/Wands02.jpg",
  "权杖3": "https://upload.wikimedia.org/wikipedia/commons/f/ff/Wands03.jpg",
  "权杖4": "https://upload.wikimedia.org/wikipedia/commons/a/a4/Wands04.jpg",
  "权杖5": "https://upload.wikimedia.org/wikipedia/commons/9/9d/Wands05.jpg",
  "权杖6": "https://upload.wikimedia.org/wikipedia/commons/3/3b/Wands06.jpg",
  "权杖7": "https://upload.wikimedia.org/wikipedia/commons/e/e4/Wands07.jpg",
  "权杖8": "https://upload.wikimedia.org/wikipedia/commons/6/6b/Wands08.jpg",
  "权杖9": "https://upload.wikimedia.org/wikipedia/commons/0/0b/Wands09.jpg",
  "权杖10": "https://upload.wikimedia.org/wikipedia/commons/4/4d/Wands10.jpg",
  "权杖侍从": "https://upload.wikimedia.org/wikipedia/commons/0/0a/Wands11.jpg",
  "权杖骑士": "https://upload.wikimedia.org/wikipedia/commons/6/6b/Wands12.jpg",
  "权杖皇后": "https://upload.wikimedia.org/wikipedia/commons/1/1c/Wands13.jpg",
  "权杖国王": "https://upload.wikimedia.org/wikipedia/commons/0/0d/Wands14.jpg",
  // 小阿尔克那 – 宝剑
  "宝剑Ace": "https://upload.wikimedia.org/wikipedia/commons/1/1a/Swords01.jpg",
  "宝剑2": "https://upload.wikimedia.org/wikipedia/commons/9/9e/Swords02.jpg",
  "宝剑3": "https://upload.wikimedia.org/wikipedia/commons/0/02/Swords03.jpg",
  "宝剑4": "https://upload.wikimedia.org/wikipedia/commons/b/bf/Swords04.jpg",
  "宝剑5": "https://upload.wikimedia.org/wikipedia/commons/2/23/Swords05.jpg",
  "宝剑6": "https://upload.wikimedia.org/wikipedia/commons/2/29/Swords06.jpg",
  "宝剑7": "https://upload.wikimedia.org/wikipedia/commons/3/34/Swords07.jpg",
  "宝剑8": "https://upload.wikimedia.org/wikipedia/commons/b/b8/Swords08.jpg",
  "宝剑9": "https://upload.wikimedia.org/wikipedia/commons/2/2f/Swords09.jpg",
  "宝剑10": "https://upload.wikimedia.org/wikipedia/commons/d/d4/Swords10.jpg",
  "宝剑侍从": "https://upload.wikimedia.org/wikipedia/commons/4/4c/Swords11.jpg",
  "宝剑骑士": "https://upload.wikimedia.org/wikipedia/commons/4/4c/Swords12.jpg",
  "宝剑皇后": "https://upload.wikimedia.org/wikipedia/commons/d/d4/Swords13.jpg",
  "宝剑国王": "https://upload.wikimedia.org/wikipedia/commons/3/31/Swords14.jpg",
  // 小阿尔克那 – 钱币
  "钱币Ace": "https://upload.wikimedia.org/wikipedia/commons/f/fd/Pents01.jpg",
  "钱币2": "https://upload.wikimedia.org/wikipedia/commons/9/9f/Pents02.jpg",
  "钱币3": "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents03.jpg",
  "钱币4": "https://upload.wikimedia.org/wikipedia/commons/3/35/Pents04.jpg",
  "钱币5": "https://upload.wikimedia.org/wikipedia/commons/5/50/Pents05.jpg",
  "钱币6": "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents06.jpg",
  "钱币7": "https://upload.wikimedia.org/wikipedia/commons/f/f0/Pents07.jpg",
  "钱币8": "https://upload.wikimedia.org/wikipedia/commons/e/e7/Pents08.jpg",
  "钱币9": "https://upload.wikimedia.org/wikipedia/commons/6/6a/Pents09.jpg",
  "钱币10": "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents10.jpg",
  "钱币侍从": "https://upload.wikimedia.org/wikipedia/commons/7/78/Pents11.jpg",
  "钱币骑士": "https://upload.wikimedia.org/wikipedia/commons/2/2d/Pents12.jpg",
  "钱币皇后": "https://upload.wikimedia.org/wikipedia/commons/8/88/Pents13.jpg",
  "钱币国王": "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents14.jpg"
};

const DECK = Object.entries(WIKI_CARDS);

function draw(){
  const spread = parseInt(document.getElementById("spread").value);
  const question = document.getElementById("question").value;
  document.getElementById("qdisplay").textContent = question ? "问题：" + question : "";

  const board = document.getElementById("board");
  board.innerHTML = "";

  const pool = [...DECK];
  for(let i=0;i<spread;i++){
    const idx = Math.floor(Math.random()*pool.length);
    const [name,url] = pool.splice(idx,1)[0];

    const img = document.createElement("img");
    img.src = url;
    img.className = "card-img";

    const cap = document.createElement("div");
    cap.className = "cap";
    cap.textContent = name;

    const box = document.createElement("div");
    box.className = "cardbox";
    box.appendChild(img);
    box.appendChild(cap);

    board.appendChild(box);
  }
}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>å…«å­—å‘½ç† Â· 5XLiving</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0b0f14;
  --card: #11161dcc;
  --line: #1f2a36;
  --text: #e8edf3;
  --muted: #9aa3b2;
  --brand: #d4af37;
  --gold: #d4af37;
  --gold2: #f2d27a;
  --radius: 14px;
  --shadow: 0 8px 30px rgba(0,0,0,.35);
  --accent: #3a86ff;
  --success: #4cc9a7;
  --warning: #ff9e00;
  --danger: #ff5a5f;
}

html, body {
  height: 100%;
  margin: 0;
  color: var(--text);
  background: var(--bg);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.6;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  background: linear-gradient(135deg, #0b0f14 0%, #1a2433 100%);
  filter: brightness(.8);
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 24px 16px 80px;
}

header {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #0b0f14cc;
  border-bottom: 1px solid #0f1622;
  backdrop-filter: saturate(140%) blur(12px);
}

.head-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  padding: 16px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand-badge {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: linear-gradient(145deg, #273243, #0e141c);
  display: grid;
  place-items: center;
  color: var(--brand);
  font-weight: 700;
  box-shadow: var(--shadow);
}

.title {
  font-family: "Noto Serif SC", "Noto Serif", serif;
  font-weight: 600;
  letter-spacing: .02em;
  font-size: 1.4rem;
}

.subtitle {
  color: var(--muted);
  font-size: 0.9rem;
}

.lang {
  display: flex;
  align-items: center;
  gap: 8px;
}

.lang label {
  color: var(--muted);
  font-size: .9rem;
}

.lang select {
  appearance: none;
  border-radius: 10px;
  border: 1px solid #243244;
  background: #0e1520;
  color: var(--text);
  padding: 10px 34px 10px 12px;
  font-size: 0.9rem;
}

.card {
  background: var(--card);
  border: 1px solid #1f2a36;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px;
  margin-bottom: 20px;
}

.section {
  margin-top: 18px;
}

.row {
  display: grid;
  gap: 12px;
}

@media (min-width: 760px) {
  .row.cols-3 {
    grid-template-columns: 1fr 1fr 1fr;
  }
  .row.cols-2 {
    grid-template-columns: 1fr 1fr;
  }
}

input, select, textarea {
  width: 100%;
  box-sizing: border-box;
  border-radius: 12px;
  border: 1px solid #243244;
  background: #0e1520;
  color: var(--text);
  padding: 12px 12px;
  font-size: 15px;
  transition: all 0.2s ease;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(58, 134, 255, 0.2);
}

button, .btn {
  width: auto;
  display: inline-grid;
  place-items: center;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid #e6c76e;
  background: linear-gradient(180deg, #fff9e6, #e6c76e);
  color: #191919;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(212, 175, 55, 0.3);
}

.btn:disabled {
  opacity: .6;
  cursor: not-allowed;
  transform: none;
}

.h2 {
  font-size: 1.3rem;
  margin: 0 0 1rem;
  font-weight: 700;
  color: #ffe084;
  display: flex;
  align-items: center;
  gap: 10px;
}

.h2::before {
  content: "";
  display: block;
  width: 4px;
  height: 20px;
  background: var(--brand);
  border-radius: 2px;
}

.muted {
  color: #9aa3b2;
}

footer {
  color: #6c7b8c;
  font-size: .85rem;
  text-align: center;
  padding: 30px 0;
  margin-top: 30px;
}

/* ç»“æœæ ·å¼ */
.pillars {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin-top: 8px;
}

.pillar {
  background: #0f1624;
  border: 1px solid #253245;
  border-radius: 12px;
  padding: 14px 10px;
  text-align: center;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.pillar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--brand);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.pillar:hover {
  transform: translateY(-3px);
  border-color: var(--brand);
}

.pillar:hover::before {
  opacity: 1;
}

.pillar .tit {
  color: #9aa3b2;
  font-size: .85rem;
  margin-bottom: 6px;
}

.pillar .gz {
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: .05em;
  color: var(--gold2);
}

.bars {
  display: grid;
  gap: 8px;
  margin-top: 10px;
}

.bar {
  height: 10px;
  background: #0d1420;
  border: 1px solid #233146;
  border-radius: 999px;
  overflow: hidden;
  position: relative;
}

.bar i {
  display: block;
  height: 100%;
  background: linear-gradient(90deg, #ffe084, #f2d27a);
  transition: width 1s ease;
}

.bar-label {
  display: flex;
  justify-content: space-between;
  margin-top: 4px;
  font-size: 0.85rem;
}

.ul {
  margin: .4rem 0 0 .9rem;
  line-height: 1.8;
}

/* å¿ƒæ€œç®¡å®¶æ ·å¼ */
.assistant-container {
  margin-top: 30px;
  border-top: 1px solid #1f2a36;
  padding-top: 20px;
}

.assistant-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 15px;
}

.assistant-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, #d4af37, #f2d27a);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #191919;
  font-weight: 700;
  font-size: 1.2rem;
}

.assistant-title {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--gold2);
}

.assistant-subtitle {
  color: var(--muted);
  font-size: 0.9rem;
}

.assistant-message {
  background: rgba(15, 22, 36, 0.7);
  border: 1px solid #253245;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 15px;
  position: relative;
  animation: fadeIn 0.5s ease;
}

.assistant-message::before {
  content: "";
  position: absolute;
  top: -6px;
  left: 20px;
  width: 12px;
  height: 12px;
  background: inherit;
  border-top: 1px solid #253245;
  border-left: 1px solid #253245;
  transform: rotate(45deg);
}

.assistant-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 15px;
}

.action-btn {
  padding: 8px 16px;
  border-radius: 20px;
  background: rgba(212, 175, 55, 0.1);
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: var(--gold2);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 0.9rem;
}

.action-btn:hover {
  background: rgba(212, 175, 55, 0.2);
  transform: translateY(-2px);
}

.vip-promo {
  background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(76, 201, 167, 0.1));
  border: 1px solid rgba(212, 175, 55, 0.3);
  border-radius: 12px;
  padding: 16px;
  margin-top: 20px;
  position: relative;
  overflow: hidden;
}

.vip-promo::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), transparent);
  border-radius: 0 0 0 80px;
}

.vip-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.vip-badge {
  background: linear-gradient(135deg, #d4af37, #f2d27a);
  color: #191919;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 700;
}

.vip-title {
  font-weight: 600;
  color: var(--gold2);
}

.vip-features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 10px;
  margin: 15px 0;
}

.vip-feature {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
}

.vip-feature::before {
  content: "âœ“";
  color: var(--success);
  font-weight: 700;
}

.vip-cta {
  display: inline-block;
  padding: 10px 20px;
  background: linear-gradient(135deg, #d4af37, #f2d27a);
  color: #191919;
  border-radius: 8px;
  font-weight: 700;
  text-decoration: none;
  transition: all 0.3s ease;
  margin-top: 10px;
}

.vip-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: var(--brand);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.error-message {
  background: rgba(255, 90, 95, 0.1);
  border: 1px solid var(--danger);
  border-radius: 8px;
  padding: 12px;
  margin: 10px 0;
  color: #ffb4b4;
}

/* æ—¶é—´ä¸è¯¦é€‰é¡¹æ ·å¼ */
.time-unknown-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.time-unknown-checkbox {
  width: 16px;
  height: 16px;
}

.time-unknown-label {
  font-size: 0.9rem;
  color: var(--muted);
}

.time-input-container {
  transition: all 0.3s ease;
}

.time-input-container.disabled {
  opacity: 0.5;
  pointer-events: none;
}

/* æ–°å¢æ ·å¼ - ä¸°å¯Œå†…å®¹ */
.bazi-table {
  width: 100%;
  border-collapse: collapse;
  margin: 15px 0;
  background: #0f1624;
  border-radius: 8px;
  overflow: hidden;
}

.bazi-table th, .bazi-table td {
  padding: 12px 15px;
  border: 1px solid #253245;
  text-align: center;
}

.bazi-table th {
  background: rgba(212, 175, 55, 0.1);
  color: var(--gold2);
  font-weight: 600;
}

.analysis-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.analysis-card {
  background: rgba(15, 22, 36, 0.7);
  border: 1px solid #253245;
  border-radius: 12px;
  padding: 20px;
  transition: all 0.3s ease;
}

.analysis-card:hover {
  transform: translateY(-3px);
  border-color: var(--brand);
}

.analysis-card-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--gold2);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.fate-point {
  display: inline-block;
  padding: 4px 12px;
  background: rgba(76, 201, 167, 0.2);
  border: 1px solid var(--success);
  border-radius: 20px;
  font-size: 0.8rem;
  margin: 5px;
}

.warning-point {
  display: inline-block;
  padding: 4px 12px;
  background: rgba(255, 158, 0, 0.2);
  border: 1px solid var(--warning);
  border-radius: 20px;
  font-size: 0.8rem;
  margin: 5px;
}

.character-traits {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 10px 0;
}

.trait-tag {
  padding: 4px 10px;
  background: rgba(58, 134, 255, 0.1);
  border: 1px solid var(--accent);
  border-radius: 15px;
  font-size: 0.8rem;
}

.year-cycle {
  display: flex;
  justify-content: space-between;
  margin: 15px 0;
}

.year-item {
  text-align: center;
  flex: 1;
}

.year-bar {
  height: 6px;
  background: #253245;
  border-radius: 3px;
  margin: 5px 0;
  overflow: hidden;
}

.year-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--success), var(--brand));
}

.lucky-color {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: inline-block;
  margin: 0 5px;
  border: 2px solid rgba(255,255,255,0.3);
}

.info-banner {
  background: linear-gradient(135deg, rgba(16, 163, 127, 0.1), rgba(16, 163, 127, 0.2));
  border: 1px solid rgba(16, 163, 127, 0.3);
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
  text-align: center;
}
</style>
</head>

<body>
<header>
  <div class="head-inner container">
    <div class="brand">
      <div class="brand-badge">5X</div>
      <div>
        <div class="title">å‘½ç†ä¾›é—¨ Â· å…«å­—ç®€è¯„</div>
        <div class="subtitle">å…è´¹ç‰ˆ Â· å…¨é¢ä¸æ·±ï½œVIP è§£é”æµå¹´/å¤§è¿/æ‹©æ—¥/å‘½å</div>
      </div>
    </div>
    <div class="lang">
      <label for="langSelect">è¯­è¨€</label>
      <select id="langSelect" aria-label="Language">
        <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
        <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
        <option value="en">English</option>
        <option value="ms">Bahasa Melayu</option>
      </select>
    </div>
  </div>
</header>

<main class="container">
  <section class="card">
    <div class="h2">å…«å­—å‘½ç† Â· å¿«é€Ÿæ’ç›˜</div>
    <div class="row cols-3">
      <div>
        <label class="muted">å§“åï¼ˆå¯é€‰ï¼‰</label>
        <input id="name" placeholder="ä½ çš„ç§°å‘¼ï¼ˆç”¨äºä¸ªæ€§åŒ–ï¼‰">
      </div>
      <div>
        <label class="muted">æ€§åˆ«</label>
        <select id="gender">
          <option value="">ä¸é€éœ²</option>
          <option value="male">ç”·æ€§</option>
          <option value="female">å¥³æ€§</option>
          <option value="other">å…¶ä»–</option>
        </select>
      </div>
      <div>
        <label class="muted">å†æ³•</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <select id="calendar">
            <option value="gregorian">é˜³å† / Gregorian</option>
            <option value="lunar">å†œå† / Lunar</option>
          </select>
          <label id="leapWrap" style="display:none; align-items:center; gap:6px; margin-left:8px;">
            <input type="checkbox" id="isLeap"> é—°æœˆ
          </label>
        </div>
        <div id="calendarHint" class="muted" style="display:none; margin-top:6px;">
          é€‰æ‹©å†œå†æ—¶ï¼Œè¯·ç¡®è®¤æ˜¯å¦ä¸ºé—°æœˆï¼›è‹¥ä¸ºé—°æœˆè¯·å‹¾é€‰"é—°æœˆ"ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ¢ç®—ä¸ºé˜³å†åè®¡ç®—ã€‚
        </div>
      </div>
    </div>

    <div id="depsRow" class="muted" style="display:flex;align-items:center;gap:10px;margin-top:8px">
      <span>ä¾èµ–çŠ¶æ€ï¼š</span>
      <span id="depsStatus" style="color:#ffdf8a">æœªåŠ è½½</span>
      <button id="depsReload" class="btn" style="padding:6px 10px;border-radius:10px">é‡æ–°åŠ è½½</button>
    </div>

    <div class="row cols-3" style="margin-top:10px">
      <div>
        <label class="muted">å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="birthdate" value="">
      </div>
      <div>
        <label class="muted">å‡ºç”Ÿæ—¶é—´</label>
        <div class="time-input-container" id="timeInputContainer">
          <input type="time" id="birthtime" value="">
        </div>
        <div class="time-unknown-container">
          <input type="checkbox" id="timeUnknown" class="time-unknown-checkbox">
          <label for="timeUnknown" class="time-unknown-label">å‡ºç”Ÿæ—¶é—´ä¸è¯¦</label>
        </div>
      </div>
      <div style="display:flex;align-items:flex-end">
        <button class="btn" id="genBtn">
          <span id="genBtnText">ç”Ÿæˆå…«å­—</span>
          <span id="genBtnLoading" class="loading" style="display:none"></span>
        </button>
      </div>
    </div>

    <div class="muted" style="margin-top:6px">æç¤ºï¼šä¸´æ—¶é»˜è®¤ä¸œå…«åŒºï¼ˆUTC+8ï¼‰ã€‚åç»­å°†æ”¯æŒæŒ‰å‡ºç”Ÿåœ°æ¢ç®—ã€‚</div>
    <div id="error" class="error-message" style="display:none"></div>
  </section>

  <section id="result" style="display:none;">
    <!-- å…«å­—å‘½ç›˜ -->
    <div class="card section">
      <div class="h2">æ‚¨çš„ç”Ÿè¾°å…«å­—å‘½ç›˜</div>
      <div class="pillars" id="bazi-pillars"></div>
      <div class="muted" id="bazi-date"></div>
      
      <table class="bazi-table">
        <thead>
          <tr>
            <th></th>
            <th>å¹´æŸ±</th>
            <th>æœˆæŸ±</th>
            <th>æ—¥æŸ±</th>
            <th>æ—¶æŸ±</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>å¤©å¹²</td>
            <td id="year-stem-ten">-</td>
            <td id="month-stem-ten">-</td>
            <td id="day-stem-ten">-</td>
            <td id="hour-stem-ten">-</td>
          </tr>
          <tr>
            <td>åœ°æ”¯</td>
            <td id="year-branch-ten">-</td>
            <td id="month-branch-ten">-</td>
            <td id="day-branch-ten">-</td>
            <td id="hour-branch-ten">-</td>
          </tr>
          <tr>
            <td>äº”è¡Œ</td>
            <td id="year-element">-</td>
            <td id="month-element">-</td>
            <td id="day-element">-</td>
            <td id="hour-element">-</td>
          </tr>
          <tr>
            <td>çº³éŸ³</td>
            <td id="year-nayin">-</td>
            <td id="month-nayin">-</td>
            <td id="day-nayin">-</td>
            <td id="hour-nayin">-</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- äº”è¡Œåˆ†æ -->
    <div class="card section">
      <div class="h2">äº”è¡Œèƒ½é‡åˆ†æ</div>
      <div class="bars">
        <div class="bar"><i id="bar-wood"></i></div>
        <div class="bar-label"><span>æœ¨</span><span id="pct-wood">0%</span></div>
        <div class="bar"><i id="bar-fire"></i></div>
        <div class="bar-label"><span>ç«</span><span id="pct-fire">0%</span></div>
        <div class="bar"><i id="bar-earth"></i></div>
        <div class="bar-label"><span>åœŸ</span><span id="pct-earth">0%</span></div>
        <div class="bar"><i id="bar-metal"></i></div>
        <div class="bar-label"><span>é‡‘</span><span id="pct-metal">0%</span></div>
        <div class="bar"><i id="bar-water"></i></div>
        <div class="bar-label"><span>æ°´</span><span id="pct-water">0%</span></div>
      </div>
      <div id="bazi-elements-balance" class="muted" style="margin-top:8px"></div>
      <div id="element-advice" style="margin-top:10px"></div>
    </div>

    <!-- è¯¦ç»†åˆ†æ -->
    <div class="card section">
      <div class="h2">å‘½ç†è¯¦ç»†åˆ†æ</div>
      
      <div class="analysis-grid">
        <!-- æ—¥æŸ±å‘½ç† -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸ“… æ—¥æŸ±å‘½ç†</div>
          <div id="day-pillar-analysis"></div>
        </div>

        <!-- å¹´å‘½ç”Ÿè‚– -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸ å¹´å‘½ç”Ÿè‚–</div>
          <div id="zodiac-analysis"></div>
        </div>

        <!-- æ€§æ ¼ç‰¹è´¨ -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸ’« æ€§æ ¼ç‰¹è´¨</div>
          <div class="character-traits" id="personality-traits"></div>
          <div id="personality-detail"></div>
        </div>

        <!-- äº‹ä¸šè´¢è¿ -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸ’¼ äº‹ä¸šè´¢è¿</div>
          <div id="career-analysis"></div>
        </div>

        <!-- äººé™…å…³ç³» -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸ¤ äººé™…å…³ç³»</div>
          <div id="relationship-analysis"></div>
        </div>

        <!-- å¥åº·æé†’ -->
        <div class="analysis-card">
          <div class="analysis-card-title">ğŸŒ± å¥åº·æé†’</div>
          <div id="health-analysis"></div>
        </div>
      </div>
    </div>

    <!-- ä¸‰å‘½é€šä¼š -->
    <div class="card section">
      <div class="h2">ğŸ“š ä¸‰å‘½é€šä¼šç²¾è§£</div>
      <div id="sanming-tonghui"></div>
    </div>

    <!-- æµå¹´è¿åŠ¿ -->
    <div class="card section">
      <div class="h2">ğŸ“ˆ è¿‘æœŸè¿åŠ¿æŒ‡å¼•</div>
      <div class="year-cycle">
        <div class="year-item">
          <div>2024</div>
          <div class="year-bar"><div class="year-fill" style="width: 70%"></div></div>
          <div class="muted">å¹³ç¨³</div>
        </div>
        <div class="year-item">
          <div>2025</div>
          <div class="year-bar"><div class="year-fill" style="width: 85%"></div></div>
          <div class="muted">ä¸Šå‡</div>
        </div>
        <div class="year-item">
          <div>2026</div>
          <div class="year-bar"><div class="year-fill" style="width: 60%"></div></div>
          <div class="muted">è°ƒæ•´</div>
        </div>
      </div>
      <div id="yearly-forecast" style="margin-top:15px"></div>
    </div>

    <!-- å¿ƒæ€œç®¡å®¶ -->
    <div class="assistant-container">
      <div class="assistant-header">
        <div class="assistant-avatar">å¿ƒ</div>
        <div>
          <div class="assistant-title">å¿ƒæ€œç®¡å®¶ Â· AI å‘½ç†åŠ©æ‰‹</div>
          <div class="assistant-subtitle">åŸºäºæ‚¨çš„å…«å­—åˆ†æï¼Œä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–å»ºè®®</div>
        </div>
      </div>
      
      <div class="assistant-message" id="assistant-initial">
        <p>æ‚¨å¥½ï¼æˆ‘æ˜¯å¿ƒæ€œç®¡å®¶ï¼ŒåŸºäºæ‚¨çš„å…«å­—åˆ†æï¼Œæˆ‘æ³¨æ„åˆ°ï¼š</p>
        <div id="assistant-analysis"></div>
        <p>ä»¥ä¸‹æ˜¯æ ¹æ®æ‚¨çš„å‘½ç†ç‰¹ç‚¹æä¾›çš„å»ºè®®ï¼š</p>
        <div id="assistant-advice"></div>
        
        <div class="assistant-actions">
          <div class="action-btn" data-action="career">äº‹ä¸šå»ºè®®</div>
          <div class="action-btn" data-action="wealth">è´¢è¿åˆ†æ</div>
          <div class="action-btn" data-action="relationship">æ„Ÿæƒ…æŒ‡å¯¼</div>
          <div class="action-btn" data-action="health">å¥åº·æé†’</div>
          <div class="action-btn" data-action="lucky">å¹¸è¿æ–¹å‘</div>
        </div>
      </div>

      <!-- VIP æœåŠ¡æ¨è -->
      <div class="vip-promo">
        <div class="vip-header">
          <div class="vip-badge">VIP</div>
          <div class="vip-title">è§£é”æ·±åº¦å‘½ç†åˆ†æ</div>
        </div>
        <p>å…è´¹ç‰ˆä»…æä¾›åŸºç¡€åˆ†æï¼ŒVIPæœåŠ¡åŒ…å«ï¼š</p>
        <div class="vip-features">
          <div class="vip-feature">è¯¦ç»†æµå¹´è¿åŠ¿åˆ†æ</div>
          <div class="vip-feature">åå¹´å¤§è¿ç²¾å‡†é¢„æµ‹</div>
          <div class="vip-feature">ä¸ªæ€§åŒ–æ‹©æ—¥æœåŠ¡</div>
          <div class="vip-feature">ä¸“ä¸šå‘½åå»ºè®®</div>
          <div class="vip-feature">å…¨å¹´è¿åŠ¿æœˆå†</div>
          <div class="vip-feature">ä¸€å¯¹ä¸€å‘½ç†å’¨è¯¢</div>
        </div>
        <p>ç«‹å³å‡çº§VIPï¼Œè·å–ä¸“å±å‘½ç†æŒ‡å¯¼ï¼</p>
        <a href="#" class="vip-cta">äº†è§£VIPæœåŠ¡è¯¦æƒ…</a>
      </div>
    </div>
  </section>
</main>

<footer>Â© 5XLiving â€¢ Astro Sanctuary</footer>

<script>
// å®Œæ•´çš„å…«å­—åˆ†ææ•°æ® - ä»¥1978å¹´2æœˆ21æ—¥12:45ä¸ºä¾‹
const baziAnalysisData = {
  pillars: {
    year: { stem: 'æˆŠ', branch: 'åˆ', stemTen: 'åè´¢', branchTen: 'ä¼¤å®˜', element: 'åœŸç«', nayin: 'å¤©ä¸Šç«' },
    month: { stem: 'ç”²', branch: 'å¯…', stemTen: 'æ¯”è‚©', branchTen: 'æ¯”è‚©', element: 'æœ¨æœ¨', nayin: 'å¤§æºªæ°´' },
    day: { stem: 'ç”²', branch: 'å¯…', stemTen: 'æ—¥ä¸»', branchTen: 'æ¯”è‚©', element: 'æœ¨æœ¨', nayin: 'å¤§æºªæ°´' },
    hour: { stem: 'åºš', branch: 'åˆ', stemTen: 'ä¸ƒæ€', branchTen: 'ä¼¤å®˜', element: 'é‡‘ç«', nayin: 'è·¯æ—åœŸ' }
  },
  
  elements: {
    wood: 4, fire: 2, earth: 1, metal: 1, water: 0,
    analysis: "äº”è¡Œä¸ªæ•°ï¼š1ä¸ªé‡‘ï¼Œ4ä¸ªæœ¨ï¼Œ0ä¸ªæ°´ï¼Œ2ä¸ªç«ï¼Œ1ä¸ªåœŸã€‚å¸®æ‰¶æ—¥ä¸»çš„äº”è¡Œï¼šæ°´æœ¨ï¼Œå…‹æ³„è€—æ—¥ä¸»çš„äº”è¡Œï¼šç«åœŸé‡‘ã€‚æ‚¨å…«å­—ä¸­çš„äº”è¡Œæœ¨åæ—ºï¼Œæ ¹æ®å…«å­—ä¸­å’Œçš„åŸåˆ™ï¼Œäº”è¡Œåæ—ºè€…ï¼Œäº¦åˆ¶ä¹‹æ³„ä¹‹ã€‚äº”è¡Œæ˜¯å¦æ‰€ç¼ºï¼šæ‚¨å…«å­—ä¸­çš„äº”è¡Œç¼ºæ°´ã€‚"
  },
  
  dayPillar: {
    analysis: `[ç”²å¯…][ä¸Šç­‰]åç¦„é€šæ ¹èº«æ—ºï¼Œåä¸‹æœ‰ä¼¤å®˜ç”Ÿè´¢ï¼Œä¸»å¯Œè´µï¼Œä½†æ¯”è‚©å¤ºè´¢ï¼Œæ–‡æ‰å·®ä¸€äº›ã€‚å¥³å‘½ç”²å¯…ï¼Œèº«å¼ºå…‹å¤«ã€‚
ä¸ºäººè¯šå®ï¼Œåˆ©å®˜è§è´µã€‚å®¶é“å…´å®ï¼Œçˆ¶æ¯æœ‰åˆ©ï¼Œé‡æ‹œåŒäº²ã€‚ç”·äººæ€•å¦»ï¼Œå‘½ç¡¬ä¸‰åˆ†ã€‚å¥³äººç®¡å¤«ï¼Œå­æ¯é•¿ã€‚`
  },
  
  zodiac: {
    analysis: `æ‚¨çš„ç”Ÿè‚–ä¸ºé©¬ï¼š
â‘ ç²¾åŠ›æ—ºç››ï¼Œåˆšæ¯…æœæ–­ã€‚
â‘¡å–„æ¶åˆ†æ˜ï¼Œè€¿ç›´çƒ­æƒ…ã€‚
â‘¢èƒ½è¨€å–„è¾©ï¼Œä¸æ€•å›°éš¾ï¼Œå‹‡å¾€ç›´å‰ã€‚
å¼±ç‚¹ï¼šæ¬ ç¼ºå†·é™æœ‰æ—¶æ€¥èºï¼Œä¸ªæ€§çº¦ä¸ºå€”å¼ºã€‚`
  },
  
  personality: {
    traits: ['ç§¯æå¼€æ‹“', 'ç²¾åŠ›æ—ºç››', 'é‡æ„Ÿæƒ…', 'åˆšç›´è±ªè¿ˆ', 'å‹¤å‹‰éšå’Œ'],
    detail: `æ€§æ ¼å¼€æœ—ï¼Œæ´»æ³¼ï¼Œæœ‰ç§¯æçš„äººç”Ÿè§‚ï¼Œå–œæ¬¢å˜åŒ–ï¼Œå¸Œæœ›ä»ä¸­å¾—åˆ°å¿«ä¹ã€‚äººç¼˜å¥½ï¼Œå¹¿å—æ¬¢è¿ã€‚ä¸ºäººé¢‡åæ¿€ï¼Œä¸é¡¾ç¤¾ä¼šçš„æƒ¯ä¾‹ã€‚æœ‰æ—¶å€™ä¼šæƒ…ç»ªä½è½ï¼Œä½†å¾ˆå¿«ä¼šæŒ¯ä½œèµ·æ¥ã€‚`
  },
  
  career: {
    analysis: `â— ä¸ºäººåˆšç›´ï¼Œä¸é¡ºäººæƒ…ï¼Œè´¢è°·å¦‚æ„ï¼Œå…­äº²ç–è¿œï¼Œè‡ªç«‹æƒè¡¡ï¼Œåˆ™æ™šæ™¯èƒœå‰å…´ï¼Œåˆ›å®¶ä¹‹å‘½ã€‚
æ„å¿—åšå¼ºã€æœ‰å¨ä»ªã€ç²¾åŠ›æ—ºç››ã€ç›´è§‰åŠ›å’Œè‰¯å¥½çš„ç”Ÿæ„çœ¼ï¼Œä¼šå¾ˆå¿«åœ¨å•†åœºä¸­è¾‰ç…Œè…¾è¾¾ï¼Œæœ‰å¥¢ä¾ˆå€¾å‘ï¼Œè¦ç¨åŠ æ§åˆ¶æ‰å¥½ã€‚
é€‚åˆçš„èŒä¸šï¼šåŒ»å¸ˆã€æŠ¤å£«ã€æ”¿æ²»ã€æ˜æ˜Ÿã€æŠ€è‰ºã€æ–™ç†åº—ã€æ²¹ä¸šã€‚å¿Œé‡‘ç±»ã€‚`
  },
  
  relationship: {
    analysis: `â— äººé™…å…³ç³»ï¼šå¯ä»¥å—åˆ°å¸ˆé•¿ã€ä¸Šå¸çš„å¸®åŠ©ã€‚
â— å§»ç¼˜ç®€æµ‹ï¼šå©šå‰æ„Ÿæƒ…è¿å‘å±•ä¸é¡ºï¼Œå©šå§»å¤šæ³¢æŠ˜æˆ–å¦»å­ä½“å¼±ã€‚
â— ä¸ºäººå…‰æ˜ç£Šè½ï¼Œå¯¹æœ‹å‹çƒ­å¿ƒï¼Œä½†å®¹æ˜“å—å…„å¼Ÿæˆ–æœ‹å‹çš„æ‹–ç´¯è€Œç ´è´¢ã€‚`
  },
  
  health: {
    analysis: `â— å°æ—¶èº«ä½“ä¸å¥½ï¼Œæˆ–æœ‰ä¼¤ç¾è€Œå¯¼è‡´èº«ä¸Šæ˜æ˜¾éƒ¨ä½ç•™ä¸‹ç–¤ç—•ã€‚
â— ä¸å„¿å­çš„ç¼˜ä»½è¾ƒè–„ï¼Œæˆ–æœ‰å­ä¸éµçˆ¶å‘½ï¼Œæ™šè¿éš¾å¾—å­å¥³å›´ç»•è†ä¸‹ã€‚
â— å­å¥³éš¾å…»ï¼Œæˆ–æœ‰æ˜“æ‚£ä¼¤ç—…ï¼Œå¤´èƒå¤šæ˜“ç”Ÿç”·ã€‚å¥³å‘½é˜²å­å®«è‚Œç˜¤ã€å®«é¢ˆç‚ç—‡ç­‰ã€‚`
  },
  
  sanmingTonghui: {
    analysis: `ç”²æ—¥åºšåˆæ—¶ç”Ÿï¼Œç”²æœ¨å¯¹åˆæ¥è¯´æ­£å¤„æ­»åœ°ï¼Œè€Œç”²æœ¨ä»¥åºšé‡‘ä¸ºåå®˜ï¼Œåˆæ­£å¥½ä¸ºåˆç«å…‹åˆ¶ï¼Œåå®˜æœ‰åˆ¶å«é¬¼ï¼Œå› æ­¤ç§°æ­»åœ°é€¢é¬¼ï¼Œæ­¤å‘½å¦‚æœä¸å¾—æœˆä»¤ï¼Œæ²¡æœ‰è¡¥æ•‘ï¼Œç–¾ç—…ç¼ èº«ï¼ŒçŸ­å‘½ã€‚å¦‚æœç”Ÿäºä¸™å¯…æœˆï¼Œè‡ªèº«å¥æ—ºï¼Œè¦æ˜¯åºšé‡‘è¢«åˆ¶æœå°±å‰åˆ©ã€‚
ç”²å¯…æ—¥åºšåˆæ—¶ç”Ÿï¼Œå¦‚æœç”Ÿäºæ˜¥å­£ï¼Œå¯¿å‘½è¾ƒé•¿ï¼›ç”Ÿäºå¤å­£ï¼Œä¼¤å®˜ä¼¤å°½ï¼Œè´¢å¯Œè´¥æ•£ã€‚ç”Ÿäºç”³æœˆåˆ™æœ‰æƒåŠ¿ï¼Œè€Œç”Ÿäºé…‰æœˆåˆ™æ­£å¥½ç›¸åã€‚`
  }
};

// é¡µé¢åŠŸèƒ½å®ç°
document.addEventListener('DOMContentLoaded', function() {
  const genBtn = document.getElementById('genBtn');
  
  genBtn.addEventListener('click', function() {
    const birthdate = document.getElementById('birthdate').value;
    if (!birthdate) {
      showError('è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ');
      return;
    }

    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    genBtn.disabled = true;
    document.getElementById('genBtnText').style.display = 'none';
    document.getElementById('genBtnLoading').style.display = 'inline-block';

    setTimeout(() => {
      try {
        displayFullAnalysis(baziAnalysisData, birthdate);
        document.getElementById('result').style.display = 'block';
      } catch (error) {
        showError('åˆ†æå¤±è´¥ï¼š' + error.message);
      } finally {
        genBtn.disabled = false;
        document.getElementById('genBtnText').style.display = 'inline-block';
        document.getElementById('genBtnLoading').style.display = 'none';
      }
    }, 1000);
  });
});

// æ˜¾ç¤ºå®Œæ•´åˆ†æ
function displayFullAnalysis(data, birthdate) {
  // æ˜¾ç¤ºå››æŸ±
  displayPillars(data.pillars);
  
  // æ˜¾ç¤ºè¯¦ç»†è¡¨æ ¼
  displayBaziTable(data.pillars);
  
  // æ˜¾ç¤ºäº”è¡Œåˆ†æ
  displayElementAnalysis(data.elements);
  
  // æ˜¾ç¤ºå„é¡¹åˆ†æ
  document.getElementById('day-pillar-analysis').innerHTML = data.dayPillar.analysis;
  document.getElementById('zodiac-analysis').innerHTML = data.zodiac.analysis;
  
  // æ€§æ ¼ç‰¹è´¨
  const traitsContainer = document.getElementById('personality-traits');
  traitsContainer.innerHTML = '';
  data.personality.traits.forEach(trait => {
    const span = document.createElement('span');
    span.className = 'trait-tag';
    span.textContent = trait;
    traitsContainer.appendChild(span);
  });
  document.getElementById('personality-detail').innerHTML = data.personality.detail;
  
  // å…¶ä»–åˆ†æ
  document.getElementById('career-analysis').innerHTML = data.career.analysis;
  document.getElementById('relationship-analysis').innerHTML = data.relationship.analysis;
  document.getElementById('health-analysis').innerHTML = data.health.analysis;
  document.getElementById('sanming-tonghui').innerHTML = data.sanmingTonghui.analysis;
  
  // æ—¥æœŸæ˜¾ç¤º
  document.getElementById('bazi-date').textContent = 
    `ç”¨äºè®¡ç®—ï¼ˆUTC+8ï¼Œé˜³å†ï¼‰ï¼š${birthdate} ${document.getElementById('birthtime').value}`;
}

// æ˜¾ç¤ºå››æŸ±
function displayPillars(pillars) {
  const container = document.getElementById('bazi-pillars');
  container.innerHTML = '';
  
  [['å¹´æŸ±', pillars.year], ['æœˆæŸ±', pillars.month], 
   ['æ—¥æŸ±', pillars.day], ['æ—¶æŸ±', pillars.hour]].forEach(([title, pillar]) => {
    const div = document.createElement('div');
    div.className = 'pillar';
    div.innerHTML = `
      <div class="tit">${title}</div>
      <div class="gz">${pillar.stem}${pillar.branch}</div>
    `;
    container.appendChild(div);
  });
}

// æ˜¾ç¤ºè¯¦ç»†è¡¨æ ¼
function displayBaziTable(pillars) {
  document.getElementById('year-stem-ten').textContent = pillars.year.stemTen;
  document.getElementById('month-stem-ten').textContent = pillars.month.stemTen;
  document.getElementById('day-stem-ten').textContent = pillars.day.stemTen;
  document.getElementById('hour-stem-ten').textContent = pillars.hour.stemTen;
  
  document.getElementById('year-branch-ten').textContent = pillars.year.branchTen;
  document.getElementById('month-branch-ten').textContent = pillars.month.branchTen;
  document.getElementById('day-branch-ten').textContent = pillars.day.branchTen;
  document.getElementById('hour-branch-ten').textContent = pillars.hour.branchTen;
  
  document.getElementById('year-element').textContent = pillars.year.element;
  document.getElementById('month-element').textContent = pillars.month.element;
  document.getElementById('day-element').textContent = pillars.day.element;
  document.getElementById('hour-element').textContent = pillars.hour.element;
  
  document.getElementById('year-nayin').textContent = pillars.year.nayin;
  document.getElementById('month-nayin').textContent = pillars.month.nayin;
  document.getElementById('day-nayin').textContent = pillars.day.nayin;
  document.getElementById('hour-nayin').textContent = pillars.hour.nayin;
}

// æ˜¾ç¤ºäº”è¡Œåˆ†æ
function displayElementAnalysis(elements) {
  const total = elements.wood + elements.fire + elements.earth + elements.metal + elements.water;
  
  // æ›´æ–°è¿›åº¦æ¡
  document.getElementById('bar-wood').style.width = (elements.wood/total*100) + '%';
  document.getElementById('bar-fire').style.width = (elements.fire/total*100) + '%';
  document.getElementById('bar-earth').style.width = (elements.earth/total*100) + '%';
  document.getElementById('bar-metal').style.width = (elements.metal/total*100) + '%';
  document.getElementById('bar-water').style.width = (elements.water/total*100) + '%';
  
  // æ›´æ–°ç™¾åˆ†æ¯”
  document.getElementById('pct-wood').textContent = Math.round(elements.wood/total*100) + '%';
  document.getElementById('pct-fire').textContent = Math.round(elements.fire/total*100) + '%';
  document.getElementById('pct-earth').textContent = Math.round(elements.earth/total*100) + '%';
  document.getElementById('pct-metal').textContent = Math.round(elements.metal/total*100) + '%';
  document.getElementById('pct-water').textContent = Math.round(elements.water/total*100) + '%';
  
  document.getElementById('bazi-elements-balance').textContent = elements.analysis;
}

function showError(message) {
  const errorDiv = document.getElementById('error');
  errorDiv.textContent = message;
  errorDiv.style.display = 'block';
}
</script>
</body>
</html>

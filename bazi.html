<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>八字命理 · 5XLiving</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="icon" href="data:,">
  <style>
    /* 基础样式 */
    :root {
      --bg: #0b0f14; --card: #11161dcc; --line: #1f2a36; --text: #e8edf3; --muted: #98a7b7;
      --brand: #d4af37; --gold: #d4af37; --gold2: #f2d27a; --accent: #58b9ff;
      --radius: 14px; --shadow: 0 8px 30px rgba(0,0,0,.35);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      color: var(--text);
      background: var(--bg);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 16px;
    }

    /* 头部样式 */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: #0b0f14cc;
      border-bottom: 1px solid var(--line);
      backdrop-filter: saturate(140%) blur(12px);
    }

    .head-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      max-width: 1100px;
      margin: 0 auto;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--text);
    }

    .brand-badge {
      display: inline-grid;
      place-items: center;
      width: 34px;
      height: 34px;
      border-radius: 8px;
      background: linear-gradient(180deg, #0e1520, #0b1018);
      border: 1px solid #2a3546;
      font-weight: 800;
      color: var(--gold);
    }

    .title {
      font-family: "Noto Serif SC", serif;
      font-weight: 700;
      font-size: 1.1rem;
    }

    /* 卡片样式 */
    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 20px;
      margin: 16px 0;
      backdrop-filter: blur(10px);
    }

    .h2 {
      font-size: 1.2rem;
      margin: 0 0 16px;
      font-weight: 800;
      color: var(--gold2);
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .h2::before {
      content: "";
      width: 4px;
      height: 18px;
      background: var(--brand);
      border-radius: 2px;
    }

    /* 表单样式 */
    .row {
      display: grid;
      gap: 12px;
      margin: 12px 0;
    }

    @media (min-width: 768px) {
      .row.cols-3 {
        grid-template-columns: 1fr 1fr 1fr;
      }
    }

    input, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #243244;
      border-radius: 12px;
      background: #0e1520;
      color: var(--text);
      font-size: 15px;
      outline: none;
    }

    input::placeholder {
      color: #6f8092;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 20px;
      border-radius: 12px;
      border: 1px solid var(--gold);
      background: linear-gradient(180deg, #fff9e6, var(--gold));
      color: #191919;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.3);
    }

    .btn.block {
      display: block;
      width: 100%;
    }

    /* 错误提示 */
    .error-message {
      background: rgba(255, 90, 95, 0.1);
      border: 1px solid #ff5a5f;
      border-radius: 8px;
      padding: 12px;
      margin: 12px 0;
      display: none;
    }

    /* 结果区域 */
    #result {
      display: none;
    }

    .pillars {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 16px 0;
    }

    .pillar {
      background: #0f1624;
      border: 1px solid #253245;
      border-radius: 12px;
      padding: 16px 12px;
      text-align: center;
    }

    .pillar .tit {
      color: var(--muted);
      font-size: 0.85rem;
      margin-bottom: 8px;
    }

    .pillar .gz {
      font-size: 1.4rem;
      font-weight: 800;
      color: var(--gold2);
    }

    /* 五行进度条 */
    .bar-row {
      display: grid;
      grid-template-columns: 60px 1fr 60px;
      gap: 12px;
      align-items: center;
      margin: 8px 0;
    }

    .bar {
      height: 10px;
      background: #0d1420;
      border: 1px solid #233146;
      border-radius: 999px;
      overflow: hidden;
    }

    .bar i {
      display: block;
      height: 100%;
      background: linear-gradient(90deg, var(--gold2), var(--gold));
      width: 0%;
      transition: width 0.5s ease;
    }
  </style>
</head>
<body>
  <!-- 头部 -->
  <header class="site-header">
    <div class="head-inner">
      <a class="brand" href="#">
        <span class="brand-badge">5X</span>
        <span class="title">5xLiving · 八字简评</span>
      </a>
      <div class="lang">
        <label>语言</label>
        <select id="langSelect">
          <option value="zh-CN">简体中文</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <!-- 主要内容 -->
  <main class="container">
    <!-- 输入表单 -->
    <section class="card">
      <div class="h2">八字命理 · 快速排盘</div>
      
      <div class="row cols-3">
        <div>
          <label>姓名（可选）</label>
          <input id="name" placeholder="你的称呼" />
        </div>
        <div>
          <label>性别</label>
          <select id="gender">
            <option value="">不透露</option>
            <option value="male">男性</option>
            <option value="female">女性</option>
          </select>
        </div>
        <div>
          <label>历法</label>
          <select id="calendar">
            <option value="gregorian">阳历</option>
            <option value="lunar">农历</option>
          </select>
        </div>
      </div>

      <div class="row cols-3">
        <div>
          <label>出生日期</label>
          <input type="date" id="birthdate" />
        </div>
        <div>
          <label>出生时间</label>
          <div style="display: flex; gap: 10px; align-items: center;">
            <input type="time" id="birthtime" value="12:00" style="flex: 1;" />
            <label style="display: flex; align-items: center; gap: 6px; white-space: nowrap;">
              <input type="checkbox" id="timeUnknown" />
              <span>出生时间不详</span>
            </label>
          </div>
        </div>
        <div style="display: flex; align-items: flex-end;">
          <button class="btn block" id="genBtn">生成八字</button>
        </div>
      </div>

      <div id="error" class="error-message"></div>
    </section>

    <!-- 结果显示 -->
    <section id="result">
      <div class="card">
        <div class="h2">您的生辰八字命盘</div>
        <div class="pillars" id="bazi-pillars">
          <!-- 八字四柱将通过JS动态生成 -->
        </div>
        
        <table style="width: 100%; border-collapse: collapse; margin-top: 16px; background: #0f1624; border-radius: 8px; overflow: hidden;">
          <thead>
            <tr>
              <th style="padding: 12px; border: 1px solid #253245; background: rgba(212,175,55,.1); color: var(--gold2);"> </th>
              <th style="padding: 12px; border: 1px solid #253245; background: rgba(212,175,55,.1); color: var(--gold2);">年柱</th>
              <th style="padding: 12px; border: 1px solid #253245; background: rgba(212,175,55,.1); color: var(--gold2);">月柱</th>
              <th style="padding: 12px; border: 1px solid #253245; background: rgba(212,175,55,.1); color: var(--gold2);">日柱</th>
              <th style="padding: 12px; border: 1px solid #253245; background: rgba(212,175,55,.1); color: var(--gold2);">时柱</th>
            </tr>
          </thead>
          <tbody id="bazi-details">
            <!-- 八字详情将通过JS动态生成 -->
          </tbody>
        </table>
      </div>

      <!-- 五行分析 -->
      <div class="card">
        <div class="h2">五行能量分析</div>
        <div class="bar-row"><span>木</span><div class="bar"><i id="bar-wood"></i></div><span id="pct-wood">0%</span></div>
        <div class="bar-row"><span>火</span><div class="bar"><i id="bar-fire"></i></div><span id="pct-fire">0%</span></div>
        <div class="bar-row"><span>土</span><div class="bar"><i id="bar-earth"></i></div><span id="pct-earth">0%</span></div>
        <div class="bar-row"><span>金</span><div class="bar"><i id="bar-metal"></i></div><span id="pct-metal">0%</span></div>
        <div class="bar-row"><span>水</span><div class="bar"><i id="bar-water"></i></div><span id="pct-water">0%</span></div>
      </div>
    </section>
  </main>

  <script>
    // 简单的八字计算逻辑（示例）
    document.getElementById('genBtn').addEventListener('click', function() {
      const name = document.getElementById('name').value;
      const birthdate = document.getElementById('birthdate').value;
      const birthtime = document.getElementById('birthtime').value;
      const timeUnknown = document.getElementById('timeUnknown').checked;

      // 简单验证
      if (!birthdate) {
        showError('请选择出生日期');
        return;
      }

      // 模拟八字计算
      generateBazi(name, birthdate, birthtime, timeUnknown);
    });

    function showError(message) {
      const errorEl = document.getElementById('error');
      errorEl.textContent = message;
      errorEl.style.display = 'block';
      setTimeout(() => {
        errorEl.style.display = 'none';
      }, 5000);
    }

    function generateBazi(name, date, time, timeUnknown) {
      // 显示结果区域
      document.getElementById('result').style.display = 'block';

      // 模拟八字数据
      const pillars = [
        { title: '年柱', ganZhi: '甲子', element: '木' },
        { title: '月柱', ganZhi: '乙丑', element: '木' },
        { title: '日柱', ganZhi: '丙寅', element: '火' },
        { title: '时柱', ganZhi: timeUnknown ? '未知' : '丁卯', element: timeUnknown ? '未知' : '火' }
      ];

      // 更新四柱显示
      const pillarsContainer = document.getElementById('bazi-pillars');
      pillarsContainer.innerHTML = pillars.map(pillar => `
        <div class="pillar">
          <div class="tit">${pillar.title}</div>
          <div class="gz">${pillar.ganZhi}</div>
          <div class="tit">${pillar.element}</div>
        </div>
      `).join('');

      // 更新详细表格
      const detailsContainer = document.getElementById('bazi-details');
      detailsContainer.innerHTML = `
        <tr>
          <td style="padding: 12px; border: 1px solid #253245;">天干</td>
          <td style="padding: 12px; border: 1px solid #253245;">甲</td>
          <td style="padding: 12px; border: 1px solid #253245;">乙</td>
          <td style="padding: 12px; border: 1px solid #253245;">丙</td>
          <td style="padding: 12px; border: 1px solid #253245;">${timeUnknown ? '未知' : '丁'}</td>
        </tr>
        <tr>
          <td style="padding: 12px; border: 1px solid #253245;">地支</td>
          <td style="padding: 12px; border: 1px solid #253245;">子</td>
          <td style="padding: 12px; border: 1px solid #253245;">丑</td>
          <td style="padding: 12px; border: 1px solid #253245;">寅</td>
          <td style="padding: 12px; border: 1px solid #253245;">${timeUnknown ? '未知' : '卯'}</td>
        </tr>
      `;

      // 模拟五行百分比
      const elements = {
        wood: 30,
        fire: 25,
        earth: 20,
        metal: 15,
        water: 10
      };

      // 更新五行进度条
      Object.keys(elements).forEach(element => {
        const percentage = elements[element];
        document.getElementById(`bar-${element}`).style.width = `${percentage}%`;
        document.getElementById(`pct-${element}`).textContent = `${percentage}%`;
      });

      // 滚动到结果区域
      document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
    }

    // 设置默认日期为今天
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('birthdate').value = today;
    });
  </script>
</body>
</html>
